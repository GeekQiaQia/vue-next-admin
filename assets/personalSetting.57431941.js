var $=Object.defineProperty,j=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var V=(u,s,l)=>s in u?$(u,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[s]=l,h=(u,s)=>{for(var l in s||(s={}))R.call(s,l)&&V(u,l,s[l]);if(y)for(var l of y(s))I.call(s,l)&&V(u,l,s[l]);return u},S=(u,s)=>j(u,M(s));import{d as L,i as q,r as v,A as U,c as N,C as P,s as r,f as z,e as H,t,m as o,h as e,H as b,p as O,g as T,N as B}from"./vendor.6752bb16.js";import{S as G}from"./index.fc6d72d9.js";import{_ as J,b as K}from"./index.efa9042f.js";const Q=L({name:"PersonalSetting",setup(){const u=q(),s=v("left"),l=v(),C=U({userSwitch:!1,sysSwitch:!0,taskSwitch:!0}),g=U({email:"",nickname:"",desc:"",mobile:""}),A=v(),c=v(!1),F={email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740",trigger:"blur"},{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740",trigger:["blur","change"]}],nickname:{required:!0,message:"\u8BF7\u8F93\u5165\u6635\u79F0",trigger:["blur","change"]},desc:{required:!0,message:"\u8BF7\u8F93\u5165\u4E2A\u4EBA\u7B80\u4ECB",trigger:["blur","change"]},mobile:{required:!0,validator:(d,i,p)=>{i===""?p(new Error("\u624B\u673A\u53F7\u7801\u4E0D\u53EF\u4E3A\u7A7A\u54E6")):/^1[3-9]\d{9}$/.test(i)?p():p(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"))},trigger:["blur","change"]}};return N(()=>{}),S(h({handleBack:()=>{u.go(-1)},tabPosition:s,settingFormRef:l,settingForm:g,submitForm:()=>{l.value.validate(async d=>{if(d){try{c.value=!0;const i=h({},g),p=await G.postSetBasicInfo(i);console.log(p),c.value=!1,b({type:"success",message:p.data.message})}catch(i){console.error(i)}return!0}return!1})},resetForm:()=>{l.value.resetFields()},handleAvatarSuccess:(d,i)=>{A.value=URL.createObjectURL(i.raw)},beforeAvatarUpload:d=>{if(!/(gif|png|jpg|jpeg)$/i.test(d.type))return b({message:"\u4E0A\u4F20\u5934\u50CF\u56FE\u7247\u53EA\u80FD\u662Fgif|png|jpg|jpeg \u683C\u5F0F!",type:"warning"}),!1;const i=d.size/1024/1024<2;return i||b.error("\u4E0A\u4F20\u5934\u50CF\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 2MB!"),i},rules:F,imageUrl:A},P(C)),{updateLoading:c})}}),n=u=>(O("data-v-4ff8d1ba"),u=u(),T(),u),W={class:"PersonalSetting"},X={class:"grid-content bg-purple-dark"},Y={class:"card-header"},Z=n(()=>e("i",{class:"el-icon-arrow-left"},null,-1)),x=B("\u8FD4\u56DE"),ee=n(()=>e("span",null,"\u4E2A\u4EBA\u8BBE\u7F6E",-1)),ue=n(()=>e("div",null,null,-1)),se=n(()=>e("div",{class:"set-title"},[e("span",null,"\u57FA\u672C\u8BBE\u7F6E")],-1)),te={class:"set-info"},oe={class:"form-info"},le=B("\u66F4\u65B0\u57FA\u672C\u4FE1\u606F"),ae=B("\u91CD\u7F6E"),ne={class:"avatar"},ie=n(()=>e("div",{class:"preview"},[e("span",null,"\u5934\u50CF"),e("img",{src:K})],-1)),re=n(()=>e("i",{class:"el-icon-upload"},null,-1)),ce=B("\u66F4\u6362\u5934\u50CF"),de=n(()=>e("div",{class:"set-title"},[e("span",null,"\u5B89\u5168\u8BBE\u7F6E")],-1)),pe=n(()=>e("div",{class:"secure-item"},[e("div",{class:"secure-info"},[e("span",{class:"secure-key"},"\u8D26\u6237\u5BC6\u7801"),e("span",{class:"secure-value"},"\u5F53\u524D\u5BC6\u7801\u5F3A\u5EA6\uFF1A\u5F3A")]),e("div",{class:"opera-btn"},[e("span",null,"\u4FEE\u6539")])],-1)),Fe=n(()=>e("div",{class:"secure-item"},[e("div",{class:"secure-info"},[e("span",{class:"secure-key"},"\u5BC6\u4FDD\u624B\u673A"),e("span",{class:"secure-value"},"\u5DF2\u7ED1\u5B9A\u624B\u673A\uFF1A138****2234")]),e("div",{class:"opera-btn"},[e("span",null,"\u4FEE\u6539")])],-1)),me=n(()=>e("div",{class:"secure-item"},[e("div",{class:"secure-info"},[e("span",{class:"secure-key"},"\u7ED1\u5B9A\u90AE\u7BB1"),e("span",{class:"secure-value"},"\u5DF2\u7ED1\u5B9A\u90AE\u7BB1\uFF1Ageek****@outlook.com")]),e("div",{class:"opera-btn"},[e("span",null,"\u4FEE\u6539")])],-1)),_e=n(()=>e("div",{class:"set-title"},[e("span",null,"\u65B0\u6D88\u606F\u901A\u77E5")],-1)),Ee={class:"secure-item"},fe=n(()=>e("div",{class:"secure-info"},[e("span",{class:"secure-key"},"\u8D26\u6237\u5BC6\u7801"),e("span",{class:"secure-value"},"\u7528\u6237\u4FE1\u606F\u5C06\u4EE5\u7CFB\u7EDF\u5185\u90E8\u6E20\u9053\u901A\u77E5")],-1)),ve={class:"secure-item"},Be=n(()=>e("div",{class:"secure-info"},[e("span",{class:"secure-key"},"\u7CFB\u7EDF\u6D88\u606F"),e("span",{class:"secure-value"},"\u7CFB\u7EDF\u6D88\u606F\u5C06\u4EE5\u7CFB\u7EDF\u5185\u90E8\u6E20\u9053\u901A\u77E5")],-1)),ge={class:"secure-item"},Ae=n(()=>e("div",{class:"secure-info"},[e("span",{class:"secure-key"},"\u4EE3\u529E\u4EFB\u52A1"),e("span",{class:"secure-value"},"\u4EE3\u529E\u4EFB\u52A1\u5C06\u4EE5\u7CFB\u7EDF\u5185\u90E8\u6E20\u9053\u901A\u77E5")],-1));function he(u,s,l,C,g,A){const c=r("el-button"),m=r("el-input"),F=r("el-form-item"),D=r("el-form"),w=r("el-upload"),_=r("el-tab-pane"),E=r("el-switch"),f=r("el-tooltip"),d=r("el-tabs"),i=r("el-card"),p=r("el-col"),k=r("el-row");return z(),H("div",W,[t(k,null,{default:o(()=>[t(p,{offset:1,span:22},{default:o(()=>[e("div",X,[t(i,{class:"box-card"},{header:o(()=>[e("div",Y,[t(c,{class:"button",type:"text",onClick:u.handleBack},{default:o(()=>[Z,x]),_:1},8,["onClick"]),ee,ue])]),default:o(()=>[t(d,{"tab-position":u.tabPosition},{default:o(()=>[t(_,{label:"\u57FA\u672C\u8BBE\u7F6E"},{default:o(()=>[se,e("div",te,[e("div",oe,[t(D,{ref:"settingFormRef",model:u.settingForm,rules:u.rules,"label-width":"100px",class:"demo-ruleForm"},{default:o(()=>[t(F,{label:"\u90AE\u7BB1",prop:"email"},{default:o(()=>[t(m,{modelValue:u.settingForm.email,"onUpdate:modelValue":s[0]||(s[0]=a=>u.settingForm.email=a),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,8,["modelValue"])]),_:1}),t(F,{label:"\u6635\u79F0",prop:"nickname"},{default:o(()=>[t(m,{modelValue:u.settingForm.nickname,"onUpdate:modelValue":s[1]||(s[1]=a=>u.settingForm.nickname=a),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",maxlength:"10"},null,8,["modelValue"])]),_:1}),t(F,{label:"\u4E2A\u4EBA\u7B80\u4ECB",prop:"desc"},{default:o(()=>[t(m,{modelValue:u.settingForm.desc,"onUpdate:modelValue":s[2]||(s[2]=a=>u.settingForm.desc=a),type:"textarea",placeholder:"\u4E2A\u4EBA\u7B80\u4ECB",maxlength:"120"},null,8,["modelValue"])]),_:1}),t(F,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"mobile"},{default:o(()=>[t(m,{modelValue:u.settingForm.mobile,"onUpdate:modelValue":s[3]||(s[3]=a=>u.settingForm.mobile=a),placeholder:"\u8BF7\u8F93\u516511\u4F4D\u5927\u9646\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),t(F,null,{default:o(()=>[t(c,{type:"primary",loading:u.updateLoading,onClick:s[4]||(s[4]=a=>u.submitForm())},{default:o(()=>[le]),_:1},8,["loading"]),t(c,{onClick:s[5]||(s[5]=a=>u.resetForm())},{default:o(()=>[ae]),_:1})]),_:1})]),_:1},8,["model","rules"])]),e("div",ne,[ie,t(w,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":u.handleAvatarSuccess,"before-upload":u.beforeAvatarUpload},{default:o(()=>[t(c,{style:{"margin-left":"10px"},size:"small",type:"success"},{default:o(()=>[re,ce]),_:1})]),_:1},8,["on-success","before-upload"])])])]),_:1}),t(_,{label:"\u5B89\u5168\u8BBE\u7F6E"},{default:o(()=>[de,pe,Fe,me]),_:1}),t(_,{label:"\u65B0\u6D88\u606F\u901A\u77E5"},{default:o(()=>[_e,e("div",Ee,[fe,t(f,{content:"\u662F\u5426\u5F00\u542F\u7528\u6237\u4FE1\u606F: ",placement:"top"},{default:o(()=>[t(E,{modelValue:u.userSwitch,"onUpdate:modelValue":s[6]||(s[6]=a=>u.userSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),e("div",ve,[Be,t(f,{content:"\u662F\u5426\u5F00\u542F\u7CFB\u7EDF\u6D88\u606F: ",placement:"top"},{default:o(()=>[t(E,{modelValue:u.sysSwitch,"onUpdate:modelValue":s[7]||(s[7]=a=>u.sysSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),e("div",ge,[Ae,t(f,{content:"\u662F\u5426\u5F00\u542F\u4EE3\u529E\u4EFB\u52A1\u6D88\u606F: ",placement:"top"},{default:o(()=>[t(E,{modelValue:u.taskSwitch,"onUpdate:modelValue":s[8]||(s[8]=a=>u.taskSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["tab-position"])]),_:1})])]),_:1})]),_:1})])}var ke=J(Q,[["render",he],["__scopeId","data-v-4ff8d1ba"]]);export{ke as default};
