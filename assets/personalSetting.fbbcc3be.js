var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,l,s)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,c=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&o(e,l,a[l]);if(s)for(var l of s(a))r.call(a,l)&&o(e,l,a[l]);return e};import{d as i,n,r as u,p as d,b as p,v as m,i as v,g as f,h as g,w as b,m as h,N as y,L as _,M as k,a0 as w,R as V,aF as j,ah as F,ai as S,b7 as U,a8 as x,aj as O,X as P,a9 as L,az as R,ax as q,ay as A}from"./vendor.4e893dbb.js";/* empty css               *//* empty css                  *//* empty css                    */import{S as B}from"./index.6d5159ac.js";import{_ as C,b as z}from"./index.956e7b2c.js";const E=i({name:"PersonalSetting",setup(){const e=n(),s=u("left"),t=u(),r=d({userSwitch:!1,sysSwitch:!0,taskSwitch:!0}),o=d({email:"",nickname:"",desc:"",mobile:""}),i=u(),v=u(!1),f={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],nickname:{required:!0,message:"请输入昵称",trigger:["blur","change"]},desc:{required:!0,message:"请输入个人简介",trigger:["blur","change"]},mobile:{required:!0,validator:(e,a,l)=>{if(""===a)l(new Error("手机号码不可为空哦"));else{/^1[3-9]\d{9}$/.test(a)?l():l(new Error("请输入正确的手机号码"))}},trigger:["blur","change"]}};p((()=>{}));return g=c({handleBack:()=>{e.go(-1)},tabPosition:s,settingFormRef:t,settingForm:o,submitForm:()=>{t.value.validate((async e=>{if(e){try{v.value=!0;const e=c({},o),a=await B.postSetBasicInfo(e);console.log(a),v.value=!1,y({type:"success",message:a.data.message})}catch(a){console.error(a)}return!0}return!1}))},resetForm:()=>{t.value.resetFields()},handleAvatarSuccess:(e,a)=>{i.value=URL.createObjectURL(a.raw)},beforeAvatarUpload:e=>{if(!/(gif|png|jpg|jpeg)$/i.test(e.type))return y({message:"上传头像图片只能是gif|png|jpg|jpeg 格式!",type:"warning"}),!1;const a=e.size/1024/1024<2;return a||y.error("上传头像图片大小不能超过 2MB!"),a},rules:f,imageUrl:i},m(r)),a(g,l({updateLoading:v}));var g}}),I=e=>(_("data-v-4ff8d1ba"),e=e(),k(),e),M={class:"PersonalSetting"},$={class:"grid-content bg-purple-dark"},D={class:"card-header"},N=I((()=>h("i",{class:"el-icon-arrow-left"},null,-1))),X=w("返回"),G=I((()=>h("span",null,"个人设置",-1))),H=I((()=>h("div",null,null,-1))),J=I((()=>h("div",{class:"set-title"},[h("span",null,"基本设置")],-1))),K={class:"set-info"},Q={class:"form-info"},T=w("更新基本信息"),W=w("重置"),Y={class:"avatar"},Z=I((()=>h("div",{class:"preview"},[h("span",null,"头像"),h("img",{src:z})],-1))),ee=I((()=>h("i",{class:"el-icon-upload"},null,-1))),ae=w("更换头像"),le=I((()=>h("div",{class:"set-title"},[h("span",null,"安全设置")],-1))),se=I((()=>h("div",{class:"secure-item"},[h("div",{class:"secure-info"},[h("span",{class:"secure-key"},"账户密码"),h("span",{class:"secure-value"},"当前密码强度：强")]),h("div",{class:"opera-btn"},[h("span",null,"修改")])],-1))),te=I((()=>h("div",{class:"secure-item"},[h("div",{class:"secure-info"},[h("span",{class:"secure-key"},"密保手机"),h("span",{class:"secure-value"},"已绑定手机：138****2234")]),h("div",{class:"opera-btn"},[h("span",null,"修改")])],-1))),re=I((()=>h("div",{class:"secure-item"},[h("div",{class:"secure-info"},[h("span",{class:"secure-key"},"绑定邮箱"),h("span",{class:"secure-value"},"已绑定邮箱：geek****@outlook.com")]),h("div",{class:"opera-btn"},[h("span",null,"修改")])],-1))),oe=I((()=>h("div",{class:"set-title"},[h("span",null,"新消息通知")],-1))),ce={class:"secure-item"},ie=I((()=>h("div",{class:"secure-info"},[h("span",{class:"secure-key"},"账户密码"),h("span",{class:"secure-value"},"用户信息将以系统内部渠道通知")],-1))),ne={class:"secure-item"},ue=I((()=>h("div",{class:"secure-info"},[h("span",{class:"secure-key"},"系统消息"),h("span",{class:"secure-value"},"系统消息将以系统内部渠道通知")],-1))),de={class:"secure-item"},pe=I((()=>h("div",{class:"secure-info"},[h("span",{class:"secure-key"},"代办任务"),h("span",{class:"secure-value"},"代办任务将以系统内部渠道通知")],-1)));var me=C(E,[["render",function(e,a,l,s,t,r){const o=V,c=j,i=F,n=S,u=U,d=x,p=O,m=P,y=L,_=R,k=q,w=A;return v(),f("div",M,[g(w,null,{default:b((()=>[g(k,{offset:1,span:22},{default:b((()=>[h("div",$,[g(_,{class:"box-card"},{header:b((()=>[h("div",D,[g(o,{class:"button",type:"text",onClick:e.handleBack},{default:b((()=>[N,X])),_:1},8,["onClick"]),G,H])])),default:b((()=>[g(y,{"tab-position":e.tabPosition},{default:b((()=>[g(d,{label:"基本设置"},{default:b((()=>[J,h("div",K,[h("div",Q,[g(n,{ref:"settingFormRef",model:e.settingForm,rules:e.rules,"label-width":"100px",class:"demo-ruleForm"},{default:b((()=>[g(i,{label:"邮箱",prop:"email"},{default:b((()=>[g(c,{modelValue:e.settingForm.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.settingForm.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),g(i,{label:"昵称",prop:"nickname"},{default:b((()=>[g(c,{modelValue:e.settingForm.nickname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.settingForm.nickname=a),placeholder:"请输入昵称",maxlength:"10"},null,8,["modelValue"])])),_:1}),g(i,{label:"个人简介",prop:"desc"},{default:b((()=>[g(c,{modelValue:e.settingForm.desc,"onUpdate:modelValue":a[2]||(a[2]=a=>e.settingForm.desc=a),type:"textarea",placeholder:"个人简介",maxlength:"120"},null,8,["modelValue"])])),_:1}),g(i,{label:"联系电话",prop:"mobile"},{default:b((()=>[g(c,{modelValue:e.settingForm.mobile,"onUpdate:modelValue":a[3]||(a[3]=a=>e.settingForm.mobile=a),placeholder:"请输入11位大陆手机号码"},null,8,["modelValue"])])),_:1}),g(i,null,{default:b((()=>[g(o,{type:"primary",loading:e.updateLoading,onClick:a[4]||(a[4]=a=>e.submitForm())},{default:b((()=>[T])),_:1},8,["loading"]),g(o,{onClick:a[5]||(a[5]=a=>e.resetForm())},{default:b((()=>[W])),_:1})])),_:1})])),_:1},8,["model","rules"])]),h("div",Y,[Z,g(u,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},{default:b((()=>[g(o,{style:{"margin-left":"10px"},size:"small",type:"success"},{default:b((()=>[ee,ae])),_:1})])),_:1},8,["on-success","before-upload"])])])])),_:1}),g(d,{label:"安全设置"},{default:b((()=>[le,se,te,re])),_:1}),g(d,{label:"新消息通知"},{default:b((()=>[oe,h("div",ce,[ie,g(m,{content:"是否开启用户信息: ",placement:"top"},{default:b((()=>[g(p,{modelValue:e.userSwitch,"onUpdate:modelValue":a[6]||(a[6]=a=>e.userSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})]),h("div",ne,[ue,g(m,{content:"是否开启系统消息: ",placement:"top"},{default:b((()=>[g(p,{modelValue:e.sysSwitch,"onUpdate:modelValue":a[7]||(a[7]=a=>e.sysSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})]),h("div",de,[pe,g(m,{content:"是否开启代办任务消息: ",placement:"top"},{default:b((()=>[g(p,{modelValue:e.taskSwitch,"onUpdate:modelValue":a[8]||(a[8]=a=>e.taskSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})])])),_:1})])),_:1},8,["tab-position"])])),_:1})])])),_:1})])),_:1})])}],["__scopeId","data-v-4ff8d1ba"]]);export{me as default};
