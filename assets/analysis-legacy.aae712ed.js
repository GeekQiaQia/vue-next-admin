!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return l=t.done,t},e:function(t){u=!0,a=t},f:function(){try{l||null==i.return||i.return()}finally{if(u)throw a}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=document.createElement("style");r.innerHTML=".analysis-info[data-v-362a0ad8]{color:#000;padding:0 20px}.analysis-info .indicators[data-v-362a0ad8]{font-family:PingFangSC-Regular;display:flex}.analysis-info .indicators .indicator[data-v-362a0ad8]{padding:16px}.analysis-info .indicators .indicator .title[data-v-362a0ad8]{font-size:12px;color:#000;opacity:.65}.analysis-info .indicators .indicator .measure[data-v-362a0ad8]{margin-top:4px;display:flex;align-items:baseline}.analysis-info .indicators .indicator .measure .value[data-v-362a0ad8]{margin-right:12px;opacity:.85;font-family:Helvetica;font-size:24px;color:#000}.analysis-info .indicators .indicator .measure .unit[data-v-362a0ad8]{font-size:12px;color:#333;opacity:.65}.analysis-info .indicators .indicator .compare[data-v-362a0ad8]{display:flex;align-items:baseline}.analysis-info .indicators .indicator .compare .name[data-v-362a0ad8]{color:#666;margin-right:4px}.analysis-info .indicators .indicator .compare .icon[data-v-362a0ad8]{width:0;height:0;border-left:3.5px solid transparent;border-right:3.5px solid transparent;border-bottom:9px solid #000;margin-right:4px}.analysis-info .indicators .indicator .compare .icon.up[data-v-362a0ad8]{transform:rotate(0);color:#f5684a;border-bottom-color:#f5684a}.analysis-info .indicators .indicator .compare .icon.down[data-v-362a0ad8]{transform:rotate(180deg);color:#28a995;border-bottom-color:#28a995}.analysis-info .indicators .indicator .compare .value.up[data-v-362a0ad8]{color:#f5684a}.analysis-info .indicators .indicator .compare .value.down[data-v-362a0ad8]{color:#28a995}.analysis-info .info[data-v-362a0ad8]{text-align:left;margin-bottom:20px;font-size:12px}.analysis-info .echart-container .echart[data-v-362a0ad8]{background:#100c2a;border:1px solid #fff;margin:10px}.analysis-info .echart-container .bottom-chart[data-v-362a0ad8]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.el-card__body[data-v-362a0ad8]{padding:0!important}",document.head.appendChild(r),System.register(["./index-legacy.fffb79cc.js","./vendor-legacy.dc16fb0f.js"],(function(n){"use strict";var r,o,a,l,u,s,c,f,d,p,h,g,v,y,m,x,b,F,w,A,S,k,M,D,O,E,C,z,$,_,R,T,P,I,B,W,L,j,N,V,q,G,H,X,Y,U,Z,K,Q,J,tt,et,nt,it,rt,ot,at,lt,ut,st,ct,ft,dt,pt,ht,gt,vt,yt,mt,xt,bt,Ft;return{setters:[function(t){r=t.a,o=t.g,a=t.i,l=t.m,u=t.b,s=t.s,c=t.c,f=t.d,d=t.e,p=t.f,h=t.h,g=t.j,v=t.k,y=t.n,m=t.v,x=t.o,b=t.C,F=t.E,w=t.p,A=t.q,S=t.u,k=t.t,M=t.w,D=t.x,O=t.y,E=t.A,C=t.z,z=t.B,$=t.D,_=t.F,R=t.G,T=t.H,P=t.U,I=t.I,B=t.J,W=t.K,L=t.V,j=t.L,N=t.M,V=t.r,q=t.T,G=t.N,H=t.O,X=t.P,Y=t.Q,U=t.R,Z=t.S,K=t.W,Q=t.X,J=t.Y,tt=t.Z,et=t._,nt=t.$,it=t.a0,rt=t.a1,ot=t.a2,at=t.a3,lt=t.a4,ut=t.a5,st=t.a6,ct=t.l},function(t){ft=t.d,dt=t.r,pt=t.e,ht=t.p,gt=t.a,vt=t.i,yt=t.o,mt=t.c,xt=t.b,bt=t.w,Ft=t.A}],execute:function(){var wt,At=regeneratorRuntime.mark(au);function St(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function kt(t,e){var n={};return null!==t&&"object"===i(t)&&e.forEach((function(e){var i=t[e];void 0!==i&&(n[e]=i)})),n}function Mt(t,e){return e?r(e,(function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)}),t):t}
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation.

            Permission to use, copy, modify, and/or distribute this software for any
            purpose with or without fee is hereby granted.

            THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
            REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
            AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
            INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
            LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
            OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
            PERFORMANCE OF THIS SOFTWARE.
            ***************************************************************************** */var Dt=function(t,e){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ot(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Et,Ct=function(){return(Ct=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function zt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function $t(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,r++)i[r]=o[a];return i}!function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(Et||(Et={}));var _t="AntV/G2Plot";function Rt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=0;return _t+": "+t.replace(/%s/g,(function(){return""+e[i++]}))}function Tt(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e||console[t](Rt.apply(void 0,$t([n],i)))}function Pt(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function It(t,e){return t.geometries.find((function(t){return t.type===e}))}function Bt(t){return r(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function Wt(t){return o(t,["views","length"],0)<=0?Bt(t):r(t.views,(function(t,e){return t.concat(Wt(e))}),Bt(t))}function Lt(t,e){return t.views.find((function(t){return t.id===e}))}function jt(t){var e=t.parent;return e?e.views:[]}function Nt(t){return jt(t).filter((function(e){return e!==t}))}function Vt(t){if(!a(t,"Object"))return t;var e=Ct({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}function qt(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var p,h,g,v=function(t,e,n,i){var r,o,a,p,h=[],g=!!i;if(g){a=[1/0,1/0],p=[-1/0,-1/0];for(var v=0,y=t.length;v<y;v++){var m=t[v];a=l([0,0],a,m),p=u([0,0],p,m)}a=l([0,0],a,i[0]),p=u([0,0],p,i[1])}v=0;for(var x=t.length;v<x;v++){if(m=t[v],n)r=t[v?v-1:x-1],o=t[(v+1)%x];else{if(0===v||v===x-1){h.push(m);continue}r=t[v-1],o=t[v+1]}var b=[0,0];b=s(b,o,r),b=c(b,b,e);var F=f(m,r),w=f(m,o),A=F+w;0!==A&&(F/=A,w/=A);var S=c([0,0],b,-F),k=c([0,0],b,w),M=d([0,0],m,S),D=d([0,0],m,k);g&&(M=u([0,0],M,a),M=l([0,0],M,p),D=u([0,0],D,a),D=l([0,0],D,p)),h.push(M),h.push(D)}return n&&h.push(h.shift()),h}(r,.4,i,n),y=r.length,m=[];for(o=0;o<y-1;o++)p=v[2*o],h=v[2*o+1],g=r[o+1],m.push(["C",p[0],p[1],h[0],h[1],g[0],g[1]]);return i&&(p=v[y],h=v[y+1],g=r[0],m.push(["C",p[0],p[1],h[0],h[1],g[0],g[1]])),m}var Gt={}.toString,Ht=function(t,e){return Gt.call(t)==="[object "+e+"]"},Xt=function(t){return Ht(t,"Array")},Yt=function(t){if(!function(t){return"object"===i(t)&&null!==t}(t)||!Ht(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Ut=function t(e,n,i,r){for(var o in i=i||0,r=r||5,n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o];a?Yt(a)?(Yt(e[o])||(e[o]={}),i<r?t(e[o],a,i+1,r):e[o]=n[o]):Xt(a)?(e[o]=[],e[o]=e[o].concat(a)):e[o]=a:e[o]=a}},Zt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)Ut(t,e[i]);return t};function Kt(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function Qt(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];o(t,"fill")&&(e.color=t.fill);var i=kt(t,n),r=i.shadowColor,a=i.shadowBlur,l=void 0===a?0:a,u=i.shadowOffsetX,s=void 0===u?0:u,c=i.shadowOffsetY,f=void 0===c?0:c;e["text-shadow"]=""+[r,s+"px",f+"px",l+"px"].join(" ");var d=kt(t,n),p=d.stroke,h=d.lineWidth,y=void 0===h?0:h;return e["-webkit-text-stroke"]=""+[y+"px",p].join(" "),g(t,(function(t,i){["fontSize"].includes(i)&&v(t)?e[Kt(i)]=t+"px":i&&!n.includes(i)&&(e[Kt(i)]=""+t)})),e}function Jt(t,e){t.style["pointer-events"]="none",g(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var te,ee=function(t,e,n){var i=e.statistic,r=e.plotType,a=i.title,l=i.content;[a,l].forEach((function(e,i){if(e){var u="";u=0===i?l?"translate(-50%, -100%)":"translate(-50%, -50%)":a?"translate(-50%, 0)":"translate(-50%, -50%)";var s=p(e.style)?e.style(n):e.style;t.annotation().html(Ct({position:["50%","50%"],html:function(t,i){var a=i.getCoordinate(),l=0;if("pie"===r||"ring-progress"===r)l=a.getRadius()*a.innerRadius*2;else if("liquid"===r){var c=o(i.geometries,[0,"elements",0,"shape"]);if(c)l=c.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width}else l||(l=a.getWidth());Jt(t,Ct({width:l+"px",transform:u},Qt(s)));var f=i.getData();if(e.customHtml)return e.customHtml(t,i,n,f);var d=e.content;return e.formatter&&(d=e.formatter(n,f)),d?h(d)?d:""+d:"<div></div>"},key:(0===i?"top":"bottom")+"-statistic"},kt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};function ne(){return te||(te=document.createElement("canvas").getContext("2d")),te}var ie=y((function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=void 0===i?"sans-serif":i,o=e.fontWeight,a=e.fontStyle,l=e.fontVariant,u=ne();return u.font=[a,o,l,n+"px",r].join(" "),u.measureText(h(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),$t([t],m(e)).join("")}));function re(t){return"number"==typeof t&&!isNaN(t)}function oe(t,e){var n=t.filter((function(t){var n=o(t,[e]);return v(n)&&!isNaN(n)})),i=n.every((function(t){return o(t,[e])>=0})),r=n.every((function(t){return o(t,[e])<=0}));return i?{min:0}:r?{max:0}:{}}function ae(t,e,n,i,r){if(void 0===r&&(r=[]),!Array.isArray(t))return{nodes:[],links:[]};var o=[],a={},l=-1;return t.forEach((function(t){var u=t[e],s=t[n],c=t[i],f=kt(t,r);a[u]||(a[u]=Ct({id:++l,name:u},f)),a[s]||(a[s]=Ct({id:++l,name:s},f)),o.push(Ct({source:a[u].id,target:a[s].id,value:c},f))})),{nodes:Object.values(a),links:o}}function le(t,e){var n=x(t,(function(t){var n=t[e];return null===n||"number"==typeof n&&!isNaN(n)}));return Tt(Et.WARN,n.length===t.length,"illegal data existed in chart data."),n}var ue="en-US",se={};function ce(t,e){se[t]=e}function fe(t){return{get:function(e,n){return Mt(o(se[t],e)||o(se[ue],e)||o(se["en-US"],e)||e,n)}}}var de={},pe={},he={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1;t.default=function(){return"".concat(e++)}}(he);var ge={},ve={},ye={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var i=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(i,o)}),e)}}}(ye);var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.SensorTabIndex=me.SensorClassName=me.SizeSensorId=void 0;me.SizeSensorId="size-sensor-id";me.SensorClassName="size-sensor-object";me.SensorTabIndex="-1",Object.defineProperty(ve,"__esModule",{value:!0}),ve.createSensor=void 0;var xe,be=(xe=ye)&&xe.__esModule?xe:{default:xe},Fe=me;ve.createSensor=function(t){var e=void 0,n=[],i=(0,be.default)((function(){n.forEach((function(e){e(t)}))})),r=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(r){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",i),i()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",Fe.SensorClassName),e.setAttribute("tabindex",Fe.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(r)&&n.push(r)},destroy:r,unbind:function(t){var i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&r()}}};var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.createSensor=void 0;var Ae=function(t){return t&&t.__esModule?t:{default:t}}(ye);we.createSensor=function(t){var e=void 0,n=[],i=(0,Ae.default)((function(){n.forEach((function(e){e(t)}))})),r=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(r){var o;e||((o=new ResizeObserver(i)).observe(t),i(),e=o),-1===n.indexOf(r)&&n.push(r)},destroy:r,unbind:function(t){var i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&r()}}},Object.defineProperty(ge,"__esModule",{value:!0}),ge.createSensor=void 0;var Se=ve,ke="undefined"!=typeof ResizeObserver?we.createSensor:Se.createSensor;ge.createSensor=ke,Object.defineProperty(pe,"__esModule",{value:!0}),pe.removeSensor=pe.getSensor=void 0;var Me=function(t){return t&&t.__esModule?t:{default:t}}(he),De=ge,Oe=me;var Ee={};pe.getSensor=function(t){var e=t.getAttribute(Oe.SizeSensorId);if(e&&Ee[e])return Ee[e];var n=(0,Me.default)();t.setAttribute(Oe.SizeSensorId,n);var i=(0,De.createSensor)(t);return Ee[n]=i,i};pe.removeSensor=function(t){var e=t.element.getAttribute(Oe.SizeSensorId);t.element.removeAttribute(Oe.SizeSensorId),t.destroy(),e&&Ee[e]&&delete Ee[e]},Object.defineProperty(de,"__esModule",{value:!0}),de.ver=de.clear=ze=de.bind=void 0;var Ce=pe,ze=de.bind=function(t,e){var n=(0,Ce.getSensor)(t);return n.bind(e),function(){n.unbind(e)}};de.clear=function(t){var e=(0,Ce.getSensor)(t);(0,Ce.removeSensor)(e)};de.ver="1.0.1";var $e="data-chart-source-type",_e=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Re=function(t){function e(e,n){var i=t.call(this)||this;return i.type="base",i.container="string"==typeof e?document.getElementById(e):e,i.options=Zt({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return Ot(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height;this.chart=new b(Ct(Ct(Ct({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),kt(this.options,_e))),this.container.setAttribute($e,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=Pt(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null==e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=Zt({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=Bt(this.chart);g(i,(function(i){e(i.getData())&&i.setState(t,n)}))},e.prototype.getStates=function(){var t=Bt(this.chart),e=[];return g(t,(function(t){var n=t.getData(),i=t.getStates();g(i,(function(i){e.push({data:n,state:i,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute($e)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,i=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=i,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=ze(this.container,(function(){var e=Pt(t.container),n=e.width,i=e.height;n===t.chart.width&&i===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(F),Te=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function Pe(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,o=n.seriesField;return!1===i?e.legend(!1):(r||o)&&e.legend(r||o,i),t}function Ie(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function Be(t){var e=t.chart,n=t.options.interactions;return g(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function We(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),g(e.geometries,(function(t){t.animate(n)})),t}function Le(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function je(t){var e=t.chart,n=t.options.state;return n&&g(e.geometries,(function(t){t.state(n)})),t}function Ne(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function Ve(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function qe(t,e){return function(n){var i=n.chart,r=n.options,o={};return g(t,(function(t,e){o[e]=kt(t,Te)})),o=Zt({},e,r.meta,o),i.scale(o),n}}function Ge(t){return function(e){var n=e.chart,i=e.options,r=n.getController("annotation");return g($t(i.annotations||[],t||[]),(function(t){r.annotation(t)})),e}}function He(t){var e=t.chart,n=t.options,i=n.yAxis,r=n.limitInPlot,o=r;return w(i)&&A(r)&&(o=!!Object.values(kt(i,["min","max","minLimit","maxLimit"])).some((function(t){return!A(t)}))),e.limitInPlot=o,t}function Xe(t,e){if(!1===t)return{fields:!1};var n=o(t,"fields"),i=o(t,"formatter");return i&&!n&&(n=e),{fields:n,formatter:i}}function Ye(t,e){var n=t.xField,i=t.yField,r=t.colorField,o=t.shapeField,a=t.sizeField,l=t.styleField,u=t.rawFields,s=void 0===u?[]:u,c=[];if("color"===e)c=$t([r||n],s);else if("shape"===e)c=$t([o||n],s);else if("size"===e)c=$t([a||n],s);else{c=$t([n,i,r,o,a,l],s);var f=["x","y","color","shape","size","style"].indexOf(e),d=c[f];c.splice(f,1),c.unshift(d)}return S(c.filter((function(t){return!!t})))}function Ue(t,e){if(e)return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r={};return t.forEach((function(t,e){r[t]=n[e]})),delete r[void 0],e(r)}}function Ze(t){var e=t.chart,n=t.options,i=n.type,r=n.args,o=n.mapping,a=n.xField,l=n.yField,u=n.colorField,s=n.shapeField,c=n.sizeField,f=n.tooltipFields,d=n.label,g=n.state;if(!o)return t;var y=o.color,m=o.shape,x=o.size,b=o.style,F=o.tooltip,A=e[i](r).position(a+"*"+l);if(h(y))u?A.color(u,y):A.color(y);else if(p(y)){var S=Ye(n,"color");A.color(S.join("*"),Ue(S,y))}else u&&A.color(u,y);if(h(m))s?A.shape(s,[m]):A.shape(m);else if(p(m)){S=Ye(n,"shape");A.shape(S.join("*"),Ue(S,m))}else s&&A.shape(s,m);if(v(x))c?A.size(c,x):A.size(x);else if(p(x)){S=Ye(n,"size");A.size(S.join("*"),Ue(S,x))}else c&&A.size(c,x);if(p(b)){S=Ye(n,"style");A.style(S.join("*"),Ue(S,b))}else w(b)&&A.style(b);if(!1===f?A.tooltip(!1):k(f)||A.tooltip(f.join("*"),Ue(f,F)),!1===d)A.label(!1);else if(d){var M=d.callback,D=d.fields,O=zt(d,["callback","fields"]);A.label({fields:D||[l],callback:M,cfg:Vt(O)})}return g&&A.state(g),[a,l].filter((function(t){return t!==u})).forEach((function(t){e.legend(t,!1)})),Ct(Ct({},t),{ext:{geometry:A}})}function Ke(t){var e=t.options,n=e.area,i=e.xField,r=e.yField,o=e.seriesField,a=e.smooth,l=Xe(e.tooltip,[i,r,o]),u=l.fields,s=l.formatter;return n?Ze(Zt({},t,{options:{type:"area",colorField:o,tooltipFields:u,mapping:Ct({shape:a?"smooth":"area",tooltip:s},n)}})):t}function Qe(t){var e=t.options,n=e.line,i=e.stepType,r=e.xField,o=e.yField,a=e.seriesField,l=e.smooth,u=e.connectNulls,s=Xe(e.tooltip,[r,o,a]),c=s.fields,f=s.formatter;return n?Ze(Zt({},t,{options:{type:"line",colorField:a,tooltipFields:c,mapping:M({shape:i||(l?"smooth":"line"),tooltip:f},n),args:{connectNulls:u}}})):t}function Je(t){var e=t.options,n=e.point,i=e.xField,r=e.yField,o=e.seriesField,a=e.sizeField,l=e.shapeField,u=Xe(e.tooltip,[i,r,o,a,l]),s=u.fields,c=u.formatter;return n?Ze(Zt({},t,{options:{type:"point",colorField:o,shapeField:l,tooltipFields:s,mapping:Ct({tooltip:c},n)}})):t}function tn(t){var e=t.options,n=e.xField,i=e.yField,r=e.interval,o=e.seriesField,a=e.tooltip,l=e.minColumnWidth,u=e.maxColumnWidth,s=e.columnBackground,c=e.dodgePadding,f=e.intervalPadding,d=Xe(a,[n,i,o]),p=d.fields,h=d.formatter,g=(r?Ze(Zt({},t,{options:{type:"interval",colorField:o,tooltipFields:p,mapping:Ct({tooltip:h},r),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:l,maxColumnWidth:u,background:s}}})):t).ext;return function(t){var e=t.chart,n=t.options,i=t.ext,r=n.seriesField,o=n.isGroup,a=n.isStack,l=n.marginRatio,u=n.widthRatio,s=n.groupField,c=n.theme,f=[];return r&&(o&&f.push({type:"dodge",dodgeBy:s||r,marginRatio:l}),a&&f.push({type:"stack",marginRatio:l})),f.length&&(null==i?void 0:i.geometry)&&(null==i?void 0:i.geometry).adjust(f),A(u)||e.theme(Zt({},w(c)?c:D(c),{columnWidthRatio:u})),t}(Ct(Ct({},t),{ext:g}))}function en(t){var e=t.options,n=e.polygon,i=e.xField,r=e.yField,o=e.seriesField,a=Xe(e.tooltip,[i,r,o]),l=a.fields,u=a.formatter;return n?Ze(Zt({},t,{options:{type:"polygon",colorField:o,tooltipFields:l,mapping:Ct({tooltip:u},n)}})):t}function nn(t){var e=t.options,n=e.edge,i=e.xField,r=e.yField,o=e.seriesField,a=Xe(e.tooltip,[i,r,o]),l=a.fields,u=a.formatter;return n?Ze(Zt({},t,{options:{type:"edge",colorField:o,tooltipFields:l,mapping:Ct({tooltip:u},n)}})):t}function rn(t){var e=t.options,n=e.schema,i=e.xField,r=e.yField,o=e.seriesField,a=Xe(e.tooltip,[i,r,o]),l=a.fields,u=a.formatter;return n?Ze(Zt({},t,{options:{type:"schema",colorField:o,tooltipFields:l,mapping:Ct({tooltip:u},n)}})):t}function on(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.lineStyle,a=n.lineShape,l=n.point,u=n.seriesField,s=null==l?void 0:l.state;e.data(i);var c=Zt({},t,{options:{shapeField:u,line:{color:r,style:o,shape:a},point:l&&Ct({color:r,shape:"circle"},l),label:void 0}}),f=Zt({},c,{options:{tooltip:!1,state:s}});return Qe(c),Je(f),t}function an(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=i.xField,l=i.yField,u=i.data;return St(qe(((e={})[a]=r,e[l]=o,e),((n={})[a]={type:"cat"},n[l]=oe(u,l),n)))(t)}function ln(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(a,!1):e.axis(a,r),t}function un(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return i&&r?e.legend(r,i):!1===i&&e.legend(!1),t}function sn(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=It(e,"line");if(i){var a=i.callback,l=zt(i,["callback"]);o.label({fields:[r],callback:a,cfg:Ct({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Vt(l))})}else o.label(!1);return t}function cn(t){var e=t.chart;return t.options.isStack&&g(e.geometries,(function(t){t.adjust("stack")})),t}function fn(t){return St(on,an,cn,Le,ln,un,Ie,sn,Ne,Be,We,Ge(),He)(t)}var dn=Zt({},Re.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,i=t.geometries.filter((function(t){return"point"===t.type}));g(i,(function(t){g(t.elements,(function(t){var e=-1!==O(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.getView=function(){return this.context.view},e}(E);C("marker-active",pn),z("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var hn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return Ot(e,t),e.getDefaultOptions=function(){return dn},e.prototype.changeData=function(t){this.updateOption({data:t});an({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return fn},e}(Re);function gn(t,e,n,i){var o=r(t,(function(t,i){var r=i[n],o=t.has(r)?t.get(r):0,a=i[e];return o=re(a)?o+a:o,t.set(r,o),t}),new Map);return $(t,(function(t){var r,a=t[e],l=t[n],u=re(a)?a/o.get(l):0;return Ct(Ct({},t),((r={})[i]=u,r))}))}function vn(t,e,n,i,r){return r?gn(t,e,n,i):t}function yn(t){var e=t.chart,n=t.options,i=n.data,r=n.areaStyle,o=n.color,a=n.point,l=n.line,u=n.isPercent,s=n.xField,c=n.yField,f=n.tooltip,d=n.seriesField,p=n.startOnZero,h=null==a?void 0:a.state,g=vn(i,c,s,c,u);e.data(g);var v=u?Ct({formatter:function(t){return{name:t[d]||t[s],value:(100*Number(t[c])).toFixed(2)+"%"}}},f):f,y=Zt({},t,{options:{area:{color:o,style:r},line:l&&Ct({color:o},l),point:a&&Ct({color:o},a),tooltip:v,label:void 0,args:{startOnZero:p}}}),m=Zt({},y,{options:{tooltip:!1}}),x=Zt({},y,{options:{tooltip:!1,state:h}});return Ke(y),Qe(m),Je(x),t}function mn(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=It(e,"area");if(i){var a=i.callback,l=zt(i,["callback"]);o.label({fields:[r],callback:a,cfg:Ct({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Vt(l))})}else o.label(!1);return t}function xn(t){var e=t.chart,n=t.options,i=n.isStack,r=n.isPercent,o=n.seriesField;return(r||i)&&o&&g(e.geometries,(function(t){t.adjust("stack")})),t}function bn(t){return St(yn,an,xn,Le,ln,un,Ie,mn,Ne,Ge(),Be,We,He)(t)}var Fn=Zt({},Re.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),wn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return Ot(e,t),e.getDefaultOptions=function(){return Fn},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,i=e.xField,r=e.yField;an({chart:this.chart,options:this.options}),this.chart.changeData(vn(t,r,i,r,n))},e.prototype.getSchemaAdaptor=function(){return bn},e}(Re);function An(t,e){return v(t)&&v(e)?t===e?"100%":0===t?"∞":0===e?"-∞":(100*e/t).toFixed(2)+"%":"-"}function Sn(t,e){return Zt({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:An}},t)}function kn(t,e){return $(e.getModel().points,(function(e){return t.convertPoint(e)}))}function Mn(t,e,n){!function(t,e,n){var i=t.view,r=t.geometry,o=t.group,a=t.options,l=t.horizontal,u=a.offset,s=a.size,c=a.arrow,f=i.getCoordinate(),d=kn(f,e)[l?3:0],p=kn(f,n)[l?0:3],h=p.y-d.y,g=p.x-d.x;if("boolean"!=typeof c){var v,y=c.headSize,m=a.spacing;l?(g-y)/2<m?(m=Math.max(1,(g-y)/2),v=[[d.x+m,d.y-u],[d.x+m,d.y-u-s],[p.x-m,p.y-u-s/2]]):v=[[d.x+m,d.y-u],[d.x+m,d.y-u-s],[p.x-m-y,p.y-u-s],[p.x-m,p.y-u-s/2],[p.x-m-y,p.y-u]]:(h-y)/2<m?(m=Math.max(1,(h-y)/2),v=[[d.x+u,d.y+m],[d.x+u+s,d.y+m],[p.x+u+s/2,p.y-m]]):v=[[d.x+u,d.y+m],[d.x+u+s,d.y+m],[p.x+u+s,p.y-m-y],[p.x+u+s/2,p.y-m],[p.x+u,p.y-m-y]],o.addShape("polygon",{id:i.id+"-conversion-tag-arrow-"+r.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:Ct(Ct({},c.style||{}),{points:v})})}}(t,e,n),function(t,e,n){var i,r,o,a=t.view,l=t.geometry,u=t.group,s=t.options,c=t.field,f=t.horizontal,d=s.offset,p=s.size;if("boolean"!=typeof s.text){var h=a.getCoordinate(),g=(null===(i=s.text)||void 0===i?void 0:i.formatter)&&(null===(r=s.text)||void 0===r?void 0:r.formatter(e.getData()[c],n.getData()[c])),v=kn(h,e)[f?3:0],y=kn(h,n)[f?0:3],m=u.addShape("text",{id:a.id+"-conversion-tag-text-"+l.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:Ct(Ct({},(null===(o=s.text)||void 0===o?void 0:o.style)||{}),{text:g,x:f?(v.x+y.x)/2:v.x+d+p/2,y:f?v.y-d-p/2:(v.y+y.y)/2})});if(f){var x=y.x-v.x,b=m.getBBox().width;if(b>x){var F=b/g.length,w=Math.max(1,Math.ceil(x/F)-1),A=g.slice(0,w)+"...";m.attr("text",A)}}}}(t,e,n)}var Dn={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};function On(t){var e=t.options,n=e.legend,i=e.seriesField,r=e.isStack;return i?!1!==n&&(n=Ct({position:r?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function En(t){var e=t.chart,n=t.options,i=n.data,r=n.columnStyle,o=n.color,a=n.columnWidthRatio,l=n.isPercent,u=n.xField,s=n.yField,c=n.seriesField,f=n.tooltip;e.data(vn(i,s,u,s,l));var d=l?Ct({formatter:function(t){return{name:t[c]||t[u],value:(100*Number(t[s])).toFixed(2)+"%"}}},f):f;return tn(Zt({},t,{options:{widthRatio:a,tooltip:d,interval:{style:r,color:o}}})),t}function Cn(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=i.xField,l=i.yField,u=i.data,s=i.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return St(qe(((e={})[a]=r,e[l]=o,e),((n={})[a]={type:"cat"},n[l]=Ct(Ct({},oe(u,l)),s),n)))(t)}function zn(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(a,!1):e.axis(a,r),t}function $n(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return i&&r?e.legend(r,i):!1===i&&e.legend(!1),t}function _n(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=n.isRange,a=It(e,"interval");if(i){var l=i.callback,u=zt(i,["callback"]);a.label({fields:[r],callback:l,cfg:Ct({layout:(null==u?void 0:u.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Vt(o?Ct({content:function(t){var e;return null===(e=t[r])||void 0===e?void 0:e.join("-")}},u):u))})}else a.label(!1);return t}function Rn(t){var e=t.chart,n=t.options,i=n.tooltip,r=n.isGroup,o=n.isStack,a=n.groupField,l=n.data,u=n.xField,s=n.yField,c=n.seriesField;if(!1===i)e.tooltip(!1);else{var f=i;if(r&&o){var d=(null==f?void 0:f.formatter)||function(t){return{name:t[c]+" - "+t[a],value:t[s]}};f=Ct(Ct({},f),{customItems:function(t){var e=[];return g(t,(function(t){x(l,(function(e){return R(e,kt(t.data,[u,c]))})).forEach((function(n){e.push(Ct(Ct(Ct({},t),{value:n[s],data:n,mappingData:{_origin:n}}),d(n)))}))})),e}})}e.tooltip(f)}return t}function Tn(t,e){void 0===e&&(e=!1);var n,i=t.options,r=i.seriesField;return St(On,Le,je,En,Cn,zn,$n,Rn,Ne,Ve,_n,Be,We,Ge(),function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(i){var r=i.options,o=i.chart,a=r.conversionTag,l=r.theme;return a&&!n&&(o.theme(Zt({},w(l)?l:D(l),{columnWidthRatio:1/3})),o.annotation().shape({render:function(n,i){var r=n.addGroup({id:o.id+"-conversion-tag-group",name:"conversion-tag-group"}),l=_(o.geometries,(function(t){return"interval"===t.type})),u={view:i,geometry:l,group:r,field:t,horizontal:e,options:Sn(a,e)},s=e?l.elements:l.elements.slice().reverse();g(s,(function(t,e){e>0&&Mn(u,s[e-1],t)}))}})),i}}(i.yField,!e,!!r),(void 0===(n=!i.isStack)&&(n=!1),function(t){var e=t.chart,i=t.options.connectedArea,r=function(){e.removeInteraction(Dn.hover),e.removeInteraction(Dn.click)};if(!n&&i){var o=i.trigger||"hover";r(),e.interaction(Dn[o])}else r();return t}),He)(t)}z(Dn.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),z(Dn.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var Pn=Zt({},Re.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),In=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return Ot(e,t),e.getDefaultOptions=function(){return Pn},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,i=e.xField,r=e.isPercent;Cn({chart:this.chart,options:this.options}),this.chart.changeData(vn(t,n,i,n,r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Tn},e}(Re);function Bn(t){return t?t.slice().reverse():t}function Wn(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.xAxis,a=n.yAxis,l=n.barStyle,u=n.barWidthRatio,s=n.label,c=n.data,f=n.seriesField,d=n.isStack,p=n.minBarWidth,h=n.maxBarWidth;s&&!s.position&&(s.position="left",s.layout||(s.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var g=n.legend;f?!1!==g&&(g=Ct({position:d?"top-left":"right-top",reversed:!d},g||{})):g=!1,t.options.legend=g;var v=n.tooltip;return f&&!1!==v&&(v=Ct({reversed:!d},v||{})),t.options.tooltip=v,e.coordinate().transpose(),Tn({chart:e,options:Ct(Ct({},n),{label:s,xField:r,yField:i,xAxis:a,yAxis:o,columnStyle:l,columnWidthRatio:u,minColumnWidth:p,maxColumnWidth:h,columnBackground:n.barBackground,data:Bn(c)})},!0)}var Ln=Zt({},Re.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return Ot(e,t),e.getDefaultOptions=function(){return Ln},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,i=n.xField,r=n.yField,o=n.isPercent;Cn({chart:e,options:Ct(Ct({},n),{xField:r,yField:i})}),e.changeData(vn(Bn(t),i,r,i,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Wn},e}(Re),Nn=Zt({},Re.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function Vn(t,e){var n;switch(t){case"inner":return n="-30%",h(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,h(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function qn(t,e){return T(le(t,e),(function(t){return 0===t[e]}))}var Gn=[1,0,0,0,1,0,0,0,1];function Hn(t,e){var n=$t(e||Gn);return P.transform(n,t)}var Xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.getActiveElements=function(){var t=P.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,i=t.item,r=n.get("field");if(r)return e.geometries[0].elements.filter((function(t){return t.getModel().data[r]===i.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return I(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,i){var r=n[i],o=e.geometry.coordinate;if(o.isPolar&&o.isTransposed){var a=P.getAngle(e.getModel(),o),l=(a.startAngle+a.endAngle)/2,u=t,s=u*Math.cos(l),c=u*Math.sin(l);e.shape.setMatrix(Hn([["t",s,c]])),r.setMatrix(Hn([["t",s,c]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(E),Yn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,r=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var a=o(r,["data","data"]);if(r.type.match("legend-item")){var l=P.getDelegationObject(this.context),u=n.getGroupedFields()[0];if(l&&u){var s=l.item;a=n.getData().find((function(t){return t[u]===s.value}))}}if(a){var c=o(t,"annotations",[]),f=o(t,"statistic",{});n.getController("annotation").clear(!0),g(c,(function(t){"object"===i(t)&&n.annotation()[t.type](t)})),ee(n,{statistic:f,plotType:"pie"},a),n.render(!0)}},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();g(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(E),Un="pie-statistic";function Zn(t){var e=t.chart,n=t.options,i=n.data,r=n.angleField,o=n.colorField,a=n.color,l=n.pieStyle,u=le(i,r);if(qn(u,r)){var s="$$percentage$$";u=u.map((function(t){var e;return Ct(Ct({},t),((e={}).$$percentage$$=1/u.length,e))})),e.data(u),tn(Zt({},t,{options:{xField:"1",yField:s,seriesField:o,isStack:!0,interval:{color:a,style:l},args:{zIndexReversed:!0}}}))}else{e.data(u),tn(Zt({},t,{options:{xField:"1",yField:r,seriesField:o,isStack:!0,interval:{color:a,style:l},args:{zIndexReversed:!0}}}))}return t}function Kn(t){var e,n=t.chart,i=t.options,r=i.meta,o=i.colorField,a=Zt({},r);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function Qn(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:i,innerRadius:r,startAngle:o,endAngle:a}}),t}function Jn(t){var e=t.chart,n=t.options,i=n.label,r=n.colorField,o=n.angleField,a=e.geometries[0];if(i){var l=i.callback,u=Vt(zt(i,["callback"]));if(u.content){var s=u.content;u.content=function(t,n,i){var a=t[r],l=t[o],u=e.getScaleByField(o),c=null==u?void 0:u.scale(l);return p(s)?s(Ct(Ct({},t),{percent:c}),n,i):h(s)?Mt(s,{value:l,name:a,percentage:v(c)&&!A(l)?(100*c).toFixed(2)+"%":null}):s}}var c=u.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[u.type]:"pie-outer",f=u.layout?B(u.layout)?u.layout:[u.layout]:[];u.layout=(c?[{type:c}]:[]).concat(f),a.label({fields:r?[o,r]:[o],callback:l,cfg:Ct(Ct({},u),{offset:Vn(u.type,u.offset),type:"pie"})})}else a.label(!1);return t}function ti(t){var e=t.innerRadius,n=t.statistic,i=t.angleField,r=t.colorField,a=t.meta,l=fe(t.locale);if(e&&n){var u=Zt({},Nn.statistic,n),s=u.title,c=u.content;return!1!==s&&(s=Zt({},{formatter:function(t){return t?t[r]:A(s.content)?l.get(["statistic","total"]):s.content}},s)),!1!==c&&(c=Zt({},{formatter:function(t,e){var n=t?t[i]:function(t,e){var n=null;return g(t,(function(t){"number"==typeof t[e]&&(n+=t[e])})),n}(e,i),r=o(a,[i,"formatter"])||function(t){return t};return t||A(c.content)?r(n):c.content}},c)),Zt({},{statistic:{title:s,content:c}},t)}return t}function ei(t){var e=t.chart,n=ti(t.options),i=n.innerRadius,r=n.statistic;return e.getController("annotation").clear(!0),St(Ge())(t),i&&r&&ee(e,{statistic:r,plotType:"pie"}),t}function ni(t){var e=t.chart,n=t.options,i=n.tooltip,r=n.colorField,a=n.angleField,l=n.data;if(!1===i)e.tooltip(i);else if(e.tooltip(Zt({},i,{shared:!1})),qn(l,a)){var u=o(i,"fields"),s=o(i,"formatter");k(o(i,"fields"))&&(u=[r,a],s=s||function(t){return{name:t[r],value:W(t[a])}}),e.geometries[0].tooltip(u.join("*"),Ue(u,s))}return t}function ii(t){var e=t.chart,n=ti(t.options),i=n.interactions,r=n.statistic,o=n.annotations;return g(i,(function(t){var n,i;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var a=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(a=[{trigger:"element:mouseenter",action:"pie-statistic:change",arg:{statistic:r,annotations:o}}]),g(null===(i=t.cfg)||void 0===i?void 0:i.start,(function(t){a.push(Ct(Ct({},t),{arg:{statistic:r,annotations:o}}))})),e.interaction(t.type,Zt({},t.cfg,{start:a}))}else e.interaction(t.type,t.cfg||{})})),t}function ri(t){return St(Zn,Kn,Le,Qn,Pe,ni,Jn,je,ei,ii,We)(t)}C(Un,Yn),z("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),C("pie-legend",Xn),z("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var oi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return Ot(e,t),e.getDefaultOptions=function(){return Nn},e.prototype.changeData=function(t){this.chart.emit(L.BEFORE_CHANGE_DATA,j.fromData(this.chart,L.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,i=le(e.data,n),r=le(t,n);qn(i,n)||qn(r,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(r),ei({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(L.AFTER_CHANGE_DATA,j.fromData(this.chart,L.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ri},e}(Re);function ai(t){var e=t.chart,n=t.options,i=n.data,r=n.sectorStyle,o=n.color;return e.data(i),St(tn)(Zt({},t,{options:{marginRatio:1,interval:{style:r,color:o}}})),t}function li(t){var e=t.chart,n=t.options,i=n.label,r=n.xField,o=It(e,"interval");if(!1===i)o.label(!1);else if(w(i)){var a=i.callback,l=i.fields,u=zt(i,["callback","fields"]),s=u.offset,c=u.layout;(void 0===s||s>=0)&&(c=c?B(c)?c:[c]:[],u.layout=x(c,(function(t){return"limit-in-shape"!==t.type})),u.layout.length||delete u.layout),o.label({fields:l||[r],callback:a,cfg:Vt(u)})}else Tt(Et.WARN,null===i,"the label option must be an Object."),o.label({fields:[r]});return t}function ui(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return!1===i?e.legend(!1):r&&e.legend(r,i),t}function si(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:i,innerRadius:r,startAngle:o,endAngle:a}}),t}function ci(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return St(qe(((e={})[o]=i,e[a]=r,e)))(t)}function fi(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return i?e.axis(o,i):e.axis(o,!1),r?e.axis(a,r):e.axis(a,!1),t}function di(t){St(ai,ci,li,si,fi,ui,Ie,Be,We,Le,Ge(),je)(t)}var pi=Zt({},Re.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function hi(t){if(v(t))return[t,t,t,t];if(B(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function gi(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var i=hi(t),r=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[i[0]+r[0],i[1]+r[1],i[2]+r[2],i[3]+r[3]]}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}Ot(e,t),e.getDefaultOptions=function(){return pi},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return di}}(Re);var vi={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function yi(t,e){return function(t,e){var n=function(){var t=[256,256],e=Fi,n=Ai,i=wi,r=Si,o=ki,a=Ci,l=Math.random,u=[],s=1/0,c=bi,f=wi,d=$i,p={};function h(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=xi/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function g(e,n,i){for(var r,o,u,s=n.x,c=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=a(t),p=l()<.5?1:-1,h=-p;(r=d(h+=p))&&(o=~~r[0],u=~~r[1],!(Math.min(Math.abs(o),Math.abs(u))>=f));)if(n.x=s+o,n.y=c+u,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!i||!Di(n,e,t[0]))&&(!i||Ei(n,i))){for(var g=n.sprite,v=n.width>>5,y=t[0]>>5,m=n.x-(v<<4),x=127&m,b=32-x,F=n.y1-n.y0,w=void 0,A=(n.y+n.y0)*y+(m>>5),S=0;S<F;S++){w=0;for(var k=0;k<=v;k++)e[A+k]|=w<<b|(k<v?(w=g[S*v+k])>>>x:0);A+=y}return delete n.sprite,!0}return!1}return p.start=function(){var a=t[0],v=t[1],y=h(d()),m=p.board?p.board:zi((t[0]>>5)*t[1]),x=u.length,b=[],F=u.map((function(t,a,l){return t.text=c.call(this,t,a,l),t.font=e.call(this,t,a,l),t.style=f.call(this,t,a,l),t.weight=i.call(this,t,a,l),t.rotate=r.call(this,t,a,l),t.size=~~n.call(this,t,a,l),t.padding=o.call(this,t,a,l),t})).sort((function(t,e){return e.size-t.size})),w=-1,A=p.board?[{x:0,y:0},{x:a,y:v}]:null;function S(){for(var e=Date.now();Date.now()-e<s&&++w<x;){var n=F[w];n.x=a*(l()+.5)>>1,n.y=v*(l()+.5)>>1,Mi(y,n,F,w),n.hasText&&g(m,n,A)&&(b.push(n),A?p.hasImage||Oi(A,n):A=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}p._tags=b,p._bounds=A}return S(),p},p.createMask=function(e){var n=document.createElement("canvas"),i=t[0],r=t[1];if(i&&r){var o=i>>5,a=zi((i>>5)*r);n.width=i,n.height=r;var l=n.getContext("2d");l.drawImage(e,0,0,e.width,e.height,0,0,i,r);for(var u=l.getImageData(0,0,i,r).data,s=0;s<r;s++)for(var c=0;c<i;c++){var f=o*s+(c>>5),d=s*i+c<<2,h=u[d]>=250&&u[d+1]>=250&&u[d+2]>=250?1<<31-c%32:0;a[f]|=h}p.board=a,p.hasImage=!0}},p.timeInterval=function(t){s=null==t?1/0:t},p.words=function(t){u=t},p.size=function(e){t=[+e[0],+e[1]]},p.font=function(t){e=_i(t)},p.fontWeight=function(t){i=_i(t)},p.rotate=function(t){r=_i(t)},p.spiral=function(t){a=Ri[t]||t},p.fontSize=function(t){n=_i(t)},p.padding=function(t){o=_i(t)},p.random=function(t){l=_i(t)},p}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){A(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var i=n.start()._tags;i.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var r=e.size,o=r[0],a=r[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:a,opacity:0}),i}(t,e=N({},vi,e))}var mi=Math.PI/180,xi=2048;function bi(t){return t.text}function Fi(){return"serif"}function wi(){return"normal"}function Ai(t){return t.value}function Si(){return 90*~~(2*Math.random())}function ki(){return 1}function Mi(t,e,n,i){if(!e.sprite){var r=t.context,o=t.ratio;r.clearRect(0,0,2048/o,xi/o);var a=0,l=0,u=0,s=n.length;for(--i;++i<s;){e=n[i],r.save(),r.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var c=r.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*mi),p=Math.cos(e.rotate*mi),h=c*p,g=c*d,v=f*p,y=f*d;c=Math.max(Math.abs(h+y),Math.abs(h-y))+31>>5<<5,f=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else c=c+31>>5<<5;if(f>u&&(u=f),a+c>=2048&&(a=0,l+=u,u=0),l+f>=xi)break;r.translate((a+(c>>1))/o,(l+(f>>1))/o),e.rotate&&r.rotate(e.rotate*mi),r.fillText(e.text,0,0),e.padding&&(r.lineWidth=2*e.padding,r.strokeText(e.text,0,0)),r.restore(),e.width=c,e.height=f,e.xoff=a,e.yoff=l,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=c}for(var m=r.getImageData(0,0,2048/o,xi/o).data,x=[];--i>=0;)if((e=n[i]).hasText){for(var b=(c=e.width)>>5,F=(f=e.y1-e.y0,0);F<f*b;F++)x[F]=0;if(null==(a=e.xoff))return;l=e.yoff;for(var w=0,A=-1,S=0;S<f;S++){for(F=0;F<c;F++){var k=b*S+(F>>5),M=m[2048*(l+S)+(a+F)<<2]?1<<31-F%32:0;x[k]|=M,w|=M}w?A=S:(e.y0++,f--,S--,l++)}e.y1=e.y0+A,e.sprite=x.slice(0,(e.y1-e.y0)*b)}}}function Di(t,e,n){n>>=5;for(var i,r=t.sprite,o=t.width>>5,a=t.x-(o<<4),l=127&a,u=32-l,s=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<s;f++){i=0;for(var d=0;d<=o;d++)if((i<<u|(d<o?(i=r[f*o+d])>>>l:0))&e[c+d])return!0;c+=n}return!1}function Oi(t,e){var n=t[0],i=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>i.x&&(i.x=e.x+e.x1),e.y+e.y1>i.y&&(i.y=e.y+e.y1)}function Ei(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function Ci(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function zi(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function $i(){return document.createElement("canvas")}function _i(t){return p(t)?t:function(){return t}}var Ri={archimedean:Ci,rectangular:function(t){var e=4*t[0]/t[1],n=0,i=0;return function(t){var r=t<0?-1:1;switch(Math.sqrt(1+4*r*t)-r&3){case 0:n+=e;break;case 1:i+=4;break;case 2:n-=e;break;default:i-=4}return[n,i]}}};function Ti(t){var e=t.options,n=t.chart,i=n,r=i.width,o=i.height,a=i.padding,l=i.appendPadding,u=i.ele,s=e.data,c=e.imageMask,f=e.wordField,d=e.weightField,h=e.colorField,g=e.wordStyle,v=e.timeInterval,y=e.random,m=e.spiral,x=e.autoFit,b=void 0===x||x,F=e.placementStrategy;if(!s||!s.length)return[];var w,A=g.fontFamily,S=g.fontWeight,k=g.padding,M=g.fontSize,D=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"==typeof t&&!isNaN(t)}))}(s,d),O=[(w=D,Math.min.apply(Math,w)),Wi(D)],E=s.map((function(t){return{text:t[f],value:t[d],color:t[h],datum:t}})),C={imageMask:c,font:A,fontSize:Ii(M,O),fontWeight:S,size:Pi({width:r,height:o,padding:a,appendPadding:l,autoFit:b,container:u}),padding:k,timeInterval:v,random:y,spiral:m,rotate:Bi(e)};if(p(F)){var z=E.map((function(t,e,i){return Ct(Ct(Ct({},t),{hasText:!!t.text,font:_i(C.font)(t,e,i),weight:_i(C.fontWeight)(t,e,i),rotate:_i(C.rotate)(t,e,i),size:_i(C.fontSize)(t,e,i),style:"normal"}),F.call(n,t,e,i))}));return z.push({text:"",value:0,x:0,y:0,opacity:0}),z.push({text:"",value:0,x:C.size[0],y:C.size[1],opacity:0}),z}return yi(E,C)}function Pi(t){var e=t.width,n=t.height,i=t.container,r=t.autoFit,o=t.padding,a=t.appendPadding;if(r){var l=Pt(i);e=l.width,n=l.height}e=e||400,n=n||400;var u=function(t){var e=hi(t.padding),n=hi(t.appendPadding),i=e[0]+n[0],r=e[1]+n[1],o=e[2]+n[2],a=e[3]+n[3];return[i,r,o,a]}({padding:o,appendPadding:a}),s=u[0],c=u[1],f=u[2];return[e-(u[3]+c),n-(s+f)]}function Ii(t,e){if(p(t))return t;if(B(t)){var n=t[0],i=t[1];if(!e)return function(){return(i+n)/2};var r=e[0],o=e[1];return o===r?function(){return(i+n)/2}:function(t){var e=t.value;return(i-n)/(o-r)*(e-r)+n}}return function(){return t}}function Bi(t){var e=function(t){var e=t.wordStyle.rotationSteps;e<1&&(Tt(Et.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1);return{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,i=e.rotationSteps;if(!B(n))return n;var r=n[0],o=n[1],a=1===i?0:(o-r)/(i-1);return function(){return o===r?o:Math.floor(Math.random()*i)*a}}function Wi(t){return Math.max.apply(Math,t)}function Li(t){var e=t.chart,n=t.options,i=n.colorField,r=n.color,o=Ti(t);return e.data(o),Je(Zt({},t,{options:{xField:"x",yField:"y",seriesField:i&&"color",point:{color:r,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function ji(t){return St(qe({x:{nice:!1},y:{nice:!1}}))(t)}function Ni(t){St(Li,ji,Ie,Pe,Be,We,Le,je)(t)}var Vi=Zt({},Re.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function qi(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}function Gi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hi(t,e,n,i){t=t.filter((function(t,i){var r=e(t,i),o=n(t,i);return null!=r&&isFinite(r)&&null!=o&&isFinite(o)})),i&&t.sort((function(t,n){return e(t)-e(n)}));for(var r,o,a,l=t.length,u=new Float64Array(l),s=new Float64Array(l),c=0,f=0,d=0;d<l;)a=t[d],u[d]=r=+e(a,d,t),s[d]=o=+n(a,d,t),c+=(r-c)/++d,f+=(o-f)/d;for(var p=0;p<l;++p)u[p]-=c,s[p]-=f;return[u,s,c,f]}function Xi(t,e,n,i){for(var r=0,o=0,a=t.length;o<a;o++){var l=t[o],u=+e(l,o,t),s=+n(l,o,t);null!=u&&isFinite(u)&&null!=s&&isFinite(s)&&i(u,s,r++)}}function Yi(t,e,n,i,r){var o=0,a=0;return Xi(t,e,n,(function(t,e){var n=e-r(t),l=e-i;o+=n*n,a+=l*l})),1-o/a}function Ui(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function Zi(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Ki(t,e,n){for(var i=Math.log(e-t)*Math.LOG10E+1|0,r=1*Math.pow(10,-i/2-1),o=[l(t),l(e)],a=0;u(o)&&a<1e4;);return o;function l(t){return[t,n(t)]}function u(t){a++;for(var e=t.length,n=!1,i=0;i<e-1;i++){var o=t[i],u=Zi([o,t[i+1]]),s=l(u[0]),c=Ui([o,u]),f=Ui([o,s]);Math.abs(c-f)>r&&(t.splice(i+1,0,s),n=!0)}return n}}function Qi(t,e,n,i){var r=i-t*t,o=Math.abs(r)<1e-24?0:(n-t*e)/r;return[e-o*t,o]}function Ji(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r=0,o=0,a=0,l=0,u=0,s=t?+t[0]:1/0,c=t?+t[1]:-1/0;Xi(i,e,n,(function(e,n){++r,o+=(e-o)/r,a+=(n-a)/r,l+=(e*n-l)/r,u+=(e*e-u)/r,t||(e<s&&(s=e),e>c&&(c=e))}));var f=Gi(Qi(o,a,l,u),2),d=f[0],p=f[1],h=function(t){return p*t+d},g=[[s,h(s)],[c,h(c)]];return g.a=p,g.b=d,g.predict=h,g.rSquared=Yi(i,e,n,a,h),g}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i}function tr(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}V("point","word-cloud",{draw:function(t,e){var n=t.x,i=t.y,r=e.addShape("text",{attrs:Ct(Ct({},qi(t)),{x:n,y:i})}),o=t.data.rotate;return"number"==typeof o&&P.rotate(r,o*Math.PI/180),r}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}Ot(e,t),e.getDefaultOptions=function(){return Vi},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(Ti({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var i=e.options.imageMask;if(!i)return t.prototype.render.call(e),void n();var r,o=function(i){e.options=Ct(Ct({},e.options),{imageMask:i||null}),t.prototype.render.call(e),n()};(r=i,new Promise((function(t,e){if(r instanceof HTMLImageElement)t(r);else{if(h(r)){var n=new Image;return n.crossOrigin="anonymous",n.src=r,n.onload=function(){t(n)},void(n.onerror=function(){Tt(Et.ERROR,!1,"image %s load failed !!!",r),e()})}Tt(Et.WARN,void 0===r,"The type of imageMask option must be String or HTMLImageElement."),e()}}))).then(o).catch(o)}))},e.prototype.getSchemaAdaptor=function(){return Ni},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))}}(Re);function er(t){return(t=1-t*t*t)*t*t}function nr(t,e,n){var i=t[e],r=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>r&&t[o]-i<=i-t[r];)n[0]=++r,n[1]=o,++o}function ir(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r,o,a,l,u=Gi(Hi(i,e,n),4),s=u[0],c=u[1],f=u[2],d=u[3],p=s.length,h=0,g=0,v=0,y=0,m=0;for(r=0;r<p;)o=s[r],a=c[r++],h+=((l=o*o)-h)/r,g+=(l*o-g)/r,v+=(l*l-v)/r,y+=(o*a-y)/r,m+=(l*a-m)/r;var x=0,b=0,F=t?+t[0]:1/0,w=t?+t[1]:-1/0;Xi(i,e,n,(function(e,n){b++,x+=(n-x)/b,t||(e<F&&(F=e),e>w&&(w=e))}));var A=v-h*h,S=h*A-g*g,k=(m*h-y*g)/S,M=(y*A-m*g)/S,D=-k*h,O=function(t){return k*(t-=f)*t+M*t+D+d},E=Ki(F,w,O);return E.a=k,E.b=M-2*k*f,E.c=D-M*f+k*f*f+d,E.predict=O,E.rSquared=Yi(i,e,n,x,O),E}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i}var rr={exp:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r=0,o=0,a=0,l=0,u=0,s=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;Xi(i,e,n,(function(e,n){var i=Math.log(n),d=e*n;++r,o+=(n-o)/r,l+=(d-l)/r,s+=(e*d-s)/r,a+=(n*i-a)/r,u+=(d*i-u)/r,t||(e<c&&(c=e),e>f&&(f=e))}));var d=Gi(Qi(l/o,a/o,u/o,s/o),2),p=d[0],h=d[1];p=Math.exp(p);var g=function(t){return p*Math.exp(h*t)},v=Ki(c,f,g);return v.a=p,v.b=h,v.predict=g,v.rSquared=Yi(i,e,n,o,g),v}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},linear:Ji,loess:function(){var t=function(t){return t[0]},e=function(t){return t[1]},n=.3;function i(i){for(var r=Gi(Hi(i,t,e,!0),4),o=r[0],a=r[1],l=r[2],u=r[3],s=o.length,c=Math.max(2,~~(n*s)),f=new Float64Array(s),d=new Float64Array(s),p=new Float64Array(s).fill(1),h=-1;++h<=2;){for(var g=[0,c-1],v=0;v<s;++v){for(var y=o[v],m=g[0],x=g[1],b=y-o[m]>o[x]-y?m:x,F=0,w=0,A=0,S=0,k=0,M=1/Math.abs(o[b]-y||1),D=m;D<=x;++D){var O=o[D],E=a[D],C=er(Math.abs(y-O)*M)*p[D],z=O*C;F+=C,w+=z,A+=E*C,S+=E*z,k+=O*z}var $=Gi(Qi(w/F,A/F,S/F,k/F),2),_=$[0],R=$[1];f[v]=_+R*y,d[v]=Math.abs(a[v]-f[v]),nr(o,v+1,g)}if(2===h)break;var T=tr(d);if(Math.abs(T)<1e-12)break;for(var P,I,B=0;B<s;++B)P=d[B]/(6*T),p[B]=P>=1?1e-12:(I=1-P*P)*I}return function(t,e,n,i){for(var r,o=t.length,a=[],l=0,u=0,s=[];l<o;++l)r=t[l]+n,s[0]===r?s[1]+=(e[l]-s[1])/++u:(u=0,s[1]+=i,s=[r,e[l]],a.push(s));return s[1]+=i,a}(o,f,l,u)}return i.bandwidth=function(t){return arguments.length?(n=t,i):n},i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(e=t,i):e},i},log:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},i=Math.E;function r(r){var o=0,a=0,l=0,u=0,s=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0,d=Math.log(i);Xi(r,e,n,(function(e,n){var i=Math.log(e)/d;++o,a+=(i-a)/o,l+=(n-l)/o,u+=(i*n-u)/o,s+=(i*i-s)/o,t||(e<c&&(c=e),e>f&&(f=e))}));var p=Gi(Qi(a,l,u,s),2),h=p[0],g=p[1],v=function(t){return g*Math.log(t)/d+h},y=Ki(c,f,v);return y.a=g,y.b=h,y.predict=v,y.rSquared=Yi(r,e,n,l,v),y}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.base=function(t){return arguments.length?(i=t,r):i},r},poly:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},i=3;function r(r){if(1===i){var o=Ji().x(e).y(n).domain(t)(r);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(2===i){var a=ir().x(e).y(n).domain(t)(r);return a.coefficients=[a.c,a.b,a.a],delete a.a,delete a.b,delete a.c,a}var l,u,s,c,f,d=Gi(Hi(r,e,n),4),p=d[0],h=d[1],g=d[2],v=d[3],y=p.length,m=[],x=[],b=i+1,F=0,w=0,A=t?+t[0]:1/0,S=t?+t[1]:-1/0;for(Xi(r,e,n,(function(e,n){++w,F+=(n-F)/w,t||(e<A&&(A=e),e>S&&(S=e))})),l=0;l<b;++l){for(s=0,c=0;s<y;++s)c+=Math.pow(p[s],l)*h[s];for(m.push(c),f=new Float64Array(b),u=0;u<b;++u){for(s=0,c=0;s<y;++s)c+=Math.pow(p[s],l+u);f[u]=c}x.push(f)}x.push(m);var k=function(t){var e,n,i,r,o,a=t.length-1,l=[];for(e=0;e<a;++e){for(r=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][r])&&(r=n);for(i=e;i<a+1;++i)o=t[i][e],t[i][e]=t[i][r],t[i][r]=o;for(n=e+1;n<a;++n)for(i=a;i>=e;i--)t[i][n]-=t[i][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,i=n+1;i<a;++i)o+=t[i][n]*l[i];l[n]=(t[a][n]-o)/t[n][n]}return l}(x),M=function(t){t-=g;var e=v+k[0]+k[1]*t+k[2]*t*t;for(l=3;l<b;++l)e+=k[l]*Math.pow(t,l);return e},D=Ki(A,S,M);return D.coefficients=function(t,e,n,i){var r,o,a,l,u=Array(t);for(r=0;r<t;++r)u[r]=0;for(r=t-1;r>=0;--r)for(a=e[r],l=1,u[r]+=a,o=1;o<=r;++o)l*=(r+1-o)/o,u[r-o]+=a*Math.pow(n,o)*l;return u[0]+=i,u}(b,k,-g,v),D.predict=M,D.rSquared=Yi(r,e,n,F,M),D}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.order=function(t){return arguments.length?(i=t,r):i},r},pow:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r=0,o=0,a=0,l=0,u=0,s=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;Xi(i,e,n,(function(e,n){var i=Math.log(e),d=Math.log(n);++r,o+=(i-o)/r,a+=(d-a)/r,l+=(i*d-l)/r,u+=(i*i-u)/r,s+=(n-s)/r,t||(e<c&&(c=e),e>f&&(f=e))}));var d=Gi(Qi(o,a,l,u),2),p=d[0],h=d[1];p=Math.exp(p);var g=function(t){return p*Math.pow(t,h)},v=Ki(c,f,g);return v.a=p,v.b=h,v.predict=g,v.rSquared=Yi(i,e,n,s,g),v}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},quad:ir};var or=function(t,e){var n=e.view,i=e.options,r=i.xField,o=i.yField,a=n.getScaleByField(r),l=n.getScaleByField(o);return function(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var o=t[i];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e);for(var a=0,l=t.length;a<l;a++){var u=t[a];o&&o.x===u.x&&o.y===u.y||(i.push(u.x),i.push(u.y),o=u)}var s=qt(i,e,n||[[0,0],[1,1]]);return s.unshift(["M",r.x,r.y]),s}(t.map((function(t){return n.getCoordinate().convert({x:a.scale(t[0]),y:l.scale(t[1])})})),!1)},ar=function(t){var e,n=t.meta,i=void 0===n?{}:n,r=t.xField,a=t.yField,l=t.data,u=l[0][r],s=l[0][a],c=u>0,f=s>0,d=function(t,e,n){var r=o(i,[t,e]);return v(r)?r:"x"===n?{min:c?0:2*u,max:c?2*u:0}[e]:{min:f?0:2*s,max:f?2*s:0}[e]};return Ct(Ct({},i),((e={})[r]=Ct(Ct({},i[r]),{min:d(r,"min","x"),max:d(r,"max","x")}),e[a]=Ct(Ct({},i[a]),{min:d(a,"min","y"),max:d(a,"max","y")}),e))};function lr(t){var e=t.data;return 1===(void 0===e?[]:e).length?Zt({},t,{meta:ar(t)}):t}function ur(t){var e=t.chart,n=t.options,i=n.data,r=n.type,o=n.color,a=n.shape,l=n.pointStyle,u=n.shapeField,s=n.colorField,c=n.xField,f=n.yField,d=n.sizeField,p=n.size,h=n.tooltip;d&&(p||(p=[2,8]),v(p)&&(p=[p,p])),h&&!h.fields&&(h=Ct(Ct({},h),{fields:[c,f,s,d,u]})),e.data(i),Je(Zt({},t,{options:{seriesField:s,point:{color:o,shape:a,size:p,style:l},tooltip:h}}));var g=It(e,"point");return r&&g.adjust(r),t}function sr(t){var e,n=t.options,i=n.data,r=n.xAxis,o=n.yAxis,a=n.xField,l=n.yField,u=n;return 1===i.length&&(u=lr(Zt({},n,{meta:ar(n)}))),St(qe(((e={})[a]=r,e[l]=o,e)))(Zt({},t,{options:u}))}function cr(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,i),e.axis(a,r),t}function fr(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,o=n.shapeField,a=n.sizeField,l=n.shapeLegend,u=n.sizeLegend,s=!1!==i;return r&&e.legend(r,!!s&&i),o&&(l?e.legend(o,l):e.legend(o,!1!==l&&i)),a&&e.legend(a,u||!1),s||l||u||e.legend(!1),t}function dr(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=It(e,"point");if(i){var a=i.callback,l=zt(i,["callback"]);o.label({fields:[r],callback:a,cfg:Vt(l)})}else o.label(!1);return t}function pr(t){var e=t.options.quadrant,n=[];if(e){var i=e.xBaseline,r=void 0===i?0:i,o=e.yBaseline,a=void 0===o?0:o,l=e.labels,u=e.regionStyle,s=e.lineStyle,c=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(r,a);new Array(4).join(",").split(",").forEach((function(t,e){n.push(Ct(Ct({type:"region",top:!1},c.regionStyle[e].position),{style:Zt({},c.regionStyle[e].style,null==u?void 0:u[e])}),Ct({type:"text",top:!0},Zt({},c.labelStyle[e],null==l?void 0:l[e])))})),n.push({type:"line",top:!1,start:["min",a],end:["max",a],style:Zt({},c.lineStyle,s)},{type:"line",top:!1,start:[r,"min"],end:[r,"max"],style:Zt({},c.lineStyle,s)})}return St(Ge(n))(t)}function hr(t){var e=t.options,n=t.chart,i=e.regressionLine;if(i){var r=i.style,o=i.top,a=void 0!==o&&o,l={stroke:"#9ba29a",lineWidth:2,opacity:.5};n.annotation().shape({top:a,render:function(t,i){var o=t.addGroup({id:n.id+"-regression-line",name:"regression-line-group"}),a=function(t){var e,n=t.options,i=n.xField,r=n.yField,o=n.data,a=n.regressionLine,l=a.type,u=void 0===l?"linear":l,s=a.algorithm;return e=s?B(s)?s:s(o):rr[u]().x((function(t){return t[i]})).y((function(t){return t[r]}))(o),or(e,t)}({view:i,options:e});o.addShape("path",{name:"regression-line",attrs:Ct(Ct({path:a},l),r)})}})}return t}function gr(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function vr(t){return St(ur,sr,cr,fr,gr,dr,Be,pr,We,Le,hr)(t)}var yr=Zt({},Re.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});z("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var mr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e}return Ot(e,t),e.getDefaultOptions=function(){return yr},e.prototype.changeData=function(t){this.updateOption(lr(Zt({},this.options,{data:t})));var e=this.options;sr({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return vr},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Re);function xr(t){var e=t.chart,n=t.options,i=n.data,r=n.lineStyle,o=n.color,a=n.point,l=n.area;e.data(i);var u=Zt({},t,{options:{line:{style:r,color:o},point:a?Ct({color:o},a):a,area:l?Ct({color:o},l):l,label:void 0}}),s=Zt({},u,{options:{tooltip:!1}}),c=(null==a?void 0:a.state)||n.state,f=Zt({},u,{options:{tooltip:!1,state:c}});return Qe(u),Je(f),Ke(s),t}function br(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return St(qe(((e={})[o]=i,e[a]=r,e)))(t)}function Fr(t){var e=t.chart,n=t.options,i=n.radius,r=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:i,startAngle:r,endAngle:o}),t}function wr(t){var e=t.chart,n=t.options,i=n.xField,r=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(i,r),e.axis(o,a),t}function Ar(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=It(e,"line");if(i){var a=i.callback,l=zt(i,["callback"]);o.label({fields:[r],callback:a,cfg:Vt(l)})}else o.label(!1);return t}function Sr(t){return St(xr,br,Le,Fr,wr,Pe,Ie,Ar,Be,We,Ge())(t)}var kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),i=n.shared,r=n.title,o=t.prototype.getTooltipItems.call(this,e);if(o.length>0){var a=this.view.geometries[0],l=a.dataArray,u=o[0].name,s=[];return l.forEach((function(t){t.forEach((function(t){var e=P.getTooltipItems(t,a)[0];if(!i&&e&&e.name===u){var n=A(r)?u:r;s.push(Ct(Ct({},e),{name:e.title,title:n}))}else if(i&&e){n=A(r)?e.name||u:r;s.push(Ct(Ct({},e),{name:e.title,title:n}))}}))})),s}return[]},e}(q);G("radar-tooltip",kr);var Mr,Dr,Or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(E);C("radar-tooltip",Or),z("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}Ot(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return Zt({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return Sr}}(Re),function(t){t.Left="Left",t.Right="Right"}(Mr||(Mr={})),function(t){t.Line="line",t.Column="column"}(Dr||(Dr={}));var Er="left-axes-view",Cr="right-axes-view",zr={nice:!0,label:{autoHide:!0,autoRotate:!1}},$r=Ct(Ct({},zr),{position:"left"}),_r=Ct(Ct({},zr),{position:"right",grid:null});function Rr(t){return o(t,"geometry")===Dr.Line}function Tr(t){return o(t,"geometry")===Dr.Column}function Pr(t,e,n){return Tr(n)?Zt({},{geometry:Dr.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):Ct({geometry:Dr.Line},n)}function Ir(t,e){var n=t[0],i=t[1];return B(e)?[e[0],e[1]]:[o(e,n),o(e,i)]}function Br(t,e){return e===Mr.Left?!1!==t&&Zt({},$r,t):e===Mr.Right?!1!==t&&Zt({},_r,t):t}function Wr(t){var e=t.view,n=t.geometryOption,i=t.yField,a=t.legend,l=o(a,"marker"),u=It(e,Rr(n)?"line":"interval");if(!n.seriesField){var s=u.getAttribute("color").values[0],c=l||(Rr(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:s}}:{symbol:"square",style:{fill:s}});return[{value:i,name:o(e,"options.scales."+i+".alias")||i,marker:c,isGeometry:!0,viewId:e.id}]}var f=u.getGroupAttributes();return r(f,(function(t,n){var i=P.getLegendItems(e,u,n,e.getTheme(),l);return t.concat(i)}),[])}var Lr=function(t,e){var n=e[0],i=e[1],r=t.getOptions().data,o=t.getXScale(),a=H(r);if(o&&a){var l=X(r,o.field),u=H(l),s=Math.floor(n*(u-1)),c=Math.floor(i*(u-1));t.filter(o.field,(function(t){var e=l.indexOf(t);return!(e>-1)||function(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return t>=i&&t<=r}(e,s,c)})),t.render(!0)}};function jr(t){var e,n=t.options,i=n.geometryOptions,r=void 0===i?[]:i,o=n.xField,a=n.yField,l=T(r,(function(t){var e=t.geometry;return e===Dr.Line||void 0===e}));return Zt({},{options:{geometryOptions:[],meta:(e={},e[o]={type:"cat",sync:!0,range:l?[0,1]:void 0},e),tooltip:{showMarkers:l,showCrosshairs:l,shared:!0,crosshairs:{type:"x"}},interactions:l?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:Ir(a,n.yAxis),geometryOptions:[Pr(0,a[0],r[0]),Pr(0,a[1],r[1])],annotations:Ir(a,n.annotations)}})}function Nr(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.geometryOptions,a=n.data,l=n.tooltip,u={line:0,column:1};return[Ct(Ct({},o[0]),{id:Er,data:a[0],yField:r[0]}),Ct(Ct({},o[1]),{id:Cr,data:a[1],yField:r[1]})].sort((function(t,e){return-u[t.geometry]+u[e.geometry]})).forEach((function(t){var n=t.id,r=t.data,o=t.yField,a=Tr(t)&&t.isPercent,u=a?gn(r,o,i,o):r,s=e.createView({id:n}).data(u),c=a?Ct({formatter:function(e){return{name:e[t.seriesField]||o,value:(100*Number(e[o])).toFixed(2)+"%"}}},l):l;!function(t){var e=t.options,n=t.chart,i=e.geometryOption,r=i.isStack,o=i.color,a=i.seriesField,l=i.groupField,u=i.isGroup,s=["xField","yField"];if(Rr(i)){Qe(Zt({},t,{options:Ct(Ct(Ct({},kt(e,s)),i),{line:{color:i.color,style:i.lineStyle}})})),Je(Zt({},t,{options:Ct(Ct(Ct({},kt(e,s)),i),{point:i.point&&Ct({color:o,shape:"circle"},i.point)})}));var c=[];u&&c.push({type:"dodge",dodgeBy:l||a,customOffset:0}),r&&c.push({type:"stack"}),c.length&&g(n.geometries,(function(t){t.adjust(c)}))}Tr(i)&&tn(Zt({},t,{options:Ct(Ct(Ct({},kt(e,s)),i),{widthRatio:i.columnWidthRatio,interval:Ct(Ct({},kt(i,["color"])),{style:i.columnStyle})})}))}({chart:s,options:{xField:i,yField:o,tooltip:c,geometryOption:t}})})),t}function Vr(t){var e,n=t.chart,i=t.options.geometryOptions,r=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],a=0;return n.once("beforepaint",(function(){g(i,(function(t,e){var i=Lt(n,0===e?Er:Cr);if(!t.color){var l=i.getGroupScales(),u=o(l,[0,"values","length"],1),s=r.slice(a,a+u).concat(0===e?[]:r);i.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,s):e.color(s[0])})),a+=u}})),n.render(!0)})),t}function qr(t){var e,n,i=t.chart,r=t.options,o=r.xAxis,a=r.yAxis,l=r.xField,u=r.yField;return qe(((e={})[l]=o,e[u[0]]=a[0],e))(Zt({},t,{chart:Lt(i,Er)})),qe(((n={})[l]=o,n[u[1]]=a[1],n))(Zt({},t,{chart:Lt(i,Cr)})),t}function Gr(t){var e=t.chart,n=t.options,i=Lt(e,Er),r=Lt(e,Cr),o=n.xField,a=n.yField,l=n.xAxis,u=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),i.axis(o,l),i.axis(a[0],Br(u[0],Mr.Left)),r.axis(o,!1),r.axis(a[1],Br(u[1],Mr.Right)),t}function Hr(t){var e=t.chart,n=t.options.tooltip,i=Lt(e,Er),r=Lt(e,Cr);return e.tooltip(n),i.tooltip({shared:!0}),r.tooltip({shared:!0}),t}function Xr(t){var e=t.chart;return Be(Zt({},t,{chart:Lt(e,Er)})),Be(Zt({},t,{chart:Lt(e,Cr)})),t}function Yr(t){var e=t.chart,n=t.options.annotations,i=o(n,[0]),r=o(n,[1]);return Ge(i)(Zt({},t,{chart:Lt(e,Er),options:{annotations:i}})),Ge(r)(Zt({},t,{chart:Lt(e,Cr),options:{annotations:r}})),t}function Ur(t){var e=t.chart;return Le(Zt({},t,{chart:Lt(e,Er)})),Le(Zt({},t,{chart:Lt(e,Cr)})),Le(t),t}function Zr(t){var e=t.chart;return We(Zt({},t,{chart:Lt(e,Er)})),We(Zt({},t,{chart:Lt(e,Cr)})),t}function Kr(t){var e=t.chart,n=t.options.yAxis;return He(Zt({},t,{chart:Lt(e,Er),options:{yAxis:n[0]}})),He(Zt({},t,{chart:Lt(e,Cr),options:{yAxis:n[1]}})),t}function Qr(t){var e=t.chart,n=t.options,i=n.legend,r=n.geometryOptions,a=n.yField,l=n.data,u=Lt(e,Er),s=Lt(e,Cr);return!1===i?e.legend(!1):w(i)&&!0===i.custom?e.legend(i):(e.once("beforepaint",(function(){var t=l[0].length?Wr({view:u,geometryOption:r[0],yField:a[0],legend:i}):[],n=l[1].length?Wr({view:s,geometryOption:r[1],yField:a[1],legend:i}):[];e.legend(Zt({},i,{custom:!0,items:t.concat(n)}))})),e.on("legend-item:click",(function(t){var n=o(t,"gEvent.delegateObject",{});if(n&&n.item){var i=n.item,r=i.value,l=i.isGeometry,u=i.viewId;if(l){if(O(a,(function(t){return t===r}))>-1){var s=o(Lt(e,u),"geometries");g(s,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var c=o(e.getController("legend"),"option.items",[]);g(e.views,(function(t){var n=t.getGroupScales();g(n,(function(e){e.values&&e.values.indexOf(r)>-1&&t.filter(e.field,(function(t){return!_(c,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))),t}function Jr(t){var e=t.chart,n=t.options.slider,i=Lt(e,Er),r=Lt(e,Cr);return n&&(i.option("slider",n),i.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,i=e.originValue;I(n,i)||Lr(r,n)})),e.once("afterpaint",(function(){if(!Y(n)){var t=n.start,e=n.end;(t||e)&&Lr(r,[t,e])}}))),t}function to(t){return St(jr,Nr,qr,Gr,Kr,Hr,Xr,Yr,Ur,Zr,Vr,Qr,Jr)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}Ot(e,t),e.prototype.getDefaultOptions=function(){return Zt({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return to},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=Wt(this.chart);g(i,(function(i){e(i.getData())&&i.setState(t,n)}))},e.prototype.getStates=function(){var t=Wt(this.chart),e=[];return g(t,(function(t){var n=t.getData(),i=t.getStates();g(i,(function(i){e.push({data:n,state:i,geometry:t.geometry,element:t})}))})),e}}(Re);var eo="x",no="y",io={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+o(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},ro={appendPadding:2,tooltip:Ct({},io),animation:{}};function oo(t){return $(t||[],(function(t,e){return{x:""+e,y:t}}))}function ao(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.areaStyle,a=n.point,l=n.line,u=null==a?void 0:a.state,s=oo(i);e.data(s);var c=Zt({},t,{options:{xField:eo,yField:no,area:{color:r,style:o},line:l,point:a}}),f=Zt({},c,{options:{tooltip:!1}}),d=Zt({},c,{options:{tooltip:!1,state:u}});return Ke(c),Qe(f),Je(d),e.axis(!1),e.legend(!1),t}function lo(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=oo(i.data);return St(qe(((e={}).x=r,e.y=o,e),((n={}).x={type:"cat"},n.y=oe(a,no),n)))(t)}function uo(t){return St(ao,lo,Ie,Le,We,Ge())(t)}function so(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.lineStyle,a=n.point,l=null==a?void 0:a.state,u=oo(i);e.data(u);var s=Zt({},t,{options:{xField:eo,yField:no,line:{color:r,style:o},point:a}}),c=Zt({},s,{options:{tooltip:!1,state:l}});return Qe(s),Je(c),e.axis(!1),e.legend(!1),t}function co(t){return St(so,lo,Le,Ie,We,Ge())(t)}var fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return Ot(e,t),e.getDefaultOptions=function(){return ro},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;lo({chart:e,options:this.options}),e.changeData(oo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return co},e}(Re);function po(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.columnStyle,a=n.columnWidthRatio,l=oo(i);return e.data(l),tn(Zt({},t,{options:{xField:eo,yField:no,widthRatio:a,interval:{style:o,color:r}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function ho(t){return St(po,lo,Ie,Le,We,Ge())(t)}var go={appendPadding:2,tooltip:Ct({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+o(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return Ot(e,t),e.getDefaultOptions=function(){return go},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;lo({chart:e,options:this.options}),e.changeData(oo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ho},e}(Re),yo={appendPadding:2,tooltip:Ct({},io),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},mo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return Ot(e,t),e.getDefaultOptions=function(){return yo},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;lo({chart:e,options:this.options}),e.changeData(oo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return uo},e}(Re);function xo(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]}function bo(t,e,n,i,r){var o=U(t);Z(o,e);var a=X(o,e),l=K(a),u=l.max-l.min,s=n;if(!n&&i&&(s=u/i),!n&&!i){var c=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(a);s=u/c}var f={},d=Q(o,r);k(d)?g(o,(function(t){var n=xo(t[e],s),i=n[0]+"-"+n[1];J(f,i)||(f[i]={range:n,count:0}),f[i].count+=1})):Object.keys(d).forEach((function(t){g(d[t],(function(n){var i=xo(n[e],s),o=i[0]+"-"+i[1]+"-"+t;J(f,o)||(f[o]={range:i,count:0},f[o][r]=t),f[o].count+=1}))}));var p=[];return g(f,(function(t){p.push(t)})),p}function Fo(t){var e=t.chart,n=t.options,i=n.data,r=n.binField,o=n.binNumber,a=n.binWidth,l=n.color,u=n.stackField,s=n.legend,c=n.columnStyle,f=bo(i,r,a,o,u);return e.data(f),tn(Zt({},t,{options:{xField:"range",yField:"count",seriesField:u,isStack:!0,interval:{color:l,style:c}}})),s&&u&&e.legend(u,s),t}function wo(t){var e=t.options;return St(qe({range:e.xAxis,count:e.yAxis}))(t)}function Ao(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis;return!1===i?e.axis("range",!1):e.axis("range",i),!1===r?e.axis("count",!1):e.axis("count",r),t}function So(t){var e=t.chart,n=t.options.label,i=It(e,"interval");if(n){var r=n.callback,o=zt(n,["callback"]);i.label({fields:["count"],callback:r,cfg:Vt(o)})}else i.label(!1);return t}function ko(t){return St(Fo,wo,Ao,Le,je,So,Ie,Be,We)(t)}var Mo=Zt({},Re.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),Do=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return Ot(e,t),e.getDefaultOptions=function(){return Mo},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,i=e.binNumber,r=e.binWidth,o=e.stackField;this.chart.changeData(bo(t,n,r,i,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ko},e}(Re),Oo=["#FAAD14","#E8EDF3"],Eo={percent:.2,color:Oo,animation:{}};function Co(t){var e=tt(re(t)?t:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]}function zo(t){var e=t.chart,n=t.options,i=n.percent,r=n.progressStyle,o=n.color,a=n.barWidthRatio;return e.data(Co(i)),tn(Zt({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:a,interval:{style:r,color:h(o)?[o,Oo[1]]:o},args:{zIndexReversed:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function $o(t){return t.chart.coordinate("rect").transpose(),t}function _o(t){return St(zo,qe({}),$o,We,Le,Ge())(t)}var Ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return Ot(e,t),e.getDefaultOptions=function(){return Eo},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(Co(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _o},e}(Re);function To(t){var e=t.chart,n=t.options,i=n.innerRadius,r=n.radius;return e.coordinate("theta",{innerRadius:i,radius:r}),t}function Po(t,e){var n=t.chart,i=t.options,r=i.innerRadius,a=i.statistic,l=i.percent,u=i.meta;if(n.getController("annotation").clear(!0),r&&a){var s=o(u,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},c=a.content;c&&(c=Zt({},c,{content:A(c.content)?s(l):c.content})),ee(n,{statistic:Ct(Ct({},a),{content:c}),plotType:"ring-progress"},{percent:l})}return e&&n.render(!0),t}function Io(t){return St(zo,qe({}),To,Po,We,Le,Ge())(t)}var Bo={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Wo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return Ot(e,t),e.getDefaultOptions=function(){return Bo},e.prototype.changeData=function(t){this.chart.emit(L.BEFORE_CHANGE_DATA,j.fromData(this.chart,L.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Co(t)),Po({chart:this.chart,options:this.options},!0),this.chart.emit(L.AFTER_CHANGE_DATA,j.fromData(this.chart,L.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Io},e}(Re);function Lo(t){var e=t.chart,n=t.options,i=n.data,r=n.type,a=n.xField,l=n.yField,u=n.colorField,s=n.sizeField,c=n.sizeRatio,f=n.shape,d=n.color,p=n.tooltip,h=n.heatmapStyle;e.data(i);var g="polygon";"density"===r&&(g="heatmap");var v=Xe(p,[a,l,u]),y=v.fields,m=v.formatter,x=1;return(c||0===c)&&(f||s?c<0||c>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):x=c:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Ze(Zt({},t,{options:{type:g,colorField:u,tooltipFields:y,shapeField:s||"",label:void 0,mapping:{tooltip:m,shape:f&&(s?function(t){var e=i.map((function(t){return t[s]})),n=Math.min.apply(Math,e),r=Math.max.apply(Math,e);return[f,(o(t,s)-n)/(r-n),x]}:function(){return[f,1,x]}),color:d||u&&e.getTheme().sequenceColors.join("-"),style:h}}})),t}function jo(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return St(qe(((e={})[o]=i,e[a]=r,e)))(t)}function No(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(a,!1):e.axis(a,r),t}function Vo(t){var e=t.chart,n=t.options,i=n.label,r=n.colorField,o=It(e,"density"===n.type?"heatmap":"polygon");if(i){if(r){var a=i.callback,l=zt(i,["callback"]);o.label({fields:[r],callback:a,cfg:Vt(l)})}}else o.label(!1);return t}function qo(t){var e=t.chart,n=t.options,i=n.coordinate,r=n.reflect;return i&&e.coordinate({type:i.type||"rect",cfg:i.cfg}),r&&e.coordinate().reflect(r),t}function Go(t){return St(Le,jo,qo,Lo,No,Pe,Ie,Vo,Ge(),Be,We,je)(t)}var Ho,Xo=Zt({},Re.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});V("polygon","circle",{draw:function(t,e){var n,i,r=t.x,o=t.y,a=this.parsePoints(t.points),l=Math.abs(a[2].x-a[1].x),u=Math.abs(a[1].y-a[0].y),s=Math.min(l,u)/2,c=Number(t.shape[1]),f=Number(t.shape[2]),d=s*Math.sqrt(f)*Math.sqrt(c),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("circle",{attrs:Ct(Ct(Ct({x:r,y:o,r:d},t.defaultStyle),t.style),{fill:p})})}}),V("polygon","square",{draw:function(t,e){var n,i,r=t.x,o=t.y,a=this.parsePoints(t.points),l=Math.abs(a[2].x-a[1].x),u=Math.abs(a[1].y-a[0].y),s=Math.min(l,u),c=Number(t.shape[1]),f=Number(t.shape[2]),d=s*Math.sqrt(f)*Math.sqrt(c),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("rect",{attrs:Ct(Ct(Ct({x:r-d/2,y:o-d/2,width:d,height:d},t.defaultStyle),t.style),{fill:p})})}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}Ot(e,t),e.getDefaultOptions=function(){return Xo},e.prototype.getSchemaAdaptor=function(){return Go},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Re);var Yo="$$range$$",Uo="outliers_view",Zo=Zt({},Re.getDefaultOptions(),{meta:(Ho={},Ho.$$range$$={min:0,alias:"low-q1-median-q3-high"},Ho),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Ko=function(t,e){var n=t;if(Array.isArray(e)){var i=e[0],r=e[1],o=e[2],a=e[3],l=e[4];n=$(t,(function(t){return t.$$range$$=[t[i],t[r],t[o],t[a],t[l]],t}))}return n};function Qo(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.groupField,a=n.color,l=n.tooltip,u=n.boxStyle;e.data(Ko(n.data,r));var s=B(r)?Yo:r,c=r?B(r)?r:[r]:[],f=l;!1!==f&&(f=Zt({},{fields:B(r)?r:[]},f));var d=rn(Zt({},t,{options:{xField:i,yField:s,seriesField:o,tooltip:f,rawFields:c,schema:{shape:"box",color:a,style:u}}})).ext;return o&&d.geometry.adjust("dodge"),t}function Jo(t){var e=t.chart,n=t.options,i=n.xField,r=n.data,o=n.outliersField,a=n.outliersStyle,l=n.padding;if(!o)return t;var u=e.createView({padding:l,id:Uo});return u.data(r),Je({chart:u,options:{xField:i,yField:o,point:{shape:"circle",style:a}}}),u.axis(!1),t}function ta(t){var e,n,i=t.chart,r=t.options,o=r.meta,a=r.xAxis,l=r.yAxis,u=r.xField,s=r.yField,c=r.outliersField,f=Array.isArray(s)?Yo:s,d={};if(c){var p="$$y_outliers$$";(e={})[c]={sync:p,nice:!0},e[f]={sync:p,nice:!0},d=e}var h=Zt(d,o,((n={})[u]=kt(a,Te),n[f]=kt(l,Te),n));return i.scale(h),t}function ea(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField,l=Array.isArray(a)?Yo:a;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(Yo,!1):e.axis(l,r),t}function na(t){var e=t.chart,n=t.options,i=n.legend,r=n.groupField;return r?i?e.legend(r,i):e.legend(r,{position:"bottom"}):e.legend(!1),t}function ia(t){return St(Qo,Jo,ta,ea,na,Ie,Be,We,Le)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}Ot(e,t),e.getDefaultOptions=function(){return Zo},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===Uo}));n&&n.data(t),this.chart.changeData(Ko(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ia}}(Re);var ra,oa,aa={exports:{}},la={exports:{}};oa=(ra=la).exports,ra.exports.isNumber=function(t){return"number"==typeof t},ra.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},ra.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},ra.exports.findMinMulti=function(t){for(var e=oa.findMin(t[0]),n=1;n<t.length;n++)e=Math.min(e,oa.findMin(t[n]));return e},ra.exports.findMaxMulti=function(t){for(var e=oa.findMax(t[0]),n=1;n<t.length;n++)e=Math.max(e,oa.findMax(t[n]));return e},ra.exports.inside=function(t,e,n){return t<=n&&n<=e},function(t){var e=Math.log(2),n=t.exports,i=la.exports;function r(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return n.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,o=i.isNumber(e.width)?e.width:2,a=i.isNumber(e.size)?e.size:50,l=i.isNumber(e.min)?e.min:(n=!0,i.findMinMulti(t)),u=i.isNumber(e.max)?e.max:(r=!0,i.findMaxMulti(t)),s=(u-l)/(a-1);return n&&(l-=2*o*s),r&&(u+=2*o*s),{min:l,max:u}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var o=i.isNumber(e.size)?e.size:50,a=i.isNumber(e.width)?e.width:2,l=n.getUnifiedMinMax(t,{size:o,width:a,min:e.min,max:e.max}),u=l.min,s=l.max-u,c=s/(o-1);if(0===s)return[{x:u,y:1}];for(var f=[],d=0;d<o;d++)f.push({x:u+d*c,y:0});var p=function(t,e){for(var n={},i=0,r=-e;r<=e;r++)i+=t(r/e),n[r]=i;return n}(r,a),h=p[a],g=p[a-1]-p[a-2],v=0;t.forEach((function(t){var e=function(t){return Math.floor((t-u)/c)}(t);if(!(e+a<0||e-a>=f.length)){var n=Math.max(e-a,0),r=e,o=Math.min(e+a,f.length-1),l=n-(e-a),s=e+a-o,d=p[-a-1+l]||0,y=p[-a-1+s]||0,m=h/(h-d-y);l>0&&(v+=m*(l-1)*g);var x=Math.max(0,e-a+1);i.inside(0,f.length-1,x)&&(f[x].y+=1*m*g),i.inside(0,f.length-1,r+1)&&(f[r+1].y-=2*m*g),i.inside(0,f.length-1,o+1)&&(f[o+1].y+=1*m*g)}}));var y=v,m=0,x=0;return f.forEach((function(t){m+=t.y,y+=m,t.y=y,x+=y})),x>0&&f.forEach((function(t){t.y/=x})),f},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,i=0,r=0;r<t.length&&(i=r,!((n+=t[r].y)>=e));r++);return t[i].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var n=0;return t.forEach((function(t){var e=Math.log(t.y);isFinite(e)&&(n+=t.y*e)})),n=-n/e,Math.pow(2,n)}}}(aa);var ua=aa.exports;function sa(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function ca(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function fa(t,e,n,i){for(n=n||0,i=i||t.length-1;i>n;){if(i-n>600){var r=i-n+1,o=e-n+1,a=Math.log(r),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(r-l)/r);o-r/2<0&&(u*=-1),fa(t,e,Math.max(n,Math.floor(e-o*l/r+u)),Math.min(i,Math.floor(e+(r-o)*l/r+u)))}var s=t[e],c=n,f=i;for(ca(t,n,e),t[i]>s&&ca(t,n,i);c<f;){for(ca(t,c,f),c++,f--;t[c]<s;)c++;for(;t[f]>s;)f--}t[n]===s?ca(t,n,f):ca(t,++f,i),f<=e&&(n=f+1),e<=f&&(i=f-1)}}function da(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],i=0;i<e.length;i++)n.push(ga(t.length,e[i]));n.push(t.length-1),n.sort(ha);var r=[0,n.length-1];for(;r.length;){var o=Math.ceil(r.pop()),a=Math.floor(r.pop());if(!(o-a<=1)){var l=Math.floor((a+o)/2);pa(t,n[l],Math.floor(n[a]),Math.ceil(n[o])),r.push(a,l,l,o)}}}(n,e);for(var i=[],r=0;r<e.length;r++)i[r]=sa(n,e[r]);return i}return pa(n,ga(n.length,e),0,n.length-1),sa(n,e)}function pa(t,e,n,i){e%1==0?fa(t,e,n,i):(fa(t,e=Math.floor(e),n,i),fa(t,e+1,e+1,i))}function ha(t,e){return t-e}function ga(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}var va=function(t){return{low:et(t),high:nt(t),q1:da(t,.25),q3:da(t,.75),median:da(t,[.5]),minMax:[et(t),nt(t)],quantile:[da(t,.25),da(t,.75)]}},ya=function(t,e){var n=ua.create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},ma=function(t){var e=t.xField,n=t.yField,i=t.seriesField,r=t.data,o=t.kde,a={min:o.min,max:o.max,size:o.sampleSize,width:o.width};if(!i){var l=Q(r,e);return Object.keys(l).map((function(t){var e=l[t].map((function(t){return t[n]}));return Ct(Ct({x:t},ya(e,a)),va(e))}))}var u=[],s=Q(r,i);return Object.keys(s).forEach((function(t){var r=Q(s[t],e);return Object.keys(r).forEach((function(e){var o,l=r[e].map((function(t){return t[n]}));u.push(Ct(Ct(((o={x:e})[i]=t,o),ya(l,a)),va(l)))}))})),u},xa="x",ba="violinY",Fa="minMax",wa="quantile",Aa="median",Sa="violin_view",ka=Zt({},Re.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),Ma=["low","high","q1","q3","median"],Da=[{type:"dodge",marginRatio:1/32}];function Oa(t){var e=t.chart,n=t.options;return e.data(ma(n)),t}function Ea(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.color,o=n.shape,a=void 0===o?"violin":o,l=n.violinStyle,u=n.tooltip,s=e.createView({id:Sa});return function(t){var e=t.options,n=e.violin,i=e.xField,r=e.yField,o=e.seriesField,a=e.sizeField,l=Xe(e.tooltip,[i,r,o,a]),u=l.fields,s=l.formatter;n&&Ze(Zt({},t,{options:{type:"violin",colorField:o,tooltipFields:u,mapping:Ct({tooltip:s},n)}}))}({chart:s,options:{xField:xa,yField:ba,seriesField:i||xa,sizeField:"violinSize",tooltip:Ct({fields:Ma},u),violin:{style:l,color:r,shape:a}}}),s.geometries[0].adjust(Da),t}function Ca(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.color,o=n.tooltip;if(!1===n.box)return t;var a=e.createView({id:"min_max_view"});tn({chart:a,options:{xField:xa,yField:Fa,seriesField:i||xa,tooltip:Ct({fields:Ma},o),interval:{color:r,size:1,style:{lineWidth:0}}}}),a.geometries[0].adjust(Da);var l=e.createView({id:"quantile_view"});tn({chart:l,options:{xField:xa,yField:wa,seriesField:i||xa,tooltip:Ct({fields:Ma},o),interval:{color:r,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(Da);var u=e.createView({id:"median_view"});return Je({chart:u,options:{xField:xa,yField:Aa,seriesField:i||xa,tooltip:Ct({fields:Ma},o),point:{color:r,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(Da),l.axis(!1),a.axis(!1),u.axis(!1),u.legend(!1),a.legend(!1),l.legend(!1),t}function za(t){var e,n=t.chart,i=t.options,r=i.meta,o=i.xAxis,a=i.yAxis,l=Zt({},r,((e={}).x=Ct(Ct({sync:!0},kt(o,Te)),{type:"cat"}),e.violinY=Ct({sync:!0},kt(a,Te)),e.minMax=Ct({sync:ba},kt(a,Te)),e.quantile=Ct({sync:ba},kt(a,Te)),e.median=Ct({sync:ba},kt(a,Te)),e));return n.scale(l),t}function $a(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=Lt(e,Sa);return!1===i?o.axis(xa,!1):o.axis(xa,i),!1===r?o.axis(ba,!1):o.axis(ba,r),e.axis(!1),t}function _a(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField,a=n.shape;if(!1===i)e.legend(!1);else{var l=r||xa,u=it(i,["selected"]);a&&a.startsWith("hollow")||o(u,["marker","style","lineWidth"])||rt(u,["marker","style","lineWidth"],0),e.legend(l,u),o(i,"selected")&&g(e.views,(function(t){return t.legend(l,i)}))}return t}function Ra(t){var e=Lt(t.chart,Sa);return Ge()(Ct(Ct({},t),{chart:e})),t}function Ta(t){var e=t.chart,n=t.options.animation;return g(e.views,(function(t){"boolean"==typeof n?t.animate(n):t.animate(!0),g(t.geometries,(function(t){t.animate(n)}))})),t}function Pa(t){return St(Le,Oa,Ea,Ca,za,Ie,$a,_a,Be,Ra,Ta)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}Ot(e,t),e.getDefaultOptions=function(){return ka},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(ma(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Pa}}(Re);var Ia,Ba="$$stock-range$$",Wa="trend",La="down",ja=Zt({},Re.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var i;if("x"===t){var r=n[0];i=r?r.title:e}else i=e;return{position:"y"===t?"start":"end",content:i,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function Na(t,e){return $(t,(function(t){if(B(e)){var n=e[0],i=e[1],r=e[2],o=e[3];t.trend=t[n]<=t[i]?"up":La,t[Ba]=[t[n],t[i],t[r],t[o]]}return t}))}function Va(t){var e=t.chart,n=t.options,i=n.yField,r=n.data,o=n.risingFill,a=n.fallingFill,l=n.tooltip,u=n.stockStyle;e.data(Na(r,i));var s=l;return!1!==s&&(s=Zt({},{fields:i},s)),rn(Zt({},t,{options:{schema:{shape:"candle",color:[o,a],style:u},yField:Ba,seriesField:Wa,rawFields:i,tooltip:s}})),t}function qa(t){var e,n,i=t.chart,r=t.options,o=r.meta,a=r.xAxis,l=r.yAxis,u=r.xField,s=((e={})[u]={type:"timeCat",tickCount:6},e.trend={values:["up",La]},e),c=Zt(s,o,((n={})[u]=kt(a,Te),n[Ba]=kt(l,Te),n));return i.scale(c),t}function Ga(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(Ba,!1):e.axis(Ba,r),t}function Ha(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function Xa(t){var e=t.chart,n=t.options.legend;return n?e.legend(Wa,n):!1===n&&e.legend(!1),t}function Ya(t){St(Le,Va,qa,Ga,Ha,Xa,Be,We,Ge(),Ne)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}Ot(e,t),e.getDefaultOptions=function(){return ja},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ya},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(Na(t,e))}}(Re);var Ua="$$percentage$$",Za="$$mappingValue$$",Ka="$$conversion$$",Qa="$$totalPercentage$$",Ja="$$x$$",tl="$$y$$",el={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Ia={},Ia.$$mappingValue$$={min:0,max:1,nice:!1},Ia),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function nl(t,e,n){var i=n.yField,r=n.maxSize,a=n.minSize,l=ot(e,i)[i],u=v(r)?r:1,s=v(a)?a:0;return $(t,(function(e,n){var r=(e[i]||0)/l;return e.$$percentage$$=r,e.$$mappingValue$$=(u-s)*r+s,e.$$conversion$$=[o(t,[n-1,i]),e[i]],e}))}function il(t){return function(e){var n=e.chart,i=e.options.conversionTag,r=n.getOptions().data;if(i){var o=i.formatter;r.forEach((function(e,a){if(!(a<=0)){var l=t(e,a,r,{top:!0,text:{content:p(o)?o(e,r):o,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:Ct({textAlign:"start",textBaseline:"middle"},i.style)}});n.annotation().line(l)}}))}return e}}function rl(t){var e=t.chart,n=t.options,i=n.data,r=void 0===i?[]:i,o=nl(r,r,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(o),t}function ol(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.color,a=n.tooltip,l=n.label,u=n.shape,s=void 0===u?"funnel":u,c=n.funnelStyle,f=Xe(a,[i,r]),d=f.fields,p=f.formatter;return Ze({chart:e,options:{type:"interval",xField:i,yField:Za,colorField:i,tooltipFields:B(d)&&d.concat([Ua,Ka]),mapping:{shape:s,tooltip:p,color:o,style:c},label:l}}),It(t.chart,"interval").adjust("symmetric"),t}function al(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function ll(t){var e=t.options.maxSize;return il((function(t,n,i,r){var o=e-(e-t.$$mappingValue$$)/2;return Ct(Ct({},r),{start:[n-.5,o],end:[n-.5,o+.05]})}))(t),t}function ul(t){return St(rl,ol,al,ll)(t)}function sl(t){var e,n=t.chart,i=t.options,r=i.data,o=void 0===r?[]:r,a=i.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function cl(t){var e=t.chart,n=t.options,i=n.data,r=n.xField,o=n.yField,a=n.color,l=n.compareField,u=n.isTransposed,s=n.tooltip,c=n.maxSize,f=n.minSize,d=n.label,p=n.funnelStyle;return e.facet("mirror",{fields:[l],transpose:!u,padding:u?0:[32,0,0,0],eachView:function(t,e){var n=u?e.rowIndex:e.columnIndex;u||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var h=nl(e.data,i,{yField:o,maxSize:c,minSize:f});t.data(h);var g=Xe(s,[r,o,l]),v=g.fields,y=g.formatter,m=u?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};Ze({chart:t,options:{type:"interval",xField:r,yField:Za,colorField:r,tooltipFields:B(v)&&v.concat([Ua,Ka]),mapping:{shape:"funnel",tooltip:y,color:a,style:p},label:!1!==d&&Zt({},m,d)}})}}),t}function fl(t){var e=t.chart,n=t.options,i=n.conversionTag,r=n.isTransposed;return e.once("beforepaint",(function(){e.views.forEach((function(t,e){il((function(t,n,o,a){var l=0===e?-1:1;return Zt({},a,{start:[n-.5,t.$$mappingValue$$],end:[n-.5,t.$$mappingValue$$+.05],text:r?{style:{textAlign:"start"}}:{offsetX:!1!==i?l*i.offsetX:0,style:{textAlign:0===e?"end":"start"}}})}))(Zt({},{chart:t,options:n}))}))})),t}function dl(t){var e,n=t.chart,i=t.options,r=i.data,o=void 0===r?[]:r,a=i.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function pl(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.isTransposed;return e.facet("rect",{fields:[i],padding:[r?0:32,10,0,10],eachView:function(e,n){ul(Zt({},t,{chart:e,options:{data:n.data}}))}}),t}function hl(t){var e=t.chart,n=t.options,i=n.data,a=void 0===i?[]:i,l=n.yField,u=r(a,(function(t,e){return t+(e[l]||0)}),0),s=ot(a,l)[l],c=$(a,(function(t,e){var n=[],i=[];if(t.$$totalPercentage$$=(t[l]||0)/u,e){var r=a[e-1].$$x$$,c=a[e-1].$$y$$;n[0]=r[3],i[0]=c[3],n[1]=r[2],i[1]=c[2]}else n[0]=-.5,i[0]=1,n[1]=.5,i[1]=1;return i[2]=i[1]-t.$$totalPercentage$$,n[2]=(i[2]+1)/4,i[3]=i[2],n[3]=-n[2],t.$$x$$=n,t.$$y$$=i,t.$$percentage$$=(t[l]||0)/s,t.$$conversion$$=[o(a,[e-1,l]),t[l]],t}));return e.data(c),t}function gl(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.color,a=n.tooltip,l=n.label,u=n.funnelStyle,s=Xe(a,[i,r]),c=s.fields,f=s.formatter;return Ze({chart:e,options:{type:"polygon",xField:Ja,yField:tl,colorField:i,tooltipFields:B(c)&&c.concat([Ua,Ka]),label:l,mapping:{tooltip:f,color:o,style:u}}}),t}function vl(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function yl(t){return il((function(t,e,n,i){return Ct(Ct({},i),{start:[t.$$x$$[1],t.$$y$$[1]],end:[t.$$x$$[1]+.05,t.$$y$$[1]]})}))(t),t}function ml(t){var e,n=t.options,i=n.compareField,r=n.xField,o=n.yField,a=n.locale,l=n.funnelStyle,u=fe(a);return(i||l)&&(e=function(t){return Zt({},i&&{lineWidth:1,stroke:"#fff"},p(l)?l(t):l)}),Zt({options:{label:i?{fields:[r,o,i,Ua,Ka],formatter:function(t){return""+t[o]}}:{fields:[r,o,Ua,Ka],offset:0,position:"middle",formatter:function(t){return t[r]+" "+t[o]}},tooltip:{title:r,formatter:function(t){return{name:t[r],value:t[o]}}},conversionTag:{formatter:function(t){return u.get(["conversionTag","label"])+": "+An.apply(void 0,t.$$conversion$$)}}}},t,{options:{funnelStyle:e}})}function xl(t){var e=t.options,n=e.compareField,i=e.dynamicHeight;return e.seriesField?function(t){return St(dl,pl)(t)}(t):n?function(t){return St(sl,cl,fl)(t)}(t):i?function(t){return St(hl,gl,vl,yl)(t)}(t):ul(t)}function bl(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return St(qe(((e={})[o]=i,e[a]=r,e)))(t)}function Fl(t){return t.chart.axis(!1),t}function wl(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function Al(t){return St(ml,xl,bl,Fl,Ie,Be,wl,We,Le,Ge())(t)}var Sl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return Ot(e,t),e.getDefaultOptions=function(){return el},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Al},e.CONVERSATION_FIELD=Ka,e.PERCENT_FIELD=Ua,e.TOTAL_PERCENT_FIELD=Qa,e}(Re);function kl(t){return[{percent:t,type:"liquid"}]}function Ml(t){var e=t.chart,n=t.options,i=n.percent,r=n.liquidStyle,o=n.radius,a=n.outline,l=n.wave,u=n.shape;e.scale({percent:{min:0,max:1}}),e.data(kl(i));var s=n.color||e.getTheme().defaultColor,c=tn(Zt({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:s,style:r,shape:"liquid-fill-gauge"}}})).ext.geometry,f={radius:o,outline:a,wave:l,shape:u,background:e.getTheme().background};return c.customInfo(f),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function Dl(t,e){var n=t.chart,i=t.options,r=i.statistic,a=i.percent,l=i.meta;n.getController("annotation").clear(!0);var u=o(l,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},s=r.content;return s&&(s=Zt({},s,{content:A(s.content)?u(a):s.content})),ee(n,{statistic:Ct(Ct({},r),{content:s}),plotType:"liquid"},{percent:a}),e&&n.render(!0),t}function Ol(t){return St(Le,Ml,Dl,qe({}),We,Be)(t)}var El={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function Cl(t,e,n){return t+(e-t)*n}function zl(t,e,n,i){return 0===e?[[t+.5*n/Math.PI/2,i/2],[t+.5*n/Math.PI,i],[t+n/4,i]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),i],[t+.5*n/Math.PI/2*(Math.PI-1),i/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-i/2],[t+.5*n/Math.PI,-i],[t+n/4,-i]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-i],[t+.5*n/Math.PI/2*(Math.PI-1),-i/2],[t+n/4,0]]}function $l(t,e,n,i,r,o,a){for(var l=4*Math.ceil(2*t/n*4),u=[],s=i;s<2*-Math.PI;)s+=2*Math.PI;for(;s>0;)s-=2*Math.PI;var c=o-t+(s=s/Math.PI/2*n)-2*t;u.push(["M",c,e]);for(var f=0,d=0;d<l;++d){var p=zl(d*n/4,d%4,n,r);u.push(["C",p[0][0]+c,-p[0][1]+e,p[1][0]+c,-p[1][1]+e,p[2][0]+c,-p[2][1]+e]),d===l-1&&(f=p[2][0])}return u.push(["L",f+c,a+t]),u.push(["L",c,a+t]),u.push(["Z"]),u}function _l(t,e,n,i){var r=2*n/3,o=Math.max(r,i),a=r/2,l=t,u=a+e-o/2,s=Math.asin(a/(.85*(o-a))),c=Math.sin(s)*a,f=Math.cos(s)*a,d=l-f,p=u+c,h=t,g=u+a/Math.sin(s);return"\n      M "+d+" "+p+"\n      A "+a+" "+a+" 0 1 1 "+(d+2*f)+" "+p+"\n      Q "+h+" "+g+" "+t+" "+(e+o/2)+"\n      Q "+h+" "+g+" "+d+" "+p+"\n      Z \n    "}function Rl(t,e,n,i){var r=n/2,o=i/2;return"\n      M "+t+" "+(e-o)+" \n      a "+r+" "+o+" 0 1 0 0 "+2*o+"\n      a "+r+" "+o+" 0 1 0 0 "+2*-o+"\n      Z\n    "}function Tl(t,e,n,i){var r=i/2,o=n/2;return"\n      M "+t+" "+(e-r)+"\n      L "+(t+o)+" "+e+"\n      L "+t+" "+(e+r)+"\n      L "+(t-o)+" "+e+"\n      Z\n    "}function Pl(t,e,n,i){var r=i/2,o=n/2;return"\n      M "+t+" "+(e-r)+"\n      L "+(t+o)+" "+(e+r)+"\n      L "+(t-o)+" "+(e+r)+"\n      Z\n    "}function Il(t,e,n,i){var r=i/2,o=n/2*.618;return"\n      M "+(t-o)+" "+(e-r)+"\n      L "+(t+o)+" "+(e-r)+"\n      L "+(t+o)+" "+(e+r)+"\n      L "+(t-o)+" "+(e+r)+"\n      Z\n    "}V("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,i=n,o=i.radius,a=i.shape,l=i.background,u=n.outline,s=n.wave,c=u.border,f=u.distance,d=s.count,p=s.length,h=r(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),g=this.parsePoint({x:.5,y:.5}),y=this.parsePoint({x:h,y:.5}),m=g.x-y.x,x=Math.min(m,y.y*o),b=function(t){var e=Ct({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),F=function(t){var e=N({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),v(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}(N({},t,u)),w=x-c/2,A={pin:_l,circle:Rl,diamond:Tl,triangle:Pl,rect:Il},S=("function"==typeof a?a:A[a]||A.circle)(g.x,g.y,2*w,2*w),k=e.addGroup({name:"waves"}),M=k.setClip({type:"path",attrs:{path:S}});return function(t,e,n,i,r,o,a,l,u){for(var s=r.fill,c=r.opacity,f=a.getBBox(),d=f.maxX-f.minX,p=f.maxY-f.minY,h=0;h<i;h++){var g=i<=1?0:h/(i-1),v=o.addShape("path",{name:"waterwave-path",attrs:{path:$l(l,f.minY+p*n,u,0,d/32,t,e),fill:s,opacity:Cl(.2,.9,g)*c}});try{var y=Hn([["t",u,0]]);v.stopAnimate(),v.animate({matrix:y},{duration:Cl(2500,5e3,g),repeat:!0})}catch(m){console.warn("off-screen group animate error!")}}}(g.x,g.y,1-t.points[1].y,d,b,k,M,2*x,p),e.addShape("path",{name:"distance",attrs:{path:S,fill:"transparent",lineWidth:c+2*f,stroke:"transparent"===l?"#fff":l}}),e.addShape("path",{name:"wrap",attrs:N(F,{path:S,fill:"transparent",lineWidth:c})}),e}});var Bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}return Ot(e,t),e.getDefaultOptions=function(){return El},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(L.BEFORE_CHANGE_DATA,j.fromData(this.chart,L.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(kl(t)),Dl({chart:this.chart,options:this.options},!0),this.chart.emit(L.AFTER_CHANGE_DATA,j.fromData(this.chart,L.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return Ol},e}(Re);function Wl(t){var e=t.data,n=t.xField,i=t.measureField,r=t.rangeField,o=t.targetField,a=t.layout,l=[],u=[];e.forEach((function(t,e){var a;t[r].sort((function(t,e){return t-e})),t[r].forEach((function(i,o){var a,u=0===o?i:t[r][o]-t[r][o-1];l.push(((a={rKey:r+"_"+o})[n]=n?t[n]:String(e),a[r]=u,a))})),t[i].forEach((function(r,o){var a;l.push(((a={mKey:t[i].length>1?i+"_"+o:""+i})[n]=n?t[n]:String(e),a[i]=r,a))})),l.push(((a={tKey:""+o})[n]=n?t[n]:String(e),a[o]=t[o],a)),u.push(t[r],t[i],t[o])}));var s=Math.min.apply(Math,u.flat(1/0)),c=Math.max.apply(Math,u.flat(1/0));return s=s>0?0:s,"vertical"===a&&l.reverse(),{min:s,max:c,ds:l}}function Ll(t){var e=t.chart,n=t.options,i=n.bulletStyle,r=n.targetField,a=n.rangeField,l=n.measureField,u=n.xField,s=n.color,c=n.layout,f=n.size,d=n.label,h=Wl(n),g=h.min,v=h.max,y=h.ds;return e.data(y),tn(Zt({},t,{options:{xField:u,yField:a,seriesField:"rKey",isStack:!0,label:o(d,"range"),interval:{color:o(s,"range"),style:o(i,"range"),size:o(f,"range")}}})),e.geometries[0].tooltip(!1),tn(Zt({},t,{options:{xField:u,yField:l,seriesField:"mKey",isStack:!0,label:o(d,"measure"),interval:{color:o(s,"measure"),style:o(i,"measure"),size:o(f,"measure")}}})),Je(Zt({},t,{options:{xField:u,yField:r,seriesField:"tKey",label:o(d,"target"),point:{color:o(s,"target"),style:o(i,"target"),size:p(o(f,"target"))?function(t){return o(f,"target")(t)/2}:o(f,"target")/2,shape:"horizontal"===c?"line":"hyphen"}}})),"horizontal"===c&&e.coordinate().transpose(),Ct(Ct({},t),{ext:{data:{min:g,max:v}}})}function jl(t){var e,n,i=t.options,r=t.ext,o=i.xAxis,a=i.yAxis,l=i.targetField,u=i.rangeField,s=i.measureField,c=i.xField,f=r.data;return St(qe(((e={})[c]=o,e[s]=a,e),((n={})[s]={min:null==f?void 0:f.min,max:null==f?void 0:f.max},n[l]={sync:""+s},n[u]={sync:""+s},n)))(t)}function Nl(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.measureField,l=n.rangeField,u=n.targetField;return e.axis(""+l,!1),e.axis(""+u,!1),!1===i?e.axis(""+o,!1):e.axis(""+o,i),!1===r?e.axis(""+a,!1):e.axis(""+a,r),t}function Vl(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function ql(t){var e=t.chart,n=t.options,i=n.label,r=n.measureField,a=n.targetField,l=n.rangeField,u=e.geometries,s=u[0],c=u[1],f=u[2];return o(i,"range")?s.label(""+l,Ct({layout:[{type:"limit-in-plot"}]},Vt(i.range))):s.label(!1),o(i,"measure")?c.label(""+r,Ct({layout:[{type:"limit-in-plot"}]},Vt(i.measure))):c.label(!1),o(i,"target")?f.label(""+a,Ct({layout:[{type:"limit-in-plot"}]},Vt(i.target))):f.label(!1),t}function Gl(t){St(Ll,jl,Nl,Vl,Le,ql,Ie,Be,We)(t)}var Hl=Zt({},Re.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}Ot(e,t),e.getDefaultOptions=function(){return Hl},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Wl(this.options),n=e.min,i=e.max,r=e.ds;jl({options:this.options,ext:{data:{min:n,max:i}},chart:this.chart}),this.chart.changeData(r)},e.prototype.getSchemaAdaptor=function(){return Gl},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Re);var Xl="ancestor-node",Yl="value",Ul="path",Zl=[Ul,"name","depth","height"],Kl=Zt({},Re.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),Ql="drilldown-bread-crumb",Jl={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},tu="hierarchy-data-transform-params",eu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=Jl,e}return Ot(e,t),e.prototype.click=function(){var t=o(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),i={x:0,y:0};"bottom-left"===this.getButtonCfg().position&&(i=t.isPolar?{x:0,y:t.getHeight()}:t.convert({x:0,y:1}));var r=P.transform(null,[["t",i.x+0,i.y+n.height+5]]);e.setMatrix(r)}},e.prototype.reset=function(){this.historyCache[0]&&this.back(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=o(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),i=n(Ct({data:t.data},t[tu]));e.changeData(i);for(var r=[],a=t;a;){var l=a.data;r.unshift({id:l.name+"_"+a.height+"_"+a.depth,name:l.name,children:n(Ct({data:l},t[tu]))}),a=a.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(r)},e.prototype.back=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=at(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=o(t,["interactions","drill-down","cfg","drillDownConfig"]);return Zt(this.breadCrumbCfg,null==e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Ql});var i=0;n.forEach((function(r,o){var a=t.breadCrumbGroup.addShape({type:"text",id:r.id,name:Ql+"_"+r.name+"_text",attrs:Ct(Ct({text:0!==o||A(e.rootText)?r.name:e.rootText},e.textStyle),{x:i,y:0})}),l=a.getBBox();if(i+=l.width+4,a.on("click",(function(e){var i,r=e.target.get("id");if(r!==(null===(i=at(n))||void 0===i?void 0:i.id)){var o=n.slice(0,n.findIndex((function(t){return t.id===r}))+1);t.back(o)}})),a.on("mouseenter",(function(t){var i;t.target.get("id")!==(null===(i=at(n))||void 0===i?void 0:i.id)?a.attr(e.activeTextStyle):a.attr({cursor:"default"})})),a.on("mouseleave",(function(){a.attr(e.textStyle)})),o<n.length-1){var u=t.breadCrumbGroup.addShape({type:"text",name:e.name+"_"+r.name+"_divider",attrs:Ct(Ct({text:e.dividerText},e.textStyle),{x:i,y:0})}).getBBox();i+=u.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(E);function nu(t,e){return t.parent===e.parent?1:2}function iu(t,e){return t+e.x}function ru(t,e){return Math.max(t,e.y)}function ou(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function au(){var t,e,n,i,r,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(i=t.children)for(r=0,o=i.length;r<o;++r)n.push(i[r]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),At,this)}function lu(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=su)):void 0===e&&(e=uu);for(var n,i,r,o,a,l=new du(t),u=[l];n=u.pop();)if((r=e(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,o=a-1;o>=0;--o)u.push(i=r[o]=new du(r[o])),i.parent=n,i.depth=n.depth+1;return l.eachBefore(fu)}function uu(t){return t.children}function su(t){return Array.isArray(t)?t[1]:null}function cu(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function fu(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function du(t){this.data=t,this.depth=this.height=0,this.parent=null}function pu(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];i<r;)e=t[i],n&&vu(n,e)?++i:(n=mu(o=hu(o,e)),i=0);return n}function hu(t,e){var n,i;if(yu(e,t))return[e];for(n=0;n<t.length;++n)if(gu(e,t[n])&&yu(xu(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(gu(xu(t[n],t[i]),e)&&gu(xu(t[n],e),t[i])&&gu(xu(t[i],e),t[n])&&yu(bu(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function gu(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function vu(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function yu(t,e){for(var n=0;n<e.length;++n)if(!vu(t,e[n]))return!1;return!0}function mu(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return xu(t[0],t[1]);case 3:return bu(t[0],t[1],t[2])}var e}function xu(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,l=e.r,u=o-n,s=a-i,c=l-r,f=Math.sqrt(u*u+s*s);return{x:(n+o+u/f*c)/2,y:(i+a+s/f*c)/2,r:(f+r+l)/2}}function bu(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,l=e.y,u=e.r,s=n.x,c=n.y,f=n.r,d=i-a,p=i-s,h=r-l,g=r-c,v=u-o,y=f-o,m=i*i+r*r-o*o,x=m-a*a-l*l+u*u,b=m-s*s-c*c+f*f,F=p*h-d*g,w=(h*b-g*x)/(2*F)-i,A=(g*v-h*y)/F,S=(p*x-d*b)/(2*F)-r,k=(d*y-p*v)/F,M=A*A+k*k-1,D=2*(o+w*A+S*k),O=w*w+S*S-o*o,E=-(M?(D+Math.sqrt(D*D-4*M*O))/(2*M):O/D);return{x:i+w+A*E,y:r+S+k*E,r:E}}function Fu(t,e,n){var i,r,o,a,l=t.x-e.x,u=t.y-e.y,s=l*l+u*u;s?(r=e.r+n.r,r*=r,a=t.r+n.r,r>(a*=a)?(i=(s+a-r)/(2*s),o=Math.sqrt(Math.max(0,a/s-i*i)),n.x=t.x-i*l-o*u,n.y=t.y-i*u+o*l):(i=(s+r-a)/(2*s),o=Math.sqrt(Math.max(0,r/s-i*i)),n.x=e.x+i*l-o*u,n.y=e.y+i*u+o*l)):(n.x=e.x+n.r,n.y=e.y)}function wu(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Au(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Su(t){this._=t,this.next=null,this.previous=null}function ku(t){if(!(a=(e=t,t="object"===i(e)&&"length"in e?e:Array.from(e)).length))return 0;var e,n,r,o,a,l,u,s,c,f,d,p;if((n=t[0]).x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;Fu(r,n,o=t[2]),n=new Su(n),r=new Su(r),o=new Su(o),n.next=o.previous=r,r.next=n.previous=o,o.next=r.previous=n;t:for(s=3;s<a;++s){Fu(n._,r._,o=t[s]),o=new Su(o),c=r.next,f=n.previous,d=r._.r,p=n._.r;do{if(d<=p){if(wu(c._,o._)){r=c,n.next=r,r.previous=n,--s;continue t}d+=c._.r,c=c.next}else{if(wu(f._,o._)){(n=f).next=r,r.previous=n,--s;continue t}p+=f._.r,f=f.previous}}while(c!==f.next);for(o.previous=n,o.next=r,n.next=r.previous=r=o,l=Au(n);(o=o.next)!==r;)(u=Au(o))<l&&(n=o,l=u);r=n.next}for(n=[r._],o=r;(o=o.next)!==r;)n.push(o._);for(o=pu(n),s=0;s<a;++s)(n=t[s]).x-=o.x,n.y-=o.y;return o.r}function Mu(t){return null==t?null:Du(t)}function Du(t){if("function"!=typeof t)throw new Error;return t}function Ou(){return 0}function Eu(t){return function(){return t}}function Cu(t){return Math.sqrt(t.value)}function zu(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function $u(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,l=t(n)*e||0;if(l)for(r=0;r<a;++r)i[r].r+=l;if(o=ku(i),l)for(r=0;r<a;++r)i[r].r-=l;n.r=o+l}}}function _u(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Ru(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Tu(t,e,n,i,r){for(var o,a=t.children,l=-1,u=a.length,s=t.value&&(i-e)/t.value;++l<u;)(o=a[l]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*s}function Pu(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&Tu(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,a=i.x1-n,l=i.y1-n;a<r&&(r=a=(r+a)/2),l<o&&(o=l=(o+l)/2),i.x0=r,i.y0=o,i.x1=a,i.y1=l}}(e,o)),i&&r.eachBefore(Ru),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r}du.prototype=lu.prototype=t({constructor:du,count:function(){return this.eachAfter(ou)},each:function(t,n){var i,r=-1,o=e(this);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.call(n,a,++r,this)}}catch(l){o.e(l)}finally{o.f()}return this},eachAfter:function(t,e){for(var n,i,r,o=this,a=[o],l=[],u=-1;o=a.pop();)if(l.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i]);for(;o=l.pop();)t.call(e,o,++u,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],a=-1;r=o.pop();)if(t.call(e,r,++a,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,n){var i,r=-1,o=e(this);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.call(n,a,++r,this))return a}}catch(l){o.e(l)}finally{o.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return lu(this).eachBefore(cu)}},Symbol.iterator,au);var Iu={depth:-1},Bu={};function Wu(t){return t.id}function Lu(t){return t.parentId}function ju(t,e){return t.parent===e.parent?1:2}function Nu(t){var e=t.children;return e?e[0]:t.t}function Vu(t){var e=t.children;return e?e[e.length-1]:t.t}function qu(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Gu(t,e,n){return t.a.parent===e.parent?t.a:n}function Hu(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Xu(t,e,n,i,r){for(var o,a=t.children,l=-1,u=a.length,s=t.value&&(r-n)/t.value;++l<u;)(o=a[l]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*s}Hu.prototype=Object.create(du.prototype);var Yu=(1+Math.sqrt(5))/2;function Uu(t,e,n,i,r,o){for(var a,l,u,s,c,f,d,p,h,g,v,y=[],m=e.children,x=0,b=0,F=m.length,w=e.value;x<F;){u=r-n,s=o-i;do{c=m[b++].value}while(!c&&b<F);for(f=d=c,v=c*c*(g=Math.max(s/u,u/s)/(w*t)),h=Math.max(d/v,v/f);b<F;++b){if(c+=l=m[b].value,l<f&&(f=l),l>d&&(d=l),v=c*c*g,(p=Math.max(d/v,v/f))>h){c-=l;break}h=p}y.push(a={value:c,dice:u<s,children:m.slice(x,b)}),a.dice?Tu(a,n,i,r,w?i+=s*c/w:o):Xu(a,n,i,w?n+=u*c/w:r,o),w-=c,x=b}return y}var Zu=function t(e){function n(t,n,i,r,o){Uu(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Yu);function Ku(){var t=Zu,e=!1,n=1,i=1,r=[0],o=Ou,a=Ou,l=Ou,u=Ou,s=Ou;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(f),r=[0],e&&t.eachBefore(Ru),t}function f(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,f=e.x1-n,d=e.y1-n;f<i&&(i=f=(i+f)/2),d<c&&(c=d=(c+d)/2),e.x0=i,e.y0=c,e.x1=f,e.y1=d,e.children&&(n=r[e.depth+1]=o(e)/2,i+=s(e)-n,c+=a(e)-n,(f-=l(e)-n)<i&&(i=f=(i+f)/2),(d-=u(e)-n)<c&&(c=d=(c+d)/2),t(e,i,c,f,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=Du(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Eu(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Eu(+t),c):a},c.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:Eu(+t),c):l},c.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:Eu(+t),c):u},c.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:Eu(+t),c):s},c}var Qu=function t(e){function n(t,n,i,r,o){if((a=t._squarify)&&a.ratio===e)for(var a,l,u,s,c,f=-1,d=a.length,p=t.value;++f<d;){for(u=(l=a[f]).children,s=l.value=0,c=u.length;s<c;++s)l.value+=u[s].value;l.dice?Tu(l,n,i,r,p?i+=(o-i)*l.value/p:o):Xu(l,n,i,p?n+=(r-n)*l.value/p:r,o),p-=l.value}else t._squarify=a=Uu(e,t,n,i,r,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Yu),Ju=Object.freeze((t(wt={__proto__:null},Symbol.toStringTag,"Module"),t(wt,"cluster",(function(){var t=nu,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(iu,0)/t.length}(n),e.y=function(t){return 1+t.reduce(ru,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var l=function(t){for(var e;e=t.children;)t=e[0];return t}(r),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),s=l.x-t(l,u)/2,c=u.x+t(u,l)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-s)/(c-s)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r})),t(wt,"hierarchy",lu),t(wt,"pack",(function(){var t=null,e=1,n=1,i=Ou;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(zu(t)).eachAfter($u(i,.5)).eachBefore(_u(1)):r.eachBefore(zu(Cu)).eachAfter($u(Ou,1)).eachAfter($u(i,r.r/Math.min(e,n))).eachBefore(_u(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=Mu(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:Eu(+t),r):i},r})),t(wt,"packSiblings",(function(t){return ku(t),t})),t(wt,"packEnclose",pu),t(wt,"partition",Pu),t(wt,"stratify",(function(){var t=Wu,e=Lu;function n(n){var i,r,o,a,l,u,s,c=Array.from(n),f=c.length,d=new Map;for(r=0;r<f;++r)i=c[r],l=c[r]=new du(i),null!=(u=t(i,r,n))&&(u+="")&&(s=l.id=u,d.set(s,d.has(s)?Bu:l)),null!=(u=e(i,r,n))&&(u+="")&&(l.parent=u);for(r=0;r<f;++r)if(u=(l=c[r]).parent){if(!(a=d.get(u)))throw new Error("missing: "+u);if(a===Bu)throw new Error("ambiguous: "+u);a.children?a.children.push(l):a.children=[l],l.parent=a}else{if(o)throw new Error("multiple roots");o=l}if(!o)throw new Error("no root");if(o.parent=Iu,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(fu),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Du(e),n):t},n.parentId=function(t){return arguments.length?(e=Du(t),n):e},n})),t(wt,"tree",(function(){var t=ju,e=1,n=1,i=null;function r(r){var u=function(t){for(var e,n,i,r,o,a=new Hu(t,0),l=[a];e=l.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)l.push(n=e.children[r]=new Hu(i[r],r)),n.parent=e;return(a.parent=new Hu(null,0)).children=[a],a}(r);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),i)r.eachBefore(l);else{var s=r,c=r,f=r;r.eachBefore((function(t){t.x<s.x&&(s=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var d=s===c?1:t(s,c)/2,p=d-s.x,h=e/(c.x+d+p),g=n/(f.depth||1);r.eachBefore((function(t){t.x=(t.x+p)*h,t.y=t.depth*g}))}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,a=e,l=n,u=o.parent.children[0],s=o.m,c=a.m,f=l.m,d=u.m;l=Vu(l),o=Nu(o),l&&o;)u=Nu(u),(a=Vu(a)).a=e,(r=l.z+f-o.z-s+t(l._,o._))>0&&(qu(Gu(l,e,i),e,r),s+=r,c+=r),f+=l.m,s+=o.m,d+=u.m,c+=a.m;l&&!Vu(a)&&(a.t=l,a.m+=f-c),o&&!Nu(u)&&(u.t=o,u.m+=s-d,i=e)}return i}(e,r,e.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r})),t(wt,"treemap",Ku),t(wt,"treemapBinary",(function(t,e,n,i,r){var o,a,l=t.children,u=l.length,s=new Array(u+1);for(s[0]=a=o=0;o<u;++o)s[o+1]=a+=l[o].value;!function t(e,n,i,r,o,a,u){if(e>=n-1){var c=l[e];return c.x0=r,c.y0=o,c.x1=a,void(c.y1=u)}var f=s[e],d=i/2+f,p=e+1,h=n-1;for(;p<h;){var g=p+h>>>1;s[g]<d?p=g+1:h=g}d-s[p-1]<s[p]-d&&e+1<p&&--p;var v=s[p]-f,y=i-v;if(a-r>u-o){var m=i?(r*y+a*v)/i:a;t(e,p,v,r,o,m,u),t(p,n,y,m,o,a,u)}else{var x=i?(o*y+u*v)/i:u;t(e,p,v,r,o,a,x),t(p,n,y,r,x,a,u)}}(0,u,t.value,e,n,i,r)})),t(wt,"treemapDice",Tu),t(wt,"treemapSlice",Xu),t(wt,"treemapSliceDice",(function(t,e,n,i,r){(1&t.depth?Xu:Tu)(t,e,n,i,r)})),t(wt,"treemapSquarify",Zu),t(wt,"treemapResquarify",Qu),wt)),ts="Invalid field: it must be a string!";function es(t,e){var n=t.field,i=t.fields;if(h(n))return n;if(B(n))return console.warn(ts),n[0];if(console.warn(ts+" will try to get fields instead."),h(i))return i;if(B(i)&&i.length)return i[0];if(e)return e;throw new TypeError(ts)}function ns(t){var e=[];return t&&t.each?t.each((function(t){e.push(t)})):t&&t.eachNode&&t.eachNode((function(t){e.push(t)})),e}var is={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function rs(t,e){var n,i=(e=N({},is,e)).as;if(!B(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=es(e)}catch(u){console.warn(u)}var o=function(t){return Pu().size(e.size).round(e.round).padding(e.padding)(lu(t).sum((function(t){return H(t.children)?e.ignoreParentValue?0:t[n]-r(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))}(t),a=i[0],l=i[1];return o.each((function(t){var e,n;t[a]=[t.x0,t.x1,t.x1,t.x0],t[l]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===i.indexOf(e)&&delete t[e]}))})),ns(o)}var os,as={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function ls(t,e){var n,i=(e=N({},as,e)).as;if(!B(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=es(e)}catch(c){console.warn(c)}var r,o,a=(r=e.tile,o=e.ratio,"treemapSquarify"===r?Ju[r].ratio(o):Ju[r]),l=function(t){return Ku().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(lu(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),u=i[0],s=i[1];return l.each((function(t){t[u]=[t.x0,t.x1,t.x1,t.x0],t[s]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===i.indexOf(e)&&delete t[e]}))})),ns(l)}function us(t){var e=t.data,n=t.colorField,i=t.rawFields,r=t.hierarchyConfig,o=void 0===r?{}:r,a={partition:rs,treemap:ls},l=t.seriesField,u=t.type||"partition",s=a[u](e,Ct(Ct({field:l||"value"},o),{type:"hierarchy."+u,as:["x","y"]})),c=[];return s.forEach((function(t){var e,r,a,u,s,f;if(0===t.depth)return null;for(var d=t.data.name,p=Ct({},t);p.depth>1;)d=(null===(r=p.parent.data)||void 0===r?void 0:r.name)+" / "+d,p=p.parent;var h=Ct(Ct(Ct({},kt(t.data,$t(i||[],[o.field]))),((e={}).path=d,e["ancestor-node"]=p.data.name,e)),t);l&&(h[l]=t.data[l]||(null===(u=null===(a=t.parent)||void 0===a?void 0:a.data)||void 0===u?void 0:u[l])),n&&(h[n]=t.data[n]||(null===(f=null===(s=t.parent)||void 0===s?void 0:s.data)||void 0===f?void 0:f[n])),h.ext=o,h[tu]={hierarchyConfig:o,colorField:n,rawFields:i},c.push(h)})),c}function ss(t){var e,n=t.chart,i=t.options,r=i.color,o=i.colorField,a=void 0===o?Xl:o,l=i.sunburstStyle,u=i.rawFields,s=void 0===u?[]:u,c=us(i);return n.data(c),l&&(e=function(t){return Zt({},{fillOpacity:Math.pow(.85,t.depth)},p(l)?l(t):l)}),en(Zt({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:S($t(Zl,s)),polygon:{color:r,style:e}}})),t}function cs(t){return t.chart.axis(!1),t}function fs(t){return t.chart.legend(!1),t}function ds(t){var e=t.chart,n=t.options.label,i=It(e,"polygon");if(n){var r=n.fields,o=void 0===r?["name"]:r,a=n.callback,l=zt(n,["fields","callback"]);i.label({fields:o,callback:a,cfg:Vt(l)})}else i.label(!1);return t}function ps(t){var e=t.chart,n=t.options,i=n.innerRadius,r=n.radius,o=n.reflect,a=e.coordinate({type:"polar",cfg:{innerRadius:i,radius:r}});return o&&a.reflect(o),t}function hs(t){var e,n=t.options,i=n.hierarchyConfig,r=n.meta;return St(qe({},((e={}).value=o(r,o(i,["field"],"value")),e)))(t)}function gs(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var i=n;o(n,"fields")||(i=Zt({},{customItems:function(t){return t.map((function(t){var n=o(e.getOptions(),"scales"),i=o(n,[Ul,"formatter"],(function(t){return t})),r=o(n,[Yl,"formatter"],(function(t){return t}));return Ct(Ct({},t),{name:i(t.data.path),value:r(t.data.value)})}))}},i)),e.tooltip(i)}return t}function vs(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return(null==e?void 0:e.enabled)?Zt({},t,{interactions:$t(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:us}}])}):t}function ys(t){var e=t.chart,n=t.options,i=n.drilldown;return Be({chart:e,options:vs(n)}),(null==i?void 0:i.enabled)&&(e.appendPadding=gi(e.appendPadding,o(i,["breadCrumb","position"]))),t}function ms(t){return St(Le,ss,cs,hs,fs,ps,gs,ds,ys,We,Ge())(t)}function xs(t){var e=o(t,["event","data","data"],{});return B(e.children)&&e.children.length>0}C("drill-down-action",eu),z("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:xs},{trigger:"element:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:xs,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}Ot(e,t),e.getDefaultOptions=function(){return Kl},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ms},e.SUNBURST_ANCESTOR_FIELD=Xl,e.SUNBURST_PATH_FIELD=Ul}(Re);var bs="range",Fs="type",ws="percent",As="indicator-view",Ss="range-view",ks={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(os={},os.range={sync:"v"},os.percent={sync:"v",tickCount:5,tickInterval:.2},os),animation:!1};function Ms(t){var e;return[(e={},e.percent=tt(t,0,1),e)]}function Ds(t,e){var n=o(e,["ticks"],[]);return function(t,e){return t.map((function(n,i){var r;return(r={}).range=n-(t[i-1]||0),r.type=""+i,r.percent=e,r})).filter((function(t){return!!t.range}))}(H(n)?n:[0,tt(t,0,1),1],t)}function Os(t){var e=t.chart,n=t.options,i=n.percent,r=n.range,o=n.radius,a=n.innerRadius,l=n.startAngle,u=n.endAngle,s=n.axis,c=n.indicator,f=n.gaugeStyle,d=r.color,p=r.width;if(c){var g=Ms(i),v=e.createView({id:As});v.data(g),v.point().position("percent*1").shape("gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),v.coordinate("polar",{startAngle:l,endAngle:u,radius:a*o}),v.axis(ws,s),v.scale(ws,kt(s,Te))}var y=Ds(i,n.range),m=e.createView({id:Ss});m.data(y);var x=h(d)?[d,"#f0f0f0"]:d;return tn({chart:m,options:{xField:"1",yField:bs,seriesField:Fs,rawFields:[ws],isStack:!0,interval:{color:x,style:f},args:{zIndexReversed:!0},minColumnWidth:p,maxColumnWidth:p}}),m.coordinate("polar",{innerRadius:a,radius:o,startAngle:l,endAngle:u}).transpose(),t}function Es(t){var e,n=t.chart,i=t.options,r=i.type,o=i.meter;if("meter"===r){var a=i.innerRadius,l=i.radius,u=i.startAngle,s=i.endAngle,c=i.range,f=null==c?void 0:c.width,d=null==c?void 0:c.width,p=n.getTheme().background;p&&"transparent"!==p||(p="#fff");var h=n.createView({id:"range-mask-view"});h.data([(e={},e.type="1",e.range=1,e)]);var g={meter:o};h.interval({minColumnWidth:f,maxColumnWidth:d}).position("1*range").color(p).adjust("stack").shape("meter-gauge").customInfo(g),h.coordinate("polar",{innerRadius:a,radius:l,startAngle:u,endAngle:s}).transpose()}return t}function Cs(t){var e;return St(qe(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}}).percent={},e)))(t)}function zs(t,e){var n=t.chart,i=t.options,r=i.statistic,a=i.percent;if(n.getController("annotation").clear(!0),r){var l=r.content,u=void 0;l&&(u=Zt({},{content:(100*a).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},l)),function(t,e,n){var i=e.statistic;[i.title,i.content].forEach((function(e){if(e){var i=p(e.style)?e.style(n):e.style;t.annotation().html(Ct({position:["50%","100%"],html:function(t,r){var a=r.getCoordinate(),l=r.views[0].getCoordinate(),u=l.getCenter(),s=l.getRadius(),c=Math.max(Math.sin(l.startAngle),Math.sin(l.endAngle))*s,f=u.y+c-a.y.start-parseFloat(o(i,"fontSize",0)),d=a.getRadius()*a.innerRadius*2;Jt(t,Ct({width:d+"px",transform:"translate(-50%, "+f+"px)"},Qt(i)));var p=r.getData();if(e.customHtml)return e.customHtml(t,r,n,p);var g=e.content;return e.formatter&&(g=e.formatter(n,p)),g?h(g)?g:""+g:"<div></div>"}},kt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))}(n,{statistic:Ct(Ct({},r),{content:u})},{percent:a})}return e&&n.render(!0),t}function $s(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}function _s(t){return St(Le,We,Os,Cs,zs,Be,Es,Ge(),$s)(t)}V("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,i=n.indicator,r=n.defaultColor,o=i,a=o.pointer,l=o.pin,u=e.addGroup(),s=this.parsePoint({x:0,y:0});return a&&u.addShape("line",{name:"pointer",attrs:Ct({x1:s.x,y1:s.y,x2:t.x,y2:t.y,stroke:r},a.style)}),l&&u.addShape("circle",{name:"pin",attrs:Ct({x:s.x,y:s.y,stroke:r},l.style)}),u}}),V("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,i=void 0===n?{}:n,r=i.steps,o=void 0===r?50:r,a=i.stepRatio,l=void 0===a?.5:a,u=this.coordinate.endAngle-this.coordinate.startAngle,s=u/o,c=0;l>0&&l<=1&&(c=(s=u/((1-l)/l*(o-1)+o))*(1-l)/l);var f=e.addGroup();if(c>0)for(var d=this.coordinate.getCenter(),p=this.coordinate.getRadius(),h=P.getAngle(t,this.coordinate),g=h.startAngle,v=h.endAngle,y=g,m=0;y<v&&m<2*o-1;m++){var x=m%2;if(x){var b=P.getSectorPath(d.x,d.y,p,y,Math.min(y+c,v),p*this.coordinate.innerRadius);f.addShape("path",{name:"meter-gauge-mask",attrs:{path:b,fill:t.color,stroke:t.color,lineWidth:.5},capture:!1})}y+=x?c:s}return f}});var Rs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return Ot(e,t),e.getDefaultOptions=function(){return ks},e.prototype.changeData=function(t){this.chart.emit(L.BEFORE_CHANGE_DATA,j.fromData(this.chart,L.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===As}));e&&e.data(Ms(t));var n=this.chart.views.find((function(t){return t.id===Ss}));n&&n.data(Ds(t,this.options.range)),zs({chart:this.chart,options:this.options},!0),this.chart.emit(L.AFTER_CHANGE_DATA,j.fromData(this.chart,L.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _s},e}(Re),Ts="$$yField$$",Ps="$$diffField$$",Is="$$absoluteField$$",Bs="$$isTotal$$",Ws={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function Ls(t,e,n,i){return function(t,e,n,i,a){var l,u=[];if(r(t,(function(t,e){var r;Tt(Et.WARN,v(e[n]),e[n]+" is not a valid number");var o=lt(e[n])?null:e[n];return u.push(Ct(Ct({},e),((r={})[i]=[t,t+o],r))),t+o}),0),u.length&&a){var s=o(u,[[t.length-1],i,[1]]);u.push(((l={})[e]=a.label,l[n]=s,l[i]=[0,s],l))}return u}(t,e,n,Ts,i).map((function(e,n){var i;return w(e)?Ct(Ct({},e),((i={})[Is]=e.$$yField$$[1],i[Ps]=e.$$yField$$[1]-e.$$yField$$[0],i[Bs]=n===t.length,i)):e}))}function js(t){var e=t.options,n=e.locale,i=e.total,r=fe(n).get(["waterfall","total"]);return i&&"string"!=typeof i.label&&r&&(t.options.total.label=r),t}function Ns(t){var e=t.chart,n=t.options,i=n.data,r=n.xField,a=n.yField,l=n.total,u=n.leaderLine,s=n.columnWidthRatio,c=n.waterfallStyle,f=n.risingFill,d=n.fallingFill,p=n.color;return e.data(Ls(i,r,a,l)),tn(Zt({},t,{options:{xField:r,yField:Ts,seriesField:r,rawFields:[a,Ps,Bs,Ts],widthRatio:s,interval:{style:c,shape:"waterfall",color:p||function(t){return o(t,[Bs])?o(l,["style","fill"],""):o(t,[Ts,1])-o(t,[Ts,0])>0?f:d}}}})).ext.geometry.customInfo({leaderLine:u}),t}function Vs(t){var e,n,i=t.options,r=i.xAxis,a=i.yAxis,l=i.xField,u=i.yField,s=i.meta,c=Zt({},{alias:u},o(s,u));return St(qe(((e={})[l]=r,e[u]=a,e.$$yField$$=a,e),Zt({},s,((n={}).$$yField$$=c,n[Ps]=c,n[Is]=c,n))))(t)}function qs(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?(e.axis(a,!1),e.axis(Ts,!1)):(e.axis(a,r),e.axis(Ts,r)),t}function Gs(t){var e=t.chart,n=t.options,i=n.legend,r=n.total,a=n.risingFill,l=n.fallingFill,u=fe(n.locale);if(!1===i)e.legend(!1);else{var s=[{name:u.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:u.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:l}}}];r&&s.push({name:r.label||"",value:"total",marker:{symbol:"square",style:Zt({},{r:5},o(r,"style"))}}),e.legend(Zt({},{custom:!0,position:"top",items:s},i)),e.removeInteraction("legend-filter")}return t}function Hs(t){var e=t.chart,n=t.options,i=n.label,r=n.labelMode,o=n.xField,a=It(e,"interval");if(i){var l=i.callback,u=zt(i,["callback"]);a.label({fields:"absolute"===r?[Is,o]:[Ps,o],callback:l,cfg:Vt(u)})}else a.label(!1);return t}function Xs(t){var e=t.chart,n=t.options,i=n.tooltip,r=n.xField,o=n.yField;if(!1!==i){e.tooltip(Ct({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[o]},i));var a=e.geometries[0];(null==i?void 0:i.formatter)?a.tooltip(r+"*"+o,i.formatter):a.tooltip(o)}else e.tooltip(!1);return t}function Ys(t){return St(js,Le,Ns,Vs,qs,Gs,Xs,Hs,je,Be,We,Ge())(t)}function Us(t,e,n){var i=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),r=i.length>0?Math.max.apply(Math,i):0,o=Math.abs(t)%360;return o?360*r/o:r}function Zs(t){var e=t.chart,n=t.options,i=n.barStyle,r=n.color,o=n.tooltip,a=n.colorField,l=n.type,u=n.xField,s=n.yField,c=le(n.data,s);return e.data(c),tn(Zt({},t,{options:{tooltip:o,seriesField:a,interval:{style:i,color:r,shape:"line"===l?"line":"intervel"},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===l&&Je({chart:e,options:{xField:u,yField:s,seriesField:a,point:{shape:"circle",color:r}}}),t}function Ks(t){var e,n=t.options,i=n.yField,r=n.maxAngle,o=le(n.data,i);return St(qe(((e={})[i]={min:0,max:Us(r,i,o)},e)))(t)}function Qs(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:i,innerRadius:r,startAngle:o,endAngle:a}}).transpose(),t}function Js(t){var e=t.chart,n=t.options,i=n.xField,r=n.xAxis;return e.axis(i,r),t}function tc(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=It(e,"interval");if(i){var a=i.callback,l=zt(i,["callback"]);o.label({fields:[r],callback:a,cfg:Ct(Ct({},Vt(l)),{type:"polar"})})}else o.label(!1);return t}function ec(t){return St(Zs,Ks,Js,Qs,Be,We,Le,Ie,Pe,Ge(),tc)(t)}V("interval","waterfall",{draw:function(t,e){var n=t.customInfo,i=t.points,r=t.nextPoints,a=e.addGroup(),l=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(i){var r=0===n?"M":"L";e.push([r,i.x,i.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(i)),u=function(t){return Zt({},t.defaultStyle,t.style,{fill:t.color})}(t);a.addShape("path",{attrs:Ct(Ct({},u),{path:l})});var s=o(n,"leaderLine");if(s&&r){var c=[["M",i[2].x,i[2].y],["L",r[0].x,r[0].y]];i[2].y===r[1].y&&(c[1]=["L",r[1].x,r[1].y]),c=this.parsePath(c),a.addShape("path",{attrs:Ct({path:c},s.style||{})})}return a}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}Ot(e,t),e.getDefaultOptions=function(){return Ws},e.prototype.changeData=function(t){var e=this.options,n=e.xField,i=e.yField,r=e.total;this.updateOption({data:t}),this.chart.changeData(Ls(t,n,i,r))},e.prototype.getSchemaAdaptor=function(){return Ys},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Re);var nc=Zt({},Re.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}Ot(e,t),e.getDefaultOptions=function(){return nc},e.prototype.changeData=function(t){this.updateOption({data:t}),Ks({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ec}}(Re);var ic="first-axes-view",rc="second-axes-view",oc="series-field-key";function ac(t,e,n,i,r){var o=[];e.forEach((function(e){i.forEach((function(i){var r,a=((r={})[t]=i[t],r[n]=e,r[e]=i[e],r);o.push(a)}))}));var a=Object.values(Q(o,n)),l=a[0],u=void 0===l?[]:l,s=a[1],c=void 0===s?[]:s;return r?[u.reverse(),c.reverse()]:[u,c]}function lc(t){return"vertical"!==t}function uc(t,e,n){var i=e[0],r=e[1],o=i.autoPadding,a=r.autoPadding,l=t.__axisPosition,u=l.layout,s=l.position;if(lc(u)&&"top"===s&&(i.autoPadding=n.instance(o.top,0,o.bottom,o.left),r.autoPadding=n.instance(a.top,o.left,a.bottom,0)),lc(u)&&"bottom"===s&&(i.autoPadding=n.instance(o.top,o.right/2+5,o.bottom,o.left),r.autoPadding=n.instance(a.top,a.right,a.bottom,o.right/2+5)),!lc(u)&&"bottom"===s){var c=o.left>=a.left?o.left:a.left;i.autoPadding=n.instance(o.top,o.right,o.bottom/2+5,c),r.autoPadding=n.instance(o.bottom/2+5,a.right,a.bottom,c)}if(!lc(u)&&"top"===s){c=o.left>=a.left?o.left:a.left;i.autoPadding=n.instance(o.top,o.right,0,c),r.autoPadding=n.instance(0,a.right,o.top,c)}}function sc(t){var e,n,i=t.chart,r=t.options,o=r.data,a=r.xField,l=r.yField,u=r.color,s=r.barStyle,c=r.widthRatio,f=r.legend,d=r.layout,p=ac(a,l,oc,o,lc(d));f?i.legend(oc,f):!1===f&&i.legend(!1);var h=p[0],g=p[1];return lc(d)?((e=i.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:ic})).coordinate().transpose().reflect("x"),(n=i.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:rc})).coordinate().transpose(),e.data(h),n.data(g)):(e=i.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:ic}),(n=i.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:rc})).coordinate().reflect("y").rotate(0*Math.PI),e.data(h),n.data(g)),tn(Zt({},t,{chart:e,options:{widthRatio:c,xField:a,yField:l[0],seriesField:oc,interval:{color:u,style:s}}})),tn(Zt({},t,{chart:n,options:{xField:a,yField:l[1],seriesField:oc,widthRatio:c,interval:{color:u,style:s}}})),t}function cc(t){var e,n,i,r=t.options,a=t.chart,l=r.xAxis,u=r.yAxis,s=r.xField,c=r.yField,f=Lt(a,ic),d=Lt(a,rc),p={};return ut((null==r?void 0:r.meta)||{}).map((function(t){o(null==r?void 0:r.meta,[t,"alias"])&&(p[t]=r.meta[t].alias)})),a.scale(((e={})[oc]={sync:!0,formatter:function(t){return o(p,t,t)}},e)),qe(((n={})[s]=l,n[c[0]]=u[c[0]],n))(Zt({},t,{chart:f})),qe(((i={})[s]=l,i[c[1]]=u[c[1]],i))(Zt({},t,{chart:d})),t}function fc(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField,l=n.layout,u=Lt(e,ic),s=Lt(e,rc);return"bottom"===(null==i?void 0:i.position)?s.axis(o,Ct(Ct({},i),{label:{formatter:function(){return""}}})):s.axis(o,!1),!1===i?u.axis(o,!1):u.axis(o,Ct({position:lc(l)?"top":"bottom"},i)),!1===r?(u.axis(a[0],!1),s.axis(a[1],!1)):(u.axis(a[0],r[a[0]]),s.axis(a[1],r[a[1]])),e.__axisPosition={position:u.getOptions().axes[o].position,layout:l},t}function dc(t){var e=t.chart;return Be(Zt({},t,{chart:Lt(e,ic)})),Be(Zt({},t,{chart:Lt(e,rc)})),t}function pc(t){var e=t.chart,n=t.options,i=n.yField,r=n.yAxis;return He(Zt({},t,{chart:Lt(e,ic),options:{yAxis:r[i[0]]}})),He(Zt({},t,{chart:Lt(e,rc),options:{yAxis:r[i[1]]}})),t}function hc(t){var e=t.chart;return Le(Zt({},t,{chart:Lt(e,ic)})),Le(Zt({},t,{chart:Lt(e,rc)})),t}function gc(t){var e=t.chart;return We(Zt({},t,{chart:Lt(e,ic)})),We(Zt({},t,{chart:Lt(e,rc)})),t}function vc(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=Lt(e,ic),a=Lt(e,rc),l=It(o,"interval"),u=It(a,"interval");if(i){var s=i.callback,c=zt(i,["callback"]);l.label({fields:[r[0]],callback:s,cfg:Vt(c)}),u.label({fields:[r[1]],callback:s,cfg:Vt(c)})}else l.label(!1),u.label(!1);return t}function yc(t){return St(sc,cc,fc,pc,hc,vc,Ie,dc,gc)(t)}function mc(t,e){if(B(t))return t.find((function(t){return t.type===e}))}function xc(t,e){var n=mc(t,e);return n&&!1!==n.enable}function bc(t){var e=t.interactions,n=t.drilldown;return o(n,"enabled")||xc(e,"treemap-drill-down")}function Fc(t){var e=t.data,n=t.colorField,i=t.enableDrillDown,r=t.hierarchyConfig,o=ls(e,Ct(Ct({},r),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),a=[];return o.forEach((function(t){if(0===t.depth)return null;if(i&&1!==t.depth)return null;if(!i&&t.children)return null;var o=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),l=i&&B(e.path)?o.concat(e.path.slice(1)):o,u=Object.assign({},t.data,Ct({x:t.x,y:t.y,depth:t.depth,value:t.value,path:l},t));if(!t.data[n]&&t.parent){var s=t.ancestors().find((function(t){return t.data[n]}));u[n]=null==s?void 0:s.data[n]}else u[n]=t.data[n];u[tu]={hierarchyConfig:r,colorField:n,enableDrillDown:i},a.push(u)})),a}function wc(t){var e=t.options.colorField;return Zt({options:{tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function Ac(t){var e=t.chart,n=t.options,i=n.color,r=n.colorField,o=n.rectStyle,a=n.hierarchyConfig,l=Fc({data:n.data,colorField:n.colorField,enableDrillDown:bc(n),hierarchyConfig:a});return e.data(l),en(Zt({},t,{options:{xField:"x",yField:"y",seriesField:r,rawFields:["value"],polygon:{color:i,style:o}}})),e.coordinate().reflect("y"),t}function Sc(t){return t.chart.axis(!1),t}function kc(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return bc(t)?Zt({},t,{interactions:$t(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:Fc}}])}):t}function Mc(t){var e=t.chart,n=t.options,i=n.interactions,r=n.drilldown;Be({chart:e,options:kc(n)});var a=mc(i,"view-zoom");return a&&(!1!==a.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),bc(n)&&(e.appendPadding=gi(e.appendPadding,o(r,["breadCrumb","position"]))),t}function Dc(t){return St(wc,Le,Ac,Sc,Pe,Ie,Mc,We,Ge())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}Ot(e,t),e.getDefaultOptions=function(){return Zt({},t.getDefaultOptions.call(this),{syncViewPadding:uc})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(L.BEFORE_CHANGE_DATA,j.fromData(this.chart,L.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,i=e.yField,r=e.layout,o=ac(n,i,oc,t,lc(r)),a=o[0],l=o[1],u=Lt(this.chart,ic),s=Lt(this.chart,rc);u.data(a),s.data(l),this.chart.render(!0),this.chart.emit(L.AFTER_CHANGE_DATA,j.fromData(this.chart,L.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return yc}}(Re);var Oc={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}Ot(e,t),e.getDefaultOptions=function(){return Oc},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,i=e.interactions,r=e.hierarchyConfig;this.updateOption({data:t});var o,a,l=Fc({data:t,colorField:n,enableDrillDown:xc(i,"treemap-drill-down"),hierarchyConfig:r});this.chart.changeData(l),o=this.chart,(a=o.interactions["drill-down"])&&a.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Dc}}(Re);var Ec="name",Cc="nodes",zc="edges";function $c(t){return t.target.depth}function _c(t,e){return t.sourceLinks.length?t.depth:e-1}function Rc(t){return function(){return t}}function Tc(t,e){for(var n=0,i=0;i<t.length;i++)n+=e(t[i]);return n}function Pc(t,e){for(var n=-1/0,i=0;i<t.length;i++)n=Math.max(e(t[i]),n);return n}function Ic(t,e){return Wc(t.source,e.source)||t.index-e.index}function Bc(t,e){return Wc(t.target,e.target)||t.index-e.index}function Wc(t,e){return t.y0-e.y0}function Lc(t){return t.value}function jc(t){return t.index}function Nc(t){return t.nodes}function Vc(t){return t.links}function qc(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Gc(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var i=n[e],r=i.y0,o=r,a=0,l=i.sourceLinks;a<l.length;a++){(c=l[a]).y0=r+c.width/2,r+=c.width}for(var u=0,s=i.targetLinks;u<s.length;u++){var c;(c=s[u]).y1=o+c.width/2,o+=c.width}}}function Hc(){var t,e,n,r,o=0,a=0,l=1,u=1,s=24,c=8,f=jc,d=_c,p=Nc,h=Vc,g=6;function v(v){var x={nodes:p(v),links:h(v)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var o=new Map(e.map((function(t){return[f(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,r=t.target;"object"!==i(n)&&(n=t.source=qc(o,n)),"object"!==i(r)&&(r=t.target=qc(o,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})),null!=r)for(var a=0,l=e;a<l.length;a++){var u=l[a],s=u.sourceLinks,c=u.targetLinks;s.sort(r),c.sort(r)}}(x),function(t){for(var e=t.nodes,n=0,i=e;n<i.length;n++){var r=i[n];r.value=void 0===r.fixedValue?Math.max(Tc(r.sourceLinks,Lc),Tc(r.targetLinks,Lc)):r.fixedValue}}(x),function(t){var n=t.nodes,i=n.length,r=new Set(n),o=new Set,a=0;for(;r.size;){if(r.forEach((function(t){t.depth=a;for(var e=0,n=t.sourceLinks;e<n.length;e++){var i=n[e].target;o.add(i)}})),++a>i)throw new Error("circular link");r=o,o=new Set}if(e)for(var l=Math.max(Pc(n,(function(t){return t.depth}))+1,0),u=void 0,s=0;s<n.length;s++)(u=n[s]).depth=e.call(null,u,l)}(x),function(t){var e=t.nodes,n=e.length,i=new Set(e),r=new Set,o=0;for(;i.size;){if(i.forEach((function(t){t.height=o;for(var e=0,n=t.targetLinks;e<n.length;e++){var i=n[e].source;r.add(i)}})),++o>n)throw new Error("circular link");i=r,r=new Set}}(x),function(e){var i=function(t){for(var e=t.nodes,i=Math.max(Pc(e,(function(t){return t.depth}))+1,0),r=(l-o-s)/(i-1),a=new Array(i).fill(0).map((function(){return[]})),u=0,c=e;u<c.length;u++){var f=c[u],p=Math.max(0,Math.min(i-1,Math.floor(d.call(null,f,i))));f.layer=p,f.x0=o+p*r,f.x1=f.x0+s,a[p]?a[p].push(f):a[p]=[f]}if(n)for(var h=0,g=a;h<g.length;h++){g[h].sort(n)}return a}(e);t=Math.min(c,(u-a)/(Pc(i,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,i=0;i<t.length;i++)n=Math.min(e(t[i]),n);return n}(e,(function(e){return(u-a-(e.length-1)*t)/Tc(e,Lc)})),i=0,r=e;i<r.length;i++){for(var o=r[i],l=a,s=0,c=o;s<c.length;s++){(g=c[s]).y0=l,g.y1=l+g.value*n,l=g.y1+t;for(var f=0,d=g.sourceLinks;f<d.length;f++){var p=d[f];p.width=p.value*n}}l=(u-l+t)/(o.length+1);for(var h=0;h<o.length;++h){var g;(g=o[h]).y0+=l*(h+1),g.y1+=l*(h+1)}A(o)}}(i);for(var r=0;r<g;++r){var f=Math.pow(.99,r),p=Math.max(1-f,(r+1)/g);m(i,f,p),y(i,f,p)}}(x),Gc(x),x}function y(t,e,i){for(var r=1,o=t.length;r<o;++r){for(var a=t[r],l=0,u=a;l<u.length;l++){for(var s=u[l],c=0,f=0,d=0,p=s.targetLinks;d<p.length;d++){var h=p[d],g=h.source,v=h.value*(s.layer-g.layer);c+=S(g,s)*v,f+=v}if(f>0){var y=(c/f-s.y0)*e;s.y0+=y,s.y1+=y,w(s)}}void 0===n&&a.sort(Wc),a.length&&x(a,i)}}function m(t,e,i){for(var r=t.length-2;r>=0;--r){for(var o=t[r],a=0,l=o;a<l.length;a++){for(var u=l[a],s=0,c=0,f=0,d=u.sourceLinks;f<d.length;f++){var p=d[f],h=p.target,g=p.value*(h.layer-u.layer);s+=k(u,h)*g,c+=g}if(c>0){var v=(s/c-u.y0)*e;u.y0+=v,u.y1+=v,w(u)}}void 0===n&&o.sort(Wc),o.length&&x(o,i)}}function x(e,n){var i=e.length>>1,r=e[i];F(e,r.y0-t,i-1,n),b(e,r.y1+t,i+1,n),F(e,u,e.length-1,n),b(e,a,0,n)}function b(e,n,i,r){for(;i<e.length;++i){var o=e[i],a=(n-o.y0)*r;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function F(e,n,i,r){for(;i>=0;--i){var o=e[i],a=(o.y1-n)*r;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function w(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===r){for(var i=0,o=n;i<o.length;i++){o[i].source.sourceLinks.sort(Bc)}for(var a=0,l=e;a<l.length;a++){l[a].target.targetLinks.sort(Ic)}}}function A(t){if(void 0===r)for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i.sourceLinks,a=i.targetLinks;o.sort(Bc),a.sort(Ic)}}function S(e,n){for(var i=e.y0-(e.sourceLinks.length-1)*t/2,r=0,o=e.sourceLinks;r<o.length;r++){var a=o[r],l=a.target,u=a.width;if(l===n)break;i+=u+t}for(var s=0,c=n.targetLinks;s<c.length;s++){var f=c[s];l=f.source,u=f.width;if(l===e)break;i-=u}return i}function k(e,n){for(var i=n.y0-(n.targetLinks.length-1)*t/2,r=0,o=n.targetLinks;r<o.length;r++){var a=o[r],l=a.source,u=a.width;if(l===e)break;i+=u+t}for(var s=0,c=e.sourceLinks;s<c.length;s++){var f=c[s];l=f.target,u=f.width;if(l===n)break;i-=u}return i}return v.update=function(t){return Gc(t),t},v.nodeId=function(t){return arguments.length?(f="function"==typeof t?t:Rc(t),v):f},v.nodeAlign=function(t){return arguments.length?(d="function"==typeof t?t:Rc(t),v):d},v.nodeDepth=function(t){return arguments.length?(e=t,v):e},v.nodeSort=function(t){return arguments.length?(n=t,v):n},v.nodeWidth=function(t){return arguments.length?(s=+t,v):s},v.nodePadding=function(e){return arguments.length?(c=t=+e,v):c},v.nodes=function(t){return arguments.length?(p="function"==typeof t?t:Rc(t),v):p},v.links=function(t){return arguments.length?(h="function"==typeof t?t:Rc(t),v):h},v.linkSort=function(t){return arguments.length?(r=t,v):r},v.size=function(t){return arguments.length?(o=a=0,l=+t[0],u=+t[1],v):[l-o,u-a]},v.extent=function(t){return arguments.length?(o=+t[0][0],l=+t[1][0],a=+t[0][1],u=+t[1][1],v):[[o,a],[l,u]]},v.iterations=function(t){return arguments.length?(g=+t,v):g},v}var Xc={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?st(t.sourceLinks,$c)-1:0},justify:_c},Yc={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Uc(t,e){var n=function(t){return N({},Yc,t)}(t),i=n.nodeId,r=n.nodeSort,o=n.nodeAlign,a=n.nodeWidth,l=n.nodePadding,u=n.nodeDepth,s=Hc().nodeSort(r).nodeWidth(a).nodePadding(l).nodeDepth(u).nodeAlign(function(t){return(h(t)?Xc[t]:p(t)?t:null)||_c}(o)).extent([[0,0],[1,1]]).nodeId(i)(e);return s.nodes.forEach((function(t){var e=t.x0,n=t.x1,i=t.y0,r=t.y1;t.x=[e,n,n,e],t.y=[i,i,r,r]})),s.links.forEach((function(t){var e=t.source,n=t.target,i=e.x1,r=n.x0;t.x=[i,i,r,r];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})),s}function Zc(t,e,n){if(!B(t))return[];var i=[],r=function(t,e,n){var i=[];return t.forEach((function(t){var r=t[e],o=t[n];i.includes(r)||i.push(r),i.includes(o)||i.push(o)})),i}(t,e,n),o=function(t,e,n,i){var r={};return e.forEach((function(t){r[t]={},e.forEach((function(e){r[t][e]=0}))})),t.forEach((function(t){r[t[n]][t[i]]=1})),r}(t,r,e,n),a={};function l(t){a[t]=1,r.forEach((function(e){if(0!=o[t][e])if(1==a[e])i.push(t+"_"+e);else{if(-1==a[e])return;l(e)}})),a[t]=-1}return r.forEach((function(t){a[t]=0})),r.forEach((function(t){-1!=a[t]&&l(t)})),0!==i.length&&console.warn("sankey data contains circle, "+i.length+" records removed.",i),t.filter((function(t){return i.findIndex((function(i){return i===t[e]+"_"+t[n]}))<0}))}function Kc(t,e,n){return re(t)?t/n:e}function Qc(t,e,n){return re(t)?t/n:e}function Jc(t,e,n){var i=t.data,r=t.sourceField,o=t.targetField,a=t.weightField,l=t.nodeAlign,u=t.nodeSort,s=t.nodePadding,c=t.nodePaddingRatio,f=t.nodeWidth,d=t.nodeWidthRatio,p=t.nodeDepth,h=t.rawFields,g=void 0===h?[]:h,v=ae(Zc(i,r,o),r,o,a,g),y=Uc({nodeAlign:l,nodePadding:Qc(s,c,n),nodeWidth:Kc(f,d,e),nodeSort:u,nodeDepth:p},v),m=y.nodes,x=y.links;return{nodes:m.map((function(t){return Ct(Ct({},kt(t,$t(["x","y","name"],g))),{isNode:!0})})),edges:x.map((function(t){return Ct(Ct({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},kt(t,$t(["x","y","value"],g))),{isNode:!1})}))}}function tf(t){var e=t.chart,n=t.options,i=n.color,r=n.nodeStyle,o=n.edgeStyle,a=n.label,l=n.tooltip;e.legend(!1),e.tooltip(l),e.axis(!1),e.coordinate().reflect("y");var u=Jc(n,e.width,e.height),s=u.nodes,c=u.edges,f=e.createView({id:zc});f.data(c),nn({chart:f,options:{xField:"x",yField:"y",seriesField:Ec,edge:{color:i,style:o,shape:"arc"},tooltip:l,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var d=e.createView({id:Cc});return d.data(s),en({chart:d,options:{xField:"x",yField:"y",seriesField:Ec,polygon:{color:i,style:r},label:a,tooltip:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function ef(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),$t(e.views[0].geometries,e.views[1].geometries).forEach((function(t){t.animate(n)})),t}function nf(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function rf(t){return St(tf,Be,nf,ef,Le)(t)}var of=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return Ot(e,t),e.prototype.isNodeElement=function(){var t=o(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Lt(this.context.view,Cc)},e.prototype.getEdgeView=function(){return Lt(this.context.view,zc)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:o(this.context,"event.x"),y:o(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:o(this.context,"event.x"),y:o(this.context,"event.y")},n=e.x-this.prevPoint.x,i=e.y-this.prevPoint.y,r=this.getNodeView(),a=r.geometries[0].elements[this.currentElementIdx];if(a&&a.getModel()){var l=a.getModel().data,u=r.getOptions().data,s=r.getCoordinate(),c={x:n/s.getWidth(),y:i/s.getHeight()},f=Ct(Ct({},l),{x:l.x.map((function(t){return t+c.x})),y:l.y.map((function(t){return t+c.y}))}),d=$t(u);d[this.currentElementIdx]=f,r.data(d);var p=l.name,h=this.getEdgeView(),g=h.getOptions().data;g.forEach((function(t){t.source===p&&(t.x[0]+=c.x,t.x[1]+=c.x,t.y[0]+=c.y,t.y[1]+=c.y),t.target===p&&(t.x[2]+=c.x,t.x[3]+=c.x,t.y[2]+=c.y,t.y[3]+=c.y)})),h.data(g),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(E);C("sankey-node-drag",of),z("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}Ot(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(t,e){var n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8,content:e}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(t){return!o(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Jc(this.options,this.chart.width,this.chart.height),n=e.nodes,i=e.edges,r=Lt(this.chart,Cc),o=Lt(this.chart,zc);r.changeData(n),o.changeData(i)},e.prototype.getSchemaAdaptor=function(){return rf},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Re);var af={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function lf(t,e){var n=function(t){return N({},af,t)}(t),i={},r=e.nodes,o=e.links;return r.forEach((function(t){var e=n.id(t);i[e]=t})),function(t,e,n){g(t,(function(t,i){t.inEdges=e.filter((function(t){return""+n.target(t)==""+i})),t.outEdges=e.filter((function(t){return""+n.source(t)==""+i})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(i,o,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return(""+e.id(t)).localeCompare(""+e.id(n))}}[e.sortBy];!n&&p(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(r,n),{nodes:function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var i=e.nodePaddingRatio;if(i<0||i>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var r=i/(2*n),o=e.nodeWidthRatio;if(o<=0||o>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var a=0;t.forEach((function(t){a+=t.value})),t.forEach((function(t){t.weight=t.value/a,t.width=t.weight*(1-i),t.height=o})),t.forEach((function(n,i){for(var a=0,l=i-1;l>=0;l--)a+=t[l].width+2*r;var u=n.minX=r+a,s=n.maxX=n.minX+n.width,c=n.minY=e.y-o/2,f=n.maxY=c+o;n.x=[u,s,s,u],n.y=[c,c,f,f]}))}else{var l=1/n;t.forEach((function(t,n){t.x=(n+.5)*l,t.y=e.y}))}return t}(r,n),links:function(t,e,n){if(n.weight){var i={};g(t,(function(t,e){i[e]=t.value})),e.forEach((function(e){var r=n.source(e),o=n.target(e),a=t[r],l=t[o];if(a&&l){var u=i[r],s=n.sourceWeight(e),c=a.minX+(a.value-u)/a.value*a.width,f=c+s/a.value*a.width;i[r]-=s;var d=i[o],p=n.targetWeight(e),h=l.minX+(l.value-d)/l.value*l.width,g=h+p/l.value*l.width;i[o]-=p;var v=n.y;e.x=[c,f,h,g],e.y=[v,v,v,v],e.source=a,e.target=l}}))}else e.forEach((function(e){var i=t[n.source(e)],r=t[n.target(e)];i&&r&&(e.x=[i.x,r.x],e.y=[i.y,r.y],e.source=i,e.target=r)}));return e}(i,o,n)}}var uf="name",sf="source",cf={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!o(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function ff(t){var e=t.options,n=e.data,i=e.sourceField,r=e.targetField,o=e.weightField,a=e.nodePaddingRatio,l=e.nodeWidthRatio,u=e.rawFields,s=void 0===u?[]:u,c=lf({weight:!0,nodePaddingRatio:a,nodeWidthRatio:l},ae(n,i,r,o)),f=c.nodes,d=c.links,p=f.map((function(t){return Ct(Ct({},kt(t,$t(["id","x","y","name"],s))),{isNode:!0})})),h=d.map((function(t){return Ct(Ct({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},kt(t,$t(["x","y","value"],s))),{isNode:!1})}));return Ct(Ct({},t),{ext:Ct(Ct({},t.ext),{chordData:{nodesData:p,edgesData:h}})})}function df(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}}).name={sync:"color"},e.source={sync:"color"},e)),t}function pf(t){return t.chart.axis(!1),t}function hf(t){return t.chart.legend(!1),t}function gf(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function vf(t){return t.chart.coordinate("polar").reflect("y"),t}function yf(t){var e=t.chart,n=t.options,i=t.ext.chordData.nodesData,r=n.nodeStyle,o=n.label,a=n.tooltip,l=e.createView();return l.data(i),en({chart:l,options:{xField:"x",yField:"y",seriesField:uf,polygon:{style:r},label:o,tooltip:a}}),t}function mf(t){var e=t.chart,n=t.options,i=t.ext.chordData.edgesData,r=n.edgeStyle,o=n.tooltip,a=e.createView();return a.data(i),nn({chart:a,options:{xField:"x",yField:"y",seriesField:sf,edge:{style:r,shape:"arc"},tooltip:o}}),t}function xf(t){var e,n=t.chart,i=t.options.animation;return"boolean"==typeof i?n.animate(i):n.animate(!0),g(o(e=n,["views","length"],0)<=0?e.geometries:r(e.views,(function(t,e){return t.concat(e.geometries)}),e.geometries),(function(t){t.animate(i)})),t}function bf(t){return St(Le,ff,vf,df,pf,hf,gf,mf,yf,Be,je,xf)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}Ot(e,t),e.getDefaultOptions=function(){return cf},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=Wt(this.chart);g(i,(function(i){e(i.getData())&&i.setState(t,n)}))},e.prototype.getStates=function(){var t=Wt(this.chart),e=[];return g(t,(function(t){var n=t.getData(),i=t.getStates();g(i,(function(i){e.push({data:n,state:i,geometry:t.geometry,element:t})}))})),e},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return bf}}(Re),function(t){function e(e,n,i,r){var o=t.call(this,e,Zt({},r,n))||this;return o.type="g2-plot",o.defaultOptions=r,o.adaptor=i,o}Ot(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(Re);var Ff={line:fn,pie:ri,column:Tn,bar:Wn,area:bn,gauge:_s,"tiny-line":co,"tiny-column":ho,"tiny-area":uo,"ring-progress":Io,progress:_o,scatter:vr,histogram:ko,funnel:Al},wf={line:hn,pie:oi,column:In,bar:jn,area:wn,gauge:Rs,"tiny-line":fo,"tiny-column":vo,"tiny-area":mo,"ring-progress":Wo,progress:Ro,scatter:mr,histogram:Do,funnel:Sl},Af={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function Sf(t,e,n){var i=wf[t];i?(0,Ff[t])({chart:e,options:Zt({},i.getDefaultOptions(),o(Af,t,{}),n)}):console.error("could not find "+t+" plot")}function kf(t){var e=t.chart,n=t.options,i=n.views,r=n.legend;return g(i,(function(t){var n=t.region,i=t.data,r=t.meta,o=t.axes,a=t.coordinate,l=t.interactions,u=t.annotations,s=t.tooltip,c=t.geometries,f=e.createView({region:n});f.data(i);var d={};o&&g(o,(function(t,e){d[e]=kt(t,Te)})),d=Zt({},r,d),f.scale(d),o?g(o,(function(t,e){f.axis(e,t)})):f.axis(!1),f.coordinate(a),g(c,(function(t){var e=Ze({chart:f,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),g(l,(function(t){!1===t.enable?f.removeInteraction(t.type):f.interaction(t.type,t.cfg)})),g(u,(function(t){f.annotation()[t.type](Ct({},t))})),"boolean"==typeof t.animation?f.animate(!1):(f.animate(!0),g(f.geometries,(function(e){e.animate(t.animation)}))),s&&(f.interaction("tooltip"),f.tooltip(s))})),r?g(r,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function Mf(t){var e=t.chart,n=t.options.plots;return g(n,(function(t){var n=t.type,i=t.region,r=t.options,o=void 0===r?{}:r,a=o.tooltip,l=e.createView(Ct({region:i},kt(o,_e)));a&&l.interaction("tooltip"),Sf(n,l,o)})),t}function Df(t){return St(We,kf,Mf,Be,We,Le,Ie)(t)}var Of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.getAssociationItems=function(t,e){var n,i=this.context.event,r=e||{},a=r.linkField,l=r.dim,u=[];if(null===(n=i.data)||void 0===n?void 0:n.data){var s=i.data.data;g(t,(function(t){var e,n,i=a;if("x"===l?i=t.getXScale().field:"y"===l?i=null===(e=t.getYScales().find((function(t){return t.field===i})))||void 0===e?void 0:e.field:i||(i=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),i){var r=$(Bt(t),(function(e){var n=!1,r=!1,a=B(s)?o(s[0],i):o(s,i);return function(t,e){var n=t.getModel().data;return B(n)?n[0][e]:n[e]}(e,i)===a?n=!0:r=!0,{element:e,view:t,active:n,inactive:r}}));u.push.apply(u,r)}}))}return u},e.prototype.showTooltip=function(t){var e=Nt(this.context.view),n=this.getAssociationItems(e,t);g(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=Nt(this.context.view);g(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=jt(this.context.view),n=this.getAssociationItems(e,t);g(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=jt(this.context.view),n=this.getAssociationItems(e,t);g(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=jt(this.context.view),n=this.getAssociationItems(e,t);g(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=jt(this.context.view);g(t,(function(t){var e;e=Bt(t),g(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}))},e}(E);C("association",Of),z("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),z("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),z("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),z("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var Ef=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return Ot(e,t),e.prototype.getSchemaAdaptor=function(){return Df},e}(Re);function Cf(t){var e=t.chart,n=t.options,i=n.type,r=n.data,o=n.fields,a=n.eachView,l=it(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(r),e.facet(i,Ct(Ct({},l),{fields:o,eachView:function(t,e){var n=a(t,e);if(n.geometries)!function(t,e){var n=e.data,i=e.coordinate,r=e.interactions,o=e.annotations,a=e.animation,l=e.tooltip,u=e.axes,s=e.meta,c=e.geometries;n&&t.data(n);var f={};u&&g(u,(function(t,e){f[e]=kt(t,Te)})),f=Zt({},s,f),t.scale(f),i&&t.coordinate(i),!1===u?t.axis(!1):g(u,(function(e,n){t.axis(n,e)})),g(c,(function(e){var n=Ze({chart:t,options:e}).ext,i=e.adjust;i&&n.geometry.adjust(i)})),g(r,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),g(o,(function(e){t.annotation()[e.type](Ct({},e))})),"boolean"==typeof a?t.animate(!1):(t.animate(!0),g(t.geometries,(function(t){t.animate(a)}))),l?(t.interaction("tooltip"),t.tooltip(l)):!1===l&&t.removeInteraction("tooltip")}(t,n);else{var i=n,r=i.options;r.tooltip&&t.interaction("tooltip"),Sf(i.type,t,r)}}})),t}function zf(t){var e=t.chart,n=t.options,i=n.axes,r=n.meta,o=n.tooltip,a=n.coordinate,l=n.theme,u=n.legend,s=n.interactions,c=n.annotations,f={};return i&&g(i,(function(t,e){f[e]=kt(t,Te)})),f=Zt({},r,f),e.scale(f),e.coordinate(a),i?g(i,(function(t,n){e.axis(n,t)})):e.axis(!1),o?(e.interaction("tooltip"),e.tooltip(o)):!1===o&&e.removeInteraction("tooltip"),e.legend(u),l&&e.theme(l),g(s,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),g(c,(function(t){e.annotation()[t.type](Ct({},t))})),t}function $f(t){return St(Le,Cf,zf)(t)}var _f,Rf={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}Ot(e,t),e.getDefaultOptions=function(){return Rf},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $f}}(Re),function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"}(_f||(_f={})),function(){function t(){}Object.defineProperty(t,"MultiView",{get:function(){var t,e;return t=_f.STABLE,e="MultiView",console.warn(t===_f.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":t===_f.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":t===_f.STABLE?"Plot '"+e+"' is in STABLE stage, import it by \"import { "+e+" } from '@antv/g2plot'\".":"invalid Stage type."),Ef},enumerable:!1,configurable:!0})}(),ce("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),ce("zh-CN",{locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}});var Tf=function(t,e){var n=new Bl(t,{percent:.26,radius:.8,height:128,statistic:{title:{formatter:function(){return e},style:function(t){return{fill:t.percent>.65?"white":"rgba(44,53,66,0.85)"}}},content:{style:function(t){return{fontSize:60,lineHeight:1,fill:t.percent>.65?"white":"rgba(44,53,66,0.85)"}},customHtml:function(t,e,n){var i=n.percent,r=t.getBoundingClientRect(),o=r.width,a=r.height,l=Math.sqrt(Math.pow(o/2,2)+Math.pow(a/2,2)),u="占比 ".concat((100*i).toFixed(0),"%"),s=ie(u,{fontSize:60}),c=Math.min(l/s,1);return'<div style="width:'.concat(l,"px;display:flex;align-items:center;justify-content:center;font-size:").concat(c,"em;line-height:").concat(c<=1?1:"inherit",'">').concat(u,"</div>")}}},liquidStyle:function(t){var e=t.percent;return{fill:e>.45?"#5B8FF9":"#FAAD14",stroke:e>.45?"#5B8FF9":"#FAAD14"}},color:function(){return"#5B8FF9"}});n.render();var i=.25,r=setInterval((function(){(i+=Math.min(.1*Math.random(),.1))<.75?n.changeData(i):clearInterval(r)}),500)},Pf=n("default",ft({name:"Analysis",setup:function(){var t=dt(),e=dt(),n=dt(),i=dt(),r=dt(),o=dt(),a=dt(),l=dt();return pt((function(){var u,s,c;Tf(t.value,"盈利率"),Tf(e.value,"今日UV"),Tf(n.value,"今日PV"),Tf(i.value,"净增长"),u=r.value,(s=new b({container:u,autoFit:!0,height:500})).data([{type:"一线城市",value:.19},{type:"二线城市",value:.21},{type:"三线城市",value:.27},{type:"四线及以下",value:.33}]),s.coordinate("theta",{radius:.75}),s.tooltip({showMarkers:!1}),s.interval().adjust("stack").position("value").color("type",["#063d8a","#1770d6","#47abfc","#38c060"]).style({opacity:.4}).state({active:{style:function(t){var e=t.shape;return{matrix:P.zoom(e,1.1)}}}}).label("type",(function(t){return{offset:-30,style:{opacity:"四线及以下"===t?1:.5,fill:"white",fontSize:12,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},content:function(t){return"".concat(t.type,"\n").concat(t.value,"%")}}})),s.interaction("element-single-selected"),s.render(),c=o.value,new jn(c,{data:[{action:"浏览网站",pv:5e4},{action:"放入购物车",pv:35e3},{action:"生成订单",pv:25e3},{action:"支付订单",pv:15e3},{action:"完成交易",pv:8500}],xField:"pv",yField:"action",conversionTag:{},theme:"default"}).render(),function(t){var e=(new ct).createView().source({nodes:[{name:"首次打开"},{name:"结果页"},{name:"验证页"},{name:"我的"},{name:"朋友"},{name:"其他来源"},{name:"首页 UV"},{name:"我的"},{name:"扫一扫"},{name:"服务"},{name:"蚂蚁森林"},{name:"跳失"},{name:"借呗"},{name:"花呗"},{name:"其他流向"}],links:[{source:0,target:6,value:160},{source:1,target:6,value:40},{source:2,target:6,value:10},{source:3,target:6,value:10},{source:4,target:6,value:8},{source:5,target:6,value:27},{source:6,target:7,value:30},{source:6,target:8,value:40},{source:6,target:9,value:35},{source:6,target:10,value:25},{source:6,target:11,value:10},{source:6,target:12,value:30},{source:6,target:13,value:40},{source:6,target:14,value:45}]},{type:"graph",edges:function(t){return t.links}});e.transform({type:"diagram.sankey",nodeWidth:.008,nodePadding:.03,sort:function(t,e){return t.value>e.value?0:t.value<e.value?-1:0}});var n=e.edges.map((function(t){return{source:t.source.name,target:t.target.name,name:"首页 UV"===t.source.name?t.target.name:t.source.name,x:t.x,y:t.y,value:t.value}})),i=e.nodes.map((function(t){return{x:t.x,y:t.y,name:t.name}})),r=new b({container:t,autoFit:!0,height:500,appendPadding:16,syncViewPadding:!0});r.legend(!1),r.tooltip({showTitle:!1,showMarkers:!1}),r.axis(!1),r.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},source:{sync:"color"},name:{sync:"color"}});var o=r.createView();o.data(i),o.polygon().position("x*y").color("name").label("x*name",(function(t,e){var n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8,content:e}})).tooltip(!1).style("name",(function(t){return"跳失"===t?{fill:"#FF6010",stroke:"#FF6010"}:"首页 UV"===t?{fill:"#5D7092",stroke:"#5D7092"}:{}}));var a=r.createView();a.data(n),console.log(n),a.edge().position("x*y").shape("arc").color("name").tooltip("target*source*value",(function(t,e,n){return{name:"".concat(e," to ").concat(t),value:n}})).style("source*target",(function(t,e){return t.includes("其他")||e.includes("其他")?{lineWidth:0,opacity:.4,fill:"#CCC",stroke:"#CCC"}:"跳失"===e?{lineWidth:0,opacity:.4,fill:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2",stroke:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2"}:{opacity:.2,lineWidth:0}})).state({active:{style:{opacity:.8,lineWidth:0}}}),r.interaction("element-active"),r.render()}(a.value),function(t){var e=[{type:"未知",value:654,percent:.02},{type:"17 岁以下",value:654,percent:.02},{type:"18-24 岁",value:4400,percent:.2},{type:"25-29 岁",value:5300,percent:.24},{type:"30-39 岁",value:6200,percent:.28},{type:"40-49 岁",value:3300,percent:.14},{type:"50 岁以上",value:1500,percent:.06}],n=new b({container:t,autoFit:!0,height:500,padding:[50,20,50,20]});n.data(e),n.scale("value",{alias:"销售额(万)"}),n.axis("type",{tickLine:{alignTick:!1}}),n.axis("value",!1),n.tooltip({showMarkers:!1}),n.interval().position("type*value"),n.interaction("element-active"),e.forEach((function(t){n.annotation().text({position:[t.type,t.value],content:t.value,style:{textAlign:"center"},offsetY:-30}).text({position:[t.type,t.value],content:"".concat((100*t.percent).toFixed(0),"%"),style:{textAlign:"center"},offsetY:-12})})),n.render()}(l.value)})),{plot1Ref:t,plot2Ref:e,plot3Ref:n,plot4Ref:i,chartRef:r,barRef:o,indicatorRef:a,ageRef:l}}})),If=bt();ht("data-v-362a0ad8");var Bf={class:"analysis-info"},Wf={class:"info"},Lf=xt("span",{style:{display:"block","font-size":"24px",margin:"24px 0"}},"数据可视化",-1),jf={style:{"text-align":"left"}},Nf=Ft("数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息，"),Vf=Ft("AntV G2 让数据栩栩如生"),qf=xt("div",{class:"indicators"},[xt("div",{class:"indicator"},[xt("div",{class:"title"},"访问 UV"),xt("div",{class:"measure"},[xt("div",{class:"value"},"2.211"),xt("div",{class:"unit"},"亿")]),xt("div",{class:"compare"},[xt("div",{class:"name"},"日环比"),xt("div",{class:"icon up"}),xt("div",{class:"value up"},"8.9%")])]),xt("div",{class:"indicator"},[xt("div",{class:"title"},"点击 UV"),xt("div",{class:"measure"},[xt("div",{class:"value"},"15.2"),xt("div",{class:"unit"},"%")]),xt("div",{class:"compare"},[xt("div",{class:"name"},"日环比"),xt("div",{class:"icon up"}),xt("div",{class:"value up"},"2.3%")])]),xt("div",{class:"indicator"},[xt("div",{class:"title"},"UV 点击率"),xt("div",{class:"measure"},[xt("div",{class:"value"},"875"),xt("div",{class:"unit"},"%")]),xt("div",{class:"compare"},[xt("div",{class:"name"},"日环比"),xt("div",{class:"icon down"}),xt("div",{class:"value down"},"1.83%")])])],-1),Gf=Ft(" 经营状况 "),Hf={ref:"plot1Ref"},Xf={ref:"plot2Ref"},Yf={ref:"plot3Ref"},Uf={ref:"plot4Ref"},Zf=Ft(" 转化率 "),Kf={ref:"barRef"},Qf=Ft(" 城市分布 "),Jf={ref:"chartRef"},td=Ft(" 指标转化桑基图 "),ed={ref:"indicatorRef"},nd=Ft(" 用户年龄分布 "),id={ref:"ageRef"};gt();var rd=If((function(t,e,n,i,r,o){var a=vt("el-link"),l=vt("el-col"),u=vt("el-row");return yt(),mt("div",Bf,[xt("div",Wf,[Lf,xt("span",jf,[Nf,xt(a,{type:"primary",href:"https://g2.antv.vision/zh/examples/"},{default:If((function(){return[Vf]})),_:1})])]),xt(u,null,{default:If((function(){return[xt(l,{span:24},{default:If((function(){return[qf]})),_:1})]})),_:1}),xt(u,null,{default:If((function(){return[xt(l,{span:16},{default:If((function(){return[xt(u,null,{default:If((function(){return[xt(l,{span:6},{default:If((function(){return[Gf]})),_:1})]})),_:1}),xt(u,null,{default:If((function(){return[xt(l,{span:6},{default:If((function(){return[xt("div",Hf,null,512)]})),_:1}),xt(l,{span:6},{default:If((function(){return[xt("div",Xf,null,512)]})),_:1}),xt(l,{span:6},{default:If((function(){return[xt("div",Yf,null,512)]})),_:1}),xt(l,{span:6},{default:If((function(){return[xt("div",Uf,null,512)]})),_:1})]})),_:1}),xt(u,null,{default:If((function(){return[xt(u,null,{default:If((function(){return[xt(l,{span:24},{default:If((function(){return[Zf]})),_:1})]})),_:1}),xt(l,{span:24},{default:If((function(){return[xt("div",Kf,null,512)]})),_:1})]})),_:1})]})),_:1}),xt(l,{span:8},{default:If((function(){return[xt(u,null,{default:If((function(){return[Qf]})),_:1}),xt("div",Jf,null,512)]})),_:1})]})),_:1}),xt(u,{justify:"start"},{default:If((function(){return[td]})),_:1}),xt(u,null,{default:If((function(){return[xt(l,{span:24},{default:If((function(){return[xt("div",ed,null,512)]})),_:1})]})),_:1}),xt(u,{justify:"start"},{default:If((function(){return[nd]})),_:1}),xt(u,null,{default:If((function(){return[xt(l,{span:24},{default:If((function(){return[xt("div",id,null,512)]})),_:1})]})),_:1})])}));Pf.render=rd,Pf.__scopeId="data-v-362a0ad8"}}}))}();
