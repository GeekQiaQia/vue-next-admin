!function(){function e(e,i){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),c.push.apply(c,n)}return c}function i(i){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?e(Object(l),!0).forEach((function(e){c(i,e,l[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):e(Object(l)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}))}return i}function c(e,i,c){return i in e?Object.defineProperty(e,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[i]=c,e}var n=document.createElement("style");n.innerHTML=".icon-panel[data-v-57f84410]{padding:1rem;user-select:none}.icon-items[data-v-57f84410]{display:inline-block;padding:.2rem;border:1px solid #efefef;margin:.01rem;color:#6f7180;border-radius:.3rem;transition:all .3s}.icon-items[data-v-57f84410]:hover{background:#1daaef;color:#fff}.icon-items i[data-v-57f84410]{font-size:1.3rem}\n",document.head.appendChild(n),System.register(["./index-legacy.76a23baa.js","./vendor-legacy.675a5ac9.js"],(function(e,c){"use strict";var n,l,t,o,r,a,u,s,f,d,m,p,g,b,h,v,k,y,w,_,C,V,S,z,O,j,x,E,M,P,q,U,R;return{setters:[function(e){n=e._,l=e.u,t=e.a},function(e){o=e.d,r=e.A,a=e.r,u=e.c,s=e.C,f=e.s,d=e.f,m=e.e,p=e.t,g=e.m,b=e.h,h=e.F,v=e.v,k=e.n,y=e.p,w=e.g,_=e.as,C=e.L,V=e.N,S=e.O,z=e.j,O=e.ax,j=e.ad,x=e.av,E=e.aw,M=e.k,P=e.x,q=e.P,U=e.an,R=e.H}],execute:function(){var A=o({name:"Icon",props:{msg:{type:String,required:!1,default:""}},emits:["success"],setup:function(e,c){var n=c.emit,l=r({icons:["ic ic-accessory","ic ic-activity","ic ic-activity-fill","ic ic-add","ic ic-addition-fill","ic ic-addition","ic ic-addpeople-fill","ic ic-addpeople","ic ic-addressbook-fill","ic ic-addressbook","ic ic-barrage-fill","ic ic-barrage","ic ic-browse-fill","ic ic-browse","ic ic-brush","ic ic-brush-fill","ic ic-businesscard-fill","ic ic-businesscard","ic ic-camera-fill","ic ic-camera","ic ic-clock-fill","ic ic-clock","ic ic-close","ic ic-collection-fill","ic ic-collection","ic ic-computer-fill","ic ic-computer","ic ic-coordinates-fill","ic ic-coordinates","ic ic-coupons-fill","ic ic-coupons","ic ic-createtask-fill","ic ic-createtask","ic ic-customerservice-fill","ic ic-customerservice","ic ic-delete-fill","ic ic-delete","ic ic-document","ic ic-document-fill","ic ic-dynamic ic-fill","ic ic-dynamic","ic ic-editor","ic ic-eit","ic ic-emoji-fill","ic ic-emoji","ic ic-empty","ic ic-empty-fill","ic ic-enter","ic ic-enterinto","ic ic-enterinto-fill","ic ic-feedback-fill","ic ic-feedback","ic ic-flag-fill","ic ic-flag","ic ic-flashlight","ic ic-flashlight-fill","ic ic-flip","ic ic-flip-fill","ic ic-fullscreen","ic ic-group","ic ic-group-fill","ic ic-headlines-fill","ic ic-headlines","ic ic-homepage-fill","ic ic-homepage","ic ic-integral-fill","ic ic-integral","ic ic-interactive-fill","ic ic-interactive","ic ic-keyboard","ic ic-label","ic ic-label-fill","ic ic-like-fill","ic ic-like","ic ic-live-fill","ic ic-live","ic ic-lock-fill","ic ic-lock","ic ic-mail","ic ic-mail-fill","ic ic-manage-fill","ic ic-manage","ic ic-message","ic ic-message-fill","ic ic-mine","ic ic-mine-fill","ic ic-mobilephone-fill","ic ic-mobilephone","ic ic-more","ic ic-narrow","ic ic-offline-fill","ic ic-offline","ic ic-order-fill","ic ic-order","ic ic-other","ic ic-people-fill","ic ic-people","ic ic-picture-fill","ic ic-picture","ic ic-play","ic ic-play-fill","ic ic-playon-fill","ic ic-playon","ic ic-praise-fill","ic ic-praise","ic ic-prompt-fill","ic ic-prompt","ic ic-qrcode-fill","ic ic-qrcode","ic ic-redpacket-fill","ic ic-redpacket","ic ic-refresh","ic ic-remind-fill","ic ic-remind","ic ic-return","ic ic-right","ic ic-scan","ic ic-select-fill","ic ic-select","ic ic-send","ic ic-service-fill","ic ic-service","ic ic-setup-fill","ic ic-setup","ic ic-share-fill","ic ic-share","ic ic-shielding-fill","ic ic-shielding","ic ic-smallscreen-fill","ic ic-smallscreen","ic ic-stealth-fill","ic ic-stealth","ic ic-success-fill","ic ic-success","ic ic-suspend","ic ic-switch","ic ic-systemprompt-fill","ic ic-systemprompt","ic ic-tailor","ic ic-task","ic ic-task-fill","ic ic-tasklist-fill","ic ic-tasklist","ic ic-text","ic ic-time-fill","ic ic-time","ic ic-translation-fill","ic ic-translation","ic ic-trash","ic ic-trash-fill","ic ic-undo","ic ic-unlock-fill","ic ic-unlock","ic ic-video","ic ic-video-fill","ic ic-warning-fill","ic ic-warning","ic ic-workbench-fill","ic ic-workbench","ic ic-search","ic ic-searchfill","ic ic-publishgoods-fill","ic ic-shop-fill","ic ic-transaction-fill","ic ic-packup","ic ic-unfold","ic ic-wangwang","ic ic-financial-fill","ic ic-marketing-fill","ic ic-shake","ic ic-decoration-fill","ic ic-questions","ic ic-supply","ic ic-tools","ic ic-int","ic ic-commodity","ic ic-zhtn"],data:[""],key:""}),t=a(0);return u((function(){l.data=l.icons})),i(i({count:t},s(l)),{},{search:function(){var e=l.key,i=l.icons;l.data=e?i.filter(function(e){return function(i){return i.toLowerCase().indexOf(e.toLowerCase())>0}}(e)):i},selected:function(e){n("success",e)}})}}),D=function(e){return y("data-v-57f84410"),e=e(),w(),e},I={class:"icon-panel"},L=D((function(){return b("br",null,null,-1)})),F=D((function(){return b("br",null,null,-1)})),Z=["onClick"],$=D((function(){return b("br",null,null,-1)}));var N=n(A,[["render",function(e,i,c,n,l,t){var o=f("el-button"),r=f("el-input");return d(),m("div",I,[p(r,{modelValue:e.key,"onUpdate:modelValue":i[1]||(i[1]=function(i){return e.key=i}),placeholder:"搜索图标",onInput:e.search},{default:g((function(){return[p(o,{icon:"el-icon-search",onClick:i[0]||(i[0]=function(i){return e.search()})})]})),_:1},8,["modelValue","onInput"]),L,F,b("section",null,[(d(!0),m(h,null,v(e.data,(function(i){return d(),m("span",{key:i,class:"icon-items",onClick:function(c){return e.selected(i)}},[b("i",{class:k(i)},null,2),$],8,Z)})),128))])])}],["__scopeId","data-v-57f84410"]]),T=/^(\/[a-zA-Z][0-9a-zA-Z]+)+$/,B=function(e,i,c){T.test(i)?c():c(new Error("必须输入正确的路径"))},H=o({name:"MenuNew",components:{Icons:N},emits:["success"],setup:function(e,c){var n=c.emit,l={"meta.title":[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],"meta.icon":[{required:!0,message:"请输入菜单图标",trigger:"blur"}],path:[{required:!0,message:"请输入菜单路径",trigger:"blur"},{min:2,message:"至少2个字符",trigger:"blur"},{validator:B,trigger:"blur"}]},t=a(),o=r({form:{path:"",meta:{title:"",icon:""}},modal:!1,loading:!1});return i(i({},s(o)),{},{formRef:t,rules:l,onSuccess:function(e){console.log("val is ",e),o.modal=!1,o.form.meta.icon=e},submitForm:function(){t.value.validate((function(e){return!!e&&(console.log(o.form),n("success",o.form),!0)}))},handleClickChoose:function(){o.modal=!o.modal,console.log(" state.modal",o.modal)}})}}),G={class:"new"},J=V("选择图标"),K=b("i",{class:"fa fa-plus"},null,-1),Q=V(" 确认修改 ");var W=n(H,[["render",function(e,i,c,n,l,t){var o=f("el-input"),r=f("el-form-item"),a=f("el-button"),u=f("icons"),s=f("el-popover"),h=f("el-row"),v=f("el-form"),y=_("loading");return C((d(),m("div",G,[p(v,{ref:"formRef",model:e.form,rules:e.rules,"label-position":"right","label-width":"100px"},{default:g((function(){return[p(r,{label:"菜单名称",prop:"meta.title"},{default:g((function(){return[p(o,{modelValue:e.form.meta.title,"onUpdate:modelValue":i[0]||(i[0]=function(i){return e.form.meta.title=i}),placeholder:"请输入菜单名称"},null,8,["modelValue"])]})),_:1}),p(r,{label:"菜单图标",prop:"meta.icon"},{default:g((function(){return[p(o,{modelValue:e.form.meta.icon,"onUpdate:modelValue":i[1]||(i[1]=function(i){return e.form.meta.icon=i}),placeholder:"请选择菜单图标",style:{width:"60%"}},null,8,["modelValue"]),p(a,{disabled:"disabled"},{default:g((function(){return[b("i",{class:k(e.form.meta.icon)},null,2)]})),_:1}),p(s,{visible:e.modal,placement:"bottom",width:"80vw",title:"请选择图标"},{reference:g((function(){return[p(a,{icon:"el-icon-search",onClick:e.handleClickChoose},{default:g((function(){return[J]})),_:1},8,["onClick"])]})),default:g((function(){return[p(u,{onSuccess:e.onSuccess},null,8,["onSuccess"])]})),_:1},8,["visible"])]})),_:1}),p(r,{label:"菜单路径",prop:"path"},{default:g((function(){return[p(o,{modelValue:e.form.path,"onUpdate:modelValue":i[2]||(i[2]=function(i){return e.form.path=i}),placeholder:"请输入菜单路径"},null,8,["modelValue"])]})),_:1}),p(h,{class:"btn-container"},{default:g((function(){return[p(a,{size:"mini",type:"primary",onClick:i[3]||(i[3]=function(i){return e.submitForm()})},{default:g((function(){return[K,Q]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])),[[y,e.loading]])}]]),X=/^(\/[a-zA-Z][0-9a-zA-Z]+)+$/,Y=function(e,i,c){X.test(i)?c():c(new Error("必须输入正确的路径"))},ee=o({name:"MenuEdit",components:{Icons:N},props:{currentMenu:{type:Object,default:null}},emits:["success"],setup:function(e,c){var n=c.emit,t=S(e,"currentMenu"),o=l(),u=z((function(){return o.getters["settingsModule/getLangState"]}));console.log(t);var f={"meta.title":[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],"meta.icon":[{required:!0,message:"请输入菜单图标",trigger:"blur"}],path:[{required:!0,message:"请输入菜单路径",trigger:"blur"},{min:2,message:"至少2个字符",trigger:"blur"},{validator:Y,trigger:"blur"}]},d=a(),m=r({form:t,modal:!1,loading:!1});return i(i({},s(m)),{},{formRef:d,rules:f,lang:u,onSuccess:function(e){console.log("val is ",e),m.modal=!1,m.form.meta.icon=e},submitForm:function(){d.value.validate((function(e){return!!e&&(console.log(m.form),n("success",m.form),!0)}))},handleClickChoose:function(){m.modal=!m.modal,console.log(" state.modal",m.modal)}})}}),ie={class:"new"},ce=V("选择图标"),ne=b("i",{class:"fa fa-plus"},null,-1),le=V(" 确认修改 ");var te=o({name:"Menu",components:{MenuNew:W,MenuEdit:n(ee,[["render",function(e,i,c,n,l,t){var o=f("el-input"),r=f("el-form-item"),a=f("el-button"),u=f("icons"),s=f("el-popover"),h=f("el-row"),v=f("el-form"),y=_("loading");return C((d(),m("div",ie,[p(v,{ref:"formRef",model:e.form,rules:e.rules,"label-position":"right","label-width":"100px"},{default:g((function(){return[p(r,{label:"菜单名称",prop:"meta.title"},{default:g((function(){return[p(o,{modelValue:e.form.meta.title[e.lang],"onUpdate:modelValue":i[0]||(i[0]=function(i){return e.form.meta.title[e.lang]=i}),placeholder:"请输入菜单名称"},null,8,["modelValue"])]})),_:1}),p(r,{label:"菜单图标",prop:"meta.icon"},{default:g((function(){return[p(o,{modelValue:e.form.meta.icon,"onUpdate:modelValue":i[1]||(i[1]=function(i){return e.form.meta.icon=i}),placeholder:"请选择菜单图标",style:{width:"60%"}},null,8,["modelValue"]),p(a,{disabled:"disabled"},{default:g((function(){return[b("i",{class:k(e.form.meta.icon)},null,2)]})),_:1}),p(s,{visible:e.modal,placement:"bottom",width:"80vw",title:"请选择图标"},{reference:g((function(){return[p(a,{icon:"el-icon-search",onClick:e.handleClickChoose},{default:g((function(){return[ce]})),_:1},8,["onClick"])]})),default:g((function(){return[p(u,{onSuccess:e.onSuccess},null,8,["onSuccess"])]})),_:1},8,["visible"])]})),_:1}),p(r,{label:"菜单路径",prop:"path"},{default:g((function(){return[p(o,{modelValue:e.form.path,"onUpdate:modelValue":i[2]||(i[2]=function(i){return e.form.path=i}),placeholder:"请输入菜单路径"},null,8,["modelValue"])]})),_:1}),p(h,{class:"btn-container"},{default:g((function(){return[p(a,{size:"mini",type:"primary",onClick:i[3]||(i[3]=function(i){return e.submitForm()})},{default:g((function(){return[ne,le]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])),[[y,e.loading]])}]]),Plus:O,Refresh:j,Edit:x,Minus:E},setup:function(){var e=l(),n=z((function(){return e.getters["settingsModule/getLangState"]})),o=r({url:{c:"/menu/add",r:"/menu/list",u:"/menu/update",d:"/menu/delete"},param:{limit:10,page:1},data:[{path:"/",redirect:"/home",meta:{title:"首页",icon:"el-icon-s-home"},children:[{path:"/home",name:"home",component:function(){return t((function(){return c.import("./home-legacy.494e505a.js")}),void 0)},meta:{title:"首页",icon:"home"}}]}],total:1,loading:!1,addVisible:!1,editVisible:!1,detailVisible:!1,posted:{menu:{path:"",meta:{title:"",icon:""}}}}),a=z((function(){return e.state.permissionModule.accessRoutes})),f=function(e){console.log(e)};return u((function(){var e;e=a.value.filter((function(e){var i;return!0!==(null==e||null===(i=e.meta)||void 0===i?void 0:i.hidden)})),console.log("result",e),o.data=e})),i(i({},s(o)),{},{onError:function(){},lang:n,onAddSuccess:function(){o.addVisible=!1,f()},onEditSuccess:function(){console.log("on edit success"),o.editVisible=!1},onDelete:function(e,i){console.log(i),function(e){console.log(e),U.confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){R({type:"success",message:"删除成功"})})).catch((function(){R({type:"info",message:"已取消删除"})}))}(e)},onCurrentChange:function(e){f(e)},onSizeChange:function(e){o.param.limit=e,f(e)},onCreate:function(){o.addVisible=!0},onRefresh:function(){f()},onEdit:function(e,i){console.log("row,",i,e),o.posted.menu=i,o.editVisible=!0}})}}),oe=V(" 新增"),re=V(" 刷新"),ae={class:"pagination"};e("default",n(te,[["render",function(e,i,c,n,l,t){var o=f("plus"),r=f("el-icon"),a=f("el-button"),u=f("refresh"),s=f("el-col"),v=f("el-table-column"),y=f("el-tag"),w=f("edit"),S=f("el-tooltip"),z=f("minus"),O=f("el-table"),j=f("el-pagination"),x=f("el-row"),E=f("el-card"),U=f("menu-new"),R=f("el-dialog"),A=f("menu-edit"),D=_("loading");return d(),m("div",null,[p(E,{class:"card-ctrl"},{default:g((function(){return[p(x,null,{default:g((function(){return[p(s,null,{default:g((function(){return[p(s,null,{default:g((function(){return[p(a,{type:"primary",size:"small",onClick:e.onCreate},{default:g((function(){return[p(r,null,{default:g((function(){return[p(o)]})),_:1}),oe]})),_:1},8,["onClick"]),p(a,{type:"success",size:"small",onClick:e.onRefresh},{default:g((function(){return[p(r,null,{default:g((function(){return[p(u)]})),_:1}),re]})),_:1},8,["onClick"])]})),_:1}),C((d(),M(O,{data:e.data,stripe:"",class:"table"},{default:g((function(){return[p(v,{label:"菜单名称",align:"center"},{default:g((function(i){return[b("span",null,P(i.row.meta.title[e.lang]),1)]})),_:1}),p(v,{label:"图标",align:"center"},{default:g((function(e){return[b("i",{class:k(e.row.meta.icon)},null,2)]})),_:1}),p(v,{label:"路径",align:"center"},{default:g((function(e){return[p(y,{size:"mini",type:"info"},{default:g((function(){return[V(P(e.row.path),1)]})),_:2},1024)]})),_:1}),p(v,{label:"操作",align:"center"},{default:g((function(i){return[0!=i.row.state?(d(),m(h,{key:0},[p(S,{class:"item",effect:"dark",content:"修改",placement:"bottom"},{default:g((function(){return[p(a,{circle:"",plain:"",type:"primary",size:"mini",onClick:function(c){return e.onEdit(i.$index,i.row)}},{default:g((function(){return[p(r,null,{default:g((function(){return[p(w)]})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024),p(S,{class:"item",effect:"dark",content:"删除",placement:"bottom"},{default:g((function(){return[p(a,{circle:"",plain:"",type:"danger",size:"mini",onClick:function(c){return e.onDelete(i.$index,i.row)}},{default:g((function(){return[p(r,null,{default:g((function(){return[p(z)]})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024)],64)):q("",!0)]})),_:1})]})),_:1},8,["data"])),[[D,e.loading]]),b("div",ae,[p(j,{"current-page":e.param.page,"page-size":e.param.limit,layout:"sizes,prev,pager,next,total","page-sizes":[5,10,20],total:e.total,background:"",onCurrentChange:e.onCurrentChange,onSizeChange:e.onSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]})),_:1})]})),_:1})]})),_:1}),p(R,{modelValue:e.addVisible,"onUpdate:modelValue":i[0]||(i[0]=function(i){return e.addVisible=i}),width:"632px",title:"新增菜单"},{default:g((function(){return[p(U,{onSuccess:e.onAddSuccess},null,8,["onSuccess"])]})),_:1},8,["modelValue"]),p(R,{modelValue:e.editVisible,"onUpdate:modelValue":i[1]||(i[1]=function(i){return e.editVisible=i}),center:"",width:"632px",title:e.posted.menu.meta.title[e.lang]},{default:g((function(){return[p(A,{"current-menu":e.posted.menu,onSuccess:e.onEditSuccess},null,8,["current-menu","onSuccess"])]})),_:1},8,["modelValue","title"])])}]]))}}}))}();
