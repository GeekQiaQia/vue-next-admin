import{k as t,b as e}from"./w3c-keyname.74927781.js";import{a as r}from"./prosemirror-state.1b80bdaa.js";var a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function i(t){var e,r,i,n,s=t.split(/-(?!$)/),f=s[s.length-1];"Space"==f&&(f=" ");for(var o=0;o<s.length-1;o++){var l=s[o];if(/^(cmd|meta|m)$/i.test(l))n=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);a?n=!0:r=!0}}return e&&(f="Alt-"+f),r&&(f="Ctrl-"+f),n&&(f="Meta-"+f),i&&(f="Shift-"+f),f}function n(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==r&&e.shiftKey&&(t="Shift-"+t),t}function s(t){return new r({props:{handleKeyDown:f(t)}})}function f(r){var a=function(t){var e=Object.create(null);for(var r in t)e[i(r)]=t[r];return e}(r);return function(r,i){var s,f=t(i),o=1==f.length&&" "!=f,l=a[n(f,i,!o)];if(l&&l(r.state,r.dispatch,r))return!0;if(o&&(i.shiftKey||i.altKey||i.metaKey||f.charCodeAt(0)>127)&&(s=e[i.keyCode])&&s!=f){var c=a[n(s,i,!0)];if(c&&c(r.state,r.dispatch,r))return!0}else if(o&&i.shiftKey){var u=a[n(f,i,!0)];if(u&&u(r.state,r.dispatch,r))return!0}return!1}}export{s as k};
