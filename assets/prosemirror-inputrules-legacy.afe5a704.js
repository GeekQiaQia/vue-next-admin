System.register(["./prosemirror-state-legacy.1039d02f.js","./prosemirror-transform-legacy.b5eacd4e.js"],(function(e){"use strict";var t;return{setters:[function(e){t=e.a},function(){}],execute:function(){e("i",(function(e){var n=e.rules,s=new t({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,t,a,i){return r(e,t,a,i,n,s)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var t=e.state.selection.$cursor;t&&r(e,t.pos,t.pos,"",n,s)}))}}},isInputRules:!0});return s}));var n=e("I",(function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,s){var a=n;if(t[1]){var i=t[0].lastIndexOf(t[1]);a+=t[0].slice(i+t[1].length);var o=(r+=i)-s;o>0&&(a=t[0].slice(i-o,i)+a,r=s)}return e.tr.insertText(a,r,s)}):t}));function r(e,t,n,r,s,a){if(e.composing)return!1;var i=e.state,o=i.doc.resolve(t);if(o.parent.type.spec.code)return!1;for(var u=o.parent.textBetween(Math.max(0,o.parentOffset-500),o.parentOffset,null,"￼")+r,c=0;c<s.length;c++){var f=s[c].match.exec(u),l=f&&s[c].handler(i,f,t-(f[0].length-r.length),n);if(l)return e.dispatch(l.setMeta(a,{transform:l,from:t,to:n,text:r})),!0}return!1}new n(/--$/,"—"),new n(/\.\.\.$/,"…"),new n(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new n(/"$/,"”"),new n(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new n(/'$/,"’")}}}));
