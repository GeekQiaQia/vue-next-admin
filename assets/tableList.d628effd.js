var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{d as i,g as d,r as s,m as u,l as c,e as m,q as f,p,a as g,i as b,o as h,c as v,b as C,A as y,t as w,w as _}from"./vendor.fcbdba18.js";var z=i({name:"TableList",setup(){const e=d(),i=s(),p=u({tableData:[{date:"2016-05-07",name:"白小白",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-05-04",name:"李小胖",address:"上海市普陀区金沙江路 1517 弄",tag:"公司"},{date:"2016-05-01",name:"王老五",address:"上海市普陀区金沙江路 1519 弄",tag:"家"},{date:"2016-07-03",name:"王麻子",address:"上海市普陀区金沙江路 1516 弄",tag:"公司"},{date:"2016-07-07",name:"白小白",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-07-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-07-04",name:"李小胖",address:"上海市普陀区金沙江路 1517 弄",tag:"公司"},{date:"2016-07-01",name:"王老五",address:"上海市普陀区金沙江路 1519 弄",tag:"家"}],currentPage:1,pageSize:5,search:""}),g=u({user:"",region:""}),b=c((()=>p.tableData.length));m((()=>{console.dir(i.value)}));return h=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&o(e,t,a[t]);return e})({formInline:g,total:b},f(p)),a(h,t({handleCurrentChange:e=>{console.log(`当前页: ${e}`),p.currentPage=e},handleSizeChange:e=>{console.log(`每页 ${e} 条`),p.pageSize=e},onSubmit:()=>{console.log("submit!")},handleEdit:(a,t)=>{console.log(a,t),e.replace("/form/advanceForm")},handleDelete:(e,a)=>{console.log(e,a),p.tableData.splice(e,1)},filterTableRef:i,resetDateFilter:()=>{i.value.clearFilter("date")},clearFilter:()=>{i.value.clearFilter()},formatter:e=>e.address,filterTag:(e,a)=>a.tag===e,filterHandler:(e,a,t)=>{const{property:l}=t;return a[l]===e}}));var h}});const x=_();p("data-v-34a65e15");const S={class:"table-container"},j=y("查询"),O=y("Edit"),V=y("删除");g();const D=x(((e,a,t,l,r,n)=>{const o=b("el-input"),i=b("el-form-item"),d=b("el-option"),s=b("el-select"),u=b("el-button"),c=b("el-form"),m=b("el-table-column"),f=b("el-popconfirm"),p=b("el-tag"),g=b("el-table"),_=b("el-pagination");return h(),v("div",S,[C(c,{inline:!0,model:e.formInline,class:"form-inline"},{default:x((()=>[C(i,{label:"审批人"},{default:x((()=>[C(o,{modelValue:e.formInline.user,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formInline.user=a),placeholder:"审批人"},null,8,["modelValue"])])),_:1}),C(i,{label:"活动区域"},{default:x((()=>[C(s,{modelValue:e.formInline.region,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formInline.region=a),placeholder:"活动区域"},{default:x((()=>[C(d,{label:"区域一",value:"shanghai"}),C(d,{label:"区域二",value:"beijing"})])),_:1},8,["modelValue"])])),_:1}),C(i,null,{default:x((()=>[C(u,{type:"primary",onClick:e.onSubmit},{default:x((()=>[j])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),C(g,{ref:"filterTableRef",class:"table-list","row-key":"date",data:e.tableData.filter((a=>!e.search||a.name.toLowerCase().includes(e.search.toLowerCase()))),style:{width:"100%"}},{default:x((()=>[C(m,{prop:"date",label:"日期",sortable:"",width:"180","column-key":"date",filters:[{text:"2016-05-01",value:"2016-05-01"},{text:"2016-05-02",value:"2016-05-02"},{text:"2016-05-03",value:"2016-05-03"},{text:"2016-05-04",value:"2016-05-04"}],"filter-method":e.filterHandler},null,8,["filter-method"]),C(m,{prop:"name",label:"姓名",width:"180"}),C(m,{prop:"address",label:"地址",formatter:e.formatter},null,8,["formatter"]),C(m,{align:"right"},{header:x((()=>[C(o,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=a=>e.search=a),size:"mini",placeholder:"输入姓名字段关键字搜索"},null,8,["modelValue"])])),default:x((a=>[C(u,{size:"mini",onClick:t=>e.handleEdit(a.$index,a.row)},{default:x((()=>[O])),_:2},1032,["onClick"]),C(f,{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定删除该条记录吗？",onConfirm:t=>e.handleDelete(a.$index,a.row)},{reference:x((()=>[C(u,{size:"mini",type:"danger"},{default:x((()=>[V])),_:1})])),_:2},1032,["onConfirm"])])),_:1}),C(m,{prop:"tag",label:"标签",width:"100",filters:[{text:"家",value:"家"},{text:"公司",value:"公司"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},{default:x((e=>[C(p,{type:"家"===e.row.tag?"primary":"success","disable-transitions":""},{default:x((()=>[y(w(e.row.tag),1)])),_:2},1032,["type"])])),_:1},8,["filter-method"])])),_:1},8,["data"]),C(_,{"hide-on-single-page":!1,"current-page":e.currentPage,"page-sizes":[5,10,15,20,25],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}));z.render=D,z.__scopeId="data-v-34a65e15";export default z;
