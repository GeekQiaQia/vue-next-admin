import{a as t,i as e,b as n,g as i,c as o,e as r,d as a,m as l,v as s,C as c,E as u,f as d,h as p,u as f,j as v,k as h,n as y,o as g,p as m,V as x,q as b,U as w,l as F}from"./index.db4634b7.js";import{d as S,r as _,e as O,p as k,a as A,i as j,o as z,c as C,b as R,w as P,q as D}from"./vendor.543d3361.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var M=function(){return(M=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function B(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function W(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,o++)i[o]=r[a];return i}var T={},V={},N={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1;t.default=function(){return"".concat(e++)}}(N);var H={},q={},L={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var i=this,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}}(L);var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.SensorTabIndex=G.SensorClassName=G.SizeSensorId=void 0;G.SizeSensorId="size-sensor-id";G.SensorClassName="size-sensor-object";G.SensorTabIndex="-1",Object.defineProperty(q,"__esModule",{value:!0}),q.createSensor=void 0;var $,U=($=L)&&$.__esModule?$:{default:$},Y=G;q.createSensor=function(t){var e=void 0,n=[],i=(0,U.default)((function(){n.forEach((function(e){e(t)}))})),o=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(o){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",i),i()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",Y.SensorClassName),e.setAttribute("tabindex",Y.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(o)&&n.push(o)},destroy:o,unbind:function(t){var i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&o()}}};var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.createSensor=void 0;var Z=function(t){return t&&t.__esModule?t:{default:t}}(L);X.createSensor=function(t){var e=void 0,n=[],i=(0,Z.default)((function(){n.forEach((function(e){e(t)}))})),o=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(o){var r;e||((r=new ResizeObserver(i)).observe(t),i(),e=r),-1===n.indexOf(o)&&n.push(o)},destroy:o,unbind:function(t){var i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&o()}}},Object.defineProperty(H,"__esModule",{value:!0}),H.createSensor=void 0;var J=q,K="undefined"!=typeof ResizeObserver?X.createSensor:J.createSensor;H.createSensor=K,Object.defineProperty(V,"__esModule",{value:!0}),V.removeSensor=V.getSensor=void 0;var Q=function(t){return t&&t.__esModule?t:{default:t}}(N),tt=H,et=G;var nt={};V.getSensor=function(t){var e=t.getAttribute(et.SizeSensorId);if(e&&nt[e])return nt[e];var n=(0,Q.default)();t.setAttribute(et.SizeSensorId,n);var i=(0,tt.createSensor)(t);return nt[n]=i,i};V.removeSensor=function(t){var e=t.element.getAttribute(et.SizeSensorId);t.element.removeAttribute(et.SizeSensorId),t.destroy(),e&&nt[e]&&delete nt[e]},Object.defineProperty(T,"__esModule",{value:!0}),T.ver=T.clear=ot=T.bind=void 0;var it=V,ot=T.bind=function(t,e){var n=(0,it.getSensor)(t);return n.bind(e),function(){n.unbind(e)}};T.clear=function(t){var e=(0,it.getSensor)(t);(0,it.removeSensor)(e)};function rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function at(t,e){var n={};return null!==t&&"object"==typeof t&&e.forEach((function(e){var i=t[e];void 0!==i&&(n[e]=i)})),n}function lt(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function st(e){return t(e.geometries,(function(t,e){return t.concat(e.elements)}),[])}function ct(t){if(!e(t,"Object"))return t;var n=M({},t);return n.formatter&&!n.content&&(n.content=n.formatter),n}T.ver="1.0.1";var ut={}.toString,dt=function(t,e){return ut.call(t)==="[object "+e+"]"},pt=function(t){return dt(t,"Array")},ft=function(t){if(!function(t){return"object"==typeof t&&null!==t}(t)||!dt(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},vt=function(t,e,n,i){for(var o in n=n||0,i=i||5,e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=e[o];r?ft(r)?(ft(t[o])||(t[o]={}),n<i?vt(t[o],r,n+1,i):t[o]=e[o]):pt(r)?(t[o]=[],t[o]=t[o].concat(r)):t[o]=r:t[o]=r}},ht=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)vt(t,e[i]);return t};function yt(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}var gt,mt=function(t,e,l){var s=e.statistic,c=e.plotType,u=s.title,d=s.content;[u,d].forEach((function(e,s){if(e){var p="",f="";f=0===s?d?"translate(-50%, -100%)":"translate(-50%, -50%)":u?"translate(-50%, 0)":"translate(-50%, -50%)";var v=n(e.style)?e.style(l):e.style;t.annotation().html(M({position:["50%","50%"],html:function(t,n){var s=n.getCoordinate(),u=0;if("pie"===c||"ring-progress"===c)u=s.getRadius()*s.innerRadius*2;else if("liquid"===c){var d=i(n.geometries,[0,"elements",0,"shape"]);if(d)u=d.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width}else u||(u=s.getWidth());!function(t,e){t.style["pointer-events"]="none",r(e,(function(e,n){n&&e&&(t.style[n]=e)}))}(t,M({width:u+"px",transform:f},function(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];i(t,"fill")&&(e.color=t.fill);var o=at(t,n),l=o.shadowColor,s=o.shadowBlur,c=void 0===s?0:s,u=o.shadowOffsetX,d=void 0===u?0:u,p=o.shadowOffsetY,f=void 0===p?0:p;e["text-shadow"]=""+[l,d+"px",f+"px",c+"px"].join(" ");var v=at(t,n),h=v.stroke,y=v.lineWidth,g=void 0===y?0:y;return e["-webkit-text-stroke"]=""+[g+"px",h].join(" "),r(t,(function(t,i){["fontSize"].includes(i)&&a(t)?e[yt(i)]=t+"px":i&&!n.includes(i)&&(e[yt(i)]=""+t)})),e}(v)));var h=n.getData();return e.customHtml?e.customHtml(t,n,l,h):(e.formatter&&(p=e.formatter(l,h)),p?o(p)?p:""+p:"<div></div>")},key:(0===s?"top":"bottom")+"-statistic"},at(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};var xt=l((function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=void 0===i?"sans-serif":i,a=e.fontWeight,l=e.fontStyle,s=e.fontVariant,c=(gt||(gt=document.createElement("canvas").getContext("2d")),gt);return c.font=[l,a,s,n+"px",r].join(" "),c.measureText(o(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),W([t],s(e)).join("")}));function bt(t){return"number"==typeof t&&!isNaN(t)}var wt=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Ft=function(t){function e(e,n){var i=t.call(this)||this;return i.type="base",i.container="string"==typeof e?document.getElementById(e):e,i.options=ht({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return I(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height;this.chart=new c(M(M(M({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),at(this.options,wt))),this.container.setAttribute("data-chart-source-type","G2Plot")},e.prototype.getChartSize=function(t,e){var n=lt(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null==e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=ht({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=st(this.chart);r(i,(function(i){e(i.getData())&&i.setState(t,n)}))},e.prototype.getStates=function(){var t=st(this.chart),e=[];return r(t,(function(t){var n=t.getData(),i=t.getStates();r(i,(function(i){e.push({data:n,state:i,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute("data-chart-source-type")},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,i=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=i,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=ot(this.container,(function(){var e=lt(t.container),n=e.width,i=e.height;n===t.chart.width&&i===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(u),St=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function _t(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function Ot(t){var e=t.chart,n=t.options.interactions;return r(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function kt(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),r(e.geometries,(function(t){t.animate(n)})),t}function At(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function jt(t){var e=t.chart,n=t.options.state;return n&&r(e.geometries,(function(t){t.state(n)})),t}function zt(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function Ct(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function Rt(t,e){return function(n){var i=n.chart,o=n.options,a={};return r(t,(function(t,e){a[e]=at(t,St)})),a=ht({},e,o.meta,a),i.scale(a),n}}function Pt(t){var e=t.chart,n=t.options,i=n.yAxis,o=n.limitInPlot,r=o;return d(i)&&p(o)&&(r=!!Object.values(at(i,["min","max","minLimit","maxLimit"])).some((function(t){return!p(t)}))),e.limitInPlot=r,t}function Dt(t,e){var n=t.xField,i=t.yField,o=t.colorField,r=t.shapeField,a=t.sizeField,l=t.styleField,s=t.rawFields,c=void 0===s?[]:s,u=[];if("color"===e)u=W([o||n],c);else if("shape"===e)u=W([r||n],c);else if("size"===e)u=W([a||n],c);else{u=W([n,i,o,r,a,l],c);var d=["x","y","color","shape","size","style"].indexOf(e),p=u[d];u.splice(d,1),u.unshift(p)}return f(u.filter((function(t){return!!t})))}function Et(t,e){if(e)return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};return t.forEach((function(t,e){o[t]=n[e]})),delete o[void 0],e(o)}}function It(t){var e=t.options,r=e.xField,l=e.yField,s=e.interval,c=e.seriesField,u=e.tooltip,f=e.minColumnWidth,y=e.maxColumnWidth,g=e.columnBackground,m=e.dodgePadding,x=e.intervalPadding,b=function(t,e){if(!1===t)return{fields:!1};var n=i(t,"fields"),o=i(t,"formatter");return o&&!n&&(n=e),{fields:n,formatter:o}}(u,[r,l,c]),w=b.fields,F=b.formatter,S=(s?function(t){var e=t.chart,i=t.options,r=i.type,l=i.args,s=i.mapping,c=i.xField,u=i.yField,p=i.colorField,f=i.shapeField,h=i.sizeField,y=i.tooltipFields,g=i.label,m=i.state;if(!s)return t;var x=s.color,b=s.shape,w=s.size,F=s.style,S=s.tooltip,_=e[r](l).position(c+"*"+u);if(o(x))p?_.color(p,x):_.color(x);else if(n(x)){var O=Dt(i,"color");_.color(O.join("*"),Et(O,x))}else p&&_.color(p,x);o(b)?f?_.shape(f,[b]):_.shape(b):n(b)?(O=Dt(i,"shape"),_.shape(O.join("*"),Et(O,b))):f&&_.shape(f,b);a(w)?h?_.size(h,w):_.size(w):n(w)?(O=Dt(i,"size"),_.size(O.join("*"),Et(O,w))):h&&_.size(h,w);n(F)?(O=Dt(i,"style"),_.style(O.join("*"),Et(O,F))):d(F)&&_.style(F);if(!1===y?_.tooltip(!1):v(y)||_.tooltip(y.join("*"),Et(y,S)),!1===g)_.label(!1);else if(g){var k=g.callback,A=g.fields,j=B(g,["callback","fields"]);_.label({fields:A||[u],callback:k,cfg:ct(j)})}return m&&_.state(m),[c,u].filter((function(t){return t!==p})).forEach((function(t){e.legend(t,!1)})),M(M({},t),{ext:{geometry:_}})}(ht({},t,{options:{type:"interval",colorField:c,tooltipFields:w,mapping:M({tooltip:F},s),args:{dodgePadding:m,intervalPadding:x,minColumnWidth:f,maxColumnWidth:y,background:g}}})):t).ext;return function(t){var e=t.chart,n=t.options,i=t.ext,o=n.seriesField,r=n.isGroup,a=n.isStack,l=n.marginRatio,s=n.widthRatio,c=n.groupField,u=n.theme,f=[];return o&&(r&&f.push({type:"dodge",dodgeBy:c||o,marginRatio:l}),a&&f.push({type:"stack",marginRatio:l})),f.length&&(null==i?void 0:i.geometry)&&(null==i?void 0:i.geometry).adjust(f),p(s)||e.theme(ht({},d(u)?u:h(u),{columnWidthRatio:s})),t}(M(M({},t),{ext:S}))}function Mt(e,n,i,o,r){return r?function(e,n,i,o){var r=t(e,(function(t,e){var o=e[i],r=t.has(o)?t.get(o):0,a=e[n];return r=bt(a)?r+a:r,t.set(o,r),t}),new Map);return y(e,(function(t){var e,a=t[n],l=t[i],s=bt(a)?a/r.get(l):0;return M(M({},t),((e={})[o]=s,e))}))}(e,n,i,o):e}function Bt(t,e){return a(t)&&a(e)?t===e?"100%":0===t?"∞":0===e?"-∞":(100*e/t).toFixed(2)+"%":"-"}function Wt(t,e){return ht({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:Bt}},t)}function Tt(t,e){return y(e.getModel().points,(function(e){return t.convertPoint(e)}))}function Vt(t,e,n){!function(t,e,n){var i=t.view,o=t.geometry,r=t.group,a=t.options,l=t.horizontal,s=a.offset,c=a.size,u=a.arrow,d=i.getCoordinate(),p=Tt(d,e)[l?3:0],f=Tt(d,n)[l?0:3],v=f.y-p.y,h=f.x-p.x;if("boolean"!=typeof u){var y,g=u.headSize,m=a.spacing;l?(h-g)/2<m?(m=Math.max(1,(h-g)/2),y=[[p.x+m,p.y-s],[p.x+m,p.y-s-c],[f.x-m,f.y-s-c/2]]):y=[[p.x+m,p.y-s],[p.x+m,p.y-s-c],[f.x-m-g,f.y-s-c],[f.x-m,f.y-s-c/2],[f.x-m-g,f.y-s]]:(v-g)/2<m?(m=Math.max(1,(v-g)/2),y=[[p.x+s,p.y+m],[p.x+s+c,p.y+m],[f.x+s+c/2,f.y-m]]):y=[[p.x+s,p.y+m],[p.x+s+c,p.y+m],[f.x+s+c,f.y-m-g],[f.x+s+c/2,f.y-m],[f.x+s,f.y-m-g]],r.addShape("polygon",{id:i.id+"-conversion-tag-arrow-"+o.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:M(M({},u.style||{}),{points:y})})}}(t,e,n),function(t,e,n){var i,o,r,a=t.view,l=t.geometry,s=t.group,c=t.options,u=t.field,d=t.horizontal,p=c.offset,f=c.size;if("boolean"!=typeof c.text){var v=a.getCoordinate(),h=(null===(i=c.text)||void 0===i?void 0:i.formatter)&&(null===(o=c.text)||void 0===o?void 0:o.formatter(e.getData()[u],n.getData()[u])),y=Tt(v,e)[d?3:0],g=Tt(v,n)[d?0:3],m=s.addShape("text",{id:a.id+"-conversion-tag-text-"+l.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:M(M({},(null===(r=c.text)||void 0===r?void 0:r.style)||{}),{text:h,x:d?(y.x+g.x)/2:y.x+p+f/2,y:d?y.y-p-f/2:(y.y+g.y)/2})});if(d){var x=g.x-y.x,b=m.getBBox().width;if(b>x){var w=b/h.length,F=Math.max(1,Math.ceil(x/w)-1),S=h.slice(0,F)+"...";m.attr("text",S)}}}}(t,e,n)}var Nt={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};function Ht(t){var e=t.options,n=e.legend,i=e.seriesField,o=e.isStack;return i?!1!==n&&(n=M({position:o?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function qt(t){var e=t.chart,n=t.options,i=n.data,o=n.columnStyle,r=n.color,a=n.columnWidthRatio,l=n.isPercent,s=n.xField,c=n.yField,u=n.seriesField,d=n.tooltip;e.data(Mt(i,c,s,c,l));var p=l?M({formatter:function(t){return{name:t[u]||t[s],value:(100*Number(t[c])).toFixed(2)+"%"}}},d):d;return It(ht({},t,{options:{widthRatio:a,tooltip:p,interval:{style:o,color:r}}})),t}function Lt(t){var e,n,o=t.options,r=o.xAxis,l=o.yAxis,s=o.xField,c=o.yField,u=o.data,d=o.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return rt(Rt(((e={})[s]=r,e[c]=l,e),((n={})[s]={type:"cat"},n[c]=M(M({},function(t,e){var n=t.filter((function(t){var n=i(t,[e]);return a(n)&&!isNaN(n)})),o=n.every((function(t){return i(t,[e])>=0})),r=n.every((function(t){return i(t,[e])<=0}));return o?{min:0}:r?{max:0}:{}}(u,c)),d),n)))(t)}function Gt(t){var e=t.chart,n=t.options,i=n.xAxis,o=n.yAxis,r=n.xField,a=n.yField;return!1===i?e.axis(r,!1):e.axis(r,i),!1===o?e.axis(a,!1):e.axis(a,o),t}function $t(t){var e=t.chart,n=t.options,i=n.legend,o=n.seriesField;return i&&o?e.legend(o,i):!1===i&&e.legend(!1),t}function Ut(t){var e,n=t.chart,i=t.options,o=i.label,r=i.yField,a=i.isRange,l=(e="interval",n.geometries.find((function(t){return t.type===e})));if(o){var s=o.callback,c=B(o,["callback"]);l.label({fields:[r],callback:s,cfg:M({layout:(null==c?void 0:c.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ct(a?M({content:function(t){var e;return null===(e=t[r])||void 0===e?void 0:e.join("-")}},c):c))})}else l.label(!1);return t}function Yt(t,e){void 0===e&&(e=!1);var n,i,o,a,l,s=t.options,c=s.seriesField;return rt(Ht,At,jt,qt,Lt,Gt,$t,_t,zt,Ct,Ut,Ot,kt,(function(t){var e=t.chart,n=t.options,i=e.getController("annotation");return r(W(n.annotations||[],l||[]),(function(t){i.annotation(t)})),t}),(i=s.yField,void 0===(o=!e)&&(o=!0),void 0===(a=!!c)&&(a=!1),function(t){var e=t.options,n=t.chart,l=e.conversionTag,s=e.theme;return l&&!a&&(n.theme(ht({},d(s)?s:h(s),{columnWidthRatio:1/3})),n.annotation().shape({render:function(t,e){var a=t.addGroup({id:n.id+"-conversion-tag-group",name:"conversion-tag-group"}),s=g(n.geometries,(function(t){return"interval"===t.type})),c={view:e,geometry:s,group:a,field:i,horizontal:o,options:Wt(l,o)},u=o?s.elements:s.elements.slice().reverse();r(u,(function(t,e){e>0&&Vt(c,u[e-1],t)}))}})),t}),(void 0===(n=!s.isStack)&&(n=!1),function(t){var e=t.chart,i=t.options.connectedArea,o=function(){e.removeInteraction(Nt.hover),e.removeInteraction(Nt.click)};if(!n&&i){var r=i.trigger||"hover";o(),e.interaction(Nt[r])}else o();return t}),Pt)(t)}function Xt(t){return t?t.slice().reverse():t}function Zt(t){var e=t.chart,n=t.options,i=n.xField,o=n.yField,r=n.xAxis,a=n.yAxis,l=n.barStyle,s=n.barWidthRatio,c=n.label,u=n.data,d=n.seriesField,p=n.isStack,f=n.minBarWidth,v=n.maxBarWidth;c&&!c.position&&(c.position="left",c.layout||(c.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var h=n.legend;d?!1!==h&&(h=M({position:p?"top-left":"right-top",reversed:!p},h||{})):h=!1,t.options.legend=h;var y=n.tooltip;return d&&!1!==y&&(y=M({reversed:!p},y||{})),t.options.tooltip=y,e.coordinate().transpose(),Yt({chart:e,options:M(M({},n),{label:c,xField:o,yField:i,xAxis:a,yAxis:r,columnStyle:l,columnWidthRatio:s,minColumnWidth:f,maxColumnWidth:v,columnBackground:n.barBackground,data:Xt(u)})},!0)}m(Nt.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),m(Nt.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var Jt=ht({},Ft.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),Kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return I(e,t),e.getDefaultOptions=function(){return Jt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,i=n.xField,o=n.yField,r=n.isPercent;Lt({chart:e,options:M(M({},n),{xField:o,yField:i})}),e.changeData(Mt(Xt(t),i,o,i,r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Zt},e}(Ft);function Qt(t){return[{percent:t,type:"liquid"}]}function te(t){var e=t.chart,n=t.options,i=n.percent,o=n.liquidStyle,r=n.radius,a=n.outline,l=n.wave,s=n.shape;e.scale({percent:{min:0,max:1}}),e.data(Qt(i));var c=n.color||e.getTheme().defaultColor,u=It(ht({},t,{options:{xField:"type",yField:"percent",widthRatio:r,interval:{color:c,style:o,shape:"liquid-fill-gauge"}}})).ext.geometry,d={radius:r,outline:a,wave:l,shape:s,background:e.getTheme().background};return u.customInfo(d),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function ee(t,e){var n=t.chart,o=t.options,r=o.statistic,a=o.percent,l=o.meta;if(n.getController("annotation").clear(!0),r.content&&!r.content.formatter){var s=i(l,["percent","formatter"]);r.content.formatter=function(t){var e=t.percent;return s?s(e):(100*e).toFixed(2)+"%"}}return mt(n,{statistic:r,plotType:"liquid"},{percent:a}),e&&n.render(!0),t}function ne(t){return rt(At,te,ee,Rt({}),kt,Ot)(t)}var ie={radius:.9,statistic:{title:!1,content:{formatter:function(t){return(100*t.percent).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}return I(e,t),e.getDefaultOptions=function(){return ie},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(x.BEFORE_CHANGE_DATA,b.fromData(this.chart,x.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Qt(t)),ee({chart:this.chart,options:this.options},!0),this.chart.emit(x.AFTER_CHANGE_DATA,b.fromData(this.chart,x.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return ne},e}(Ft);const re=(t,e)=>{const n=new oe(t,{percent:.26,radius:.8,height:128,statistic:{title:{formatter:()=>e,style:({percent:t})=>({fill:t>.65?"white":"rgba(44,53,66,0.85)"})},content:{style:({percent:t})=>({fontSize:60,lineHeight:1,fill:t>.65?"white":"rgba(44,53,66,0.85)"}),customHtml:(t,e,{percent:n})=>{const{width:i,height:o}=t.getBoundingClientRect(),r=Math.sqrt(Math.pow(i/2,2)+Math.pow(o/2,2)),a=`占比 ${(100*n).toFixed(0)}%`,l=xt(a,{fontSize:60}),s=Math.min(r/l,1);return`<div style="width:${r}px;display:flex;align-items:center;justify-content:center;font-size:${s}em;line-height:${s<=1?1:"inherit"}">${a}</div>`}}},liquidStyle:({percent:t})=>({fill:t>.45?"#5B8FF9":"#FAAD14",stroke:t>.45?"#5B8FF9":"#FAAD14"}),color:()=>"#5B8FF9"});n.render();let i=.25;const o=setInterval((()=>{i+=Math.min(.1*Math.random(),.1),i<.75?n.changeData(i):clearInterval(o)}),500)};var ae=S({name:"Analysis",setup(){const t=_(),e=_(),n=_(),i=_(),o=_(),r=_(),a=_(),l=_();return O((()=>{var s;re(t.value,"盈利率"),re(e.value,"今日UV"),re(n.value,"今日PV"),re(i.value,"净增长"),(t=>{const e=new c({container:t,autoFit:!0,height:500});e.data([{type:"一线城市",value:.19},{type:"二线城市",value:.21},{type:"三线城市",value:.27},{type:"四线及以下",value:.33}]),e.coordinate("theta",{radius:.75}),e.tooltip({showMarkers:!1}),e.interval().adjust("stack").position("value").color("type",["#063d8a","#1770d6","#47abfc","#38c060"]).style({opacity:.4}).state({active:{style:t=>{const{shape:e}=t;return{matrix:w.zoom(e,1.1)}}}}).label("type",(t=>({offset:-30,style:{opacity:"四线及以下"===t?1:.5,fill:"white",fontSize:12,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},content:t=>`${t.type}\n${t.value}%`}))),e.interaction("element-single-selected"),e.render()})(o.value),s=r.value,new Kt(s,{data:[{action:"浏览网站",pv:5e4},{action:"放入购物车",pv:35e3},{action:"生成订单",pv:25e3},{action:"支付订单",pv:15e3},{action:"完成交易",pv:8500}],xField:"pv",yField:"action",conversionTag:{},theme:"default"}).render(),(t=>{const e=(new F).createView().source({nodes:[{name:"首次打开"},{name:"结果页"},{name:"验证页"},{name:"我的"},{name:"朋友"},{name:"其他来源"},{name:"首页 UV"},{name:"我的"},{name:"扫一扫"},{name:"服务"},{name:"蚂蚁森林"},{name:"跳失"},{name:"借呗"},{name:"花呗"},{name:"其他流向"}],links:[{source:0,target:6,value:160},{source:1,target:6,value:40},{source:2,target:6,value:10},{source:3,target:6,value:10},{source:4,target:6,value:8},{source:5,target:6,value:27},{source:6,target:7,value:30},{source:6,target:8,value:40},{source:6,target:9,value:35},{source:6,target:10,value:25},{source:6,target:11,value:10},{source:6,target:12,value:30},{source:6,target:13,value:40},{source:6,target:14,value:45}]},{type:"graph",edges:t=>t.links});e.transform({type:"diagram.sankey",nodeWidth:.008,nodePadding:.03,sort:(t,e)=>t.value>e.value?0:t.value<e.value?-1:0});const n=e.edges.map((t=>({source:t.source.name,target:t.target.name,name:"首页 UV"===t.source.name?t.target.name:t.source.name,x:t.x,y:t.y,value:t.value}))),i=e.nodes.map((t=>({x:t.x,y:t.y,name:t.name}))),o=new c({container:t,autoFit:!0,height:500,appendPadding:16,syncViewPadding:!0});o.legend(!1),o.tooltip({showTitle:!1,showMarkers:!1}),o.axis(!1),o.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},source:{sync:"color"},name:{sync:"color"}});const r=o.createView();r.data(i),r.polygon().position("x*y").color("name").label("x*name",((t,e)=>{const n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8,content:e}})).tooltip(!1).style("name",(t=>"跳失"===t?{fill:"#FF6010",stroke:"#FF6010"}:"首页 UV"===t?{fill:"#5D7092",stroke:"#5D7092"}:{}));const a=o.createView();a.data(n),console.log(n),a.edge().position("x*y").shape("arc").color("name").tooltip("target*source*value",((t,e,n)=>({name:`${e} to ${t}`,value:n}))).style("source*target",((t,e)=>t.includes("其他")||e.includes("其他")?{lineWidth:0,opacity:.4,fill:"#CCC",stroke:"#CCC"}:"跳失"===e?{lineWidth:0,opacity:.4,fill:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2",stroke:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2"}:{opacity:.2,lineWidth:0})).state({active:{style:{opacity:.8,lineWidth:0}}}),o.interaction("element-active"),o.render()})(a.value),(t=>{const e=[{type:"未知",value:654,percent:.02},{type:"17 岁以下",value:654,percent:.02},{type:"18-24 岁",value:4400,percent:.2},{type:"25-29 岁",value:5300,percent:.24},{type:"30-39 岁",value:6200,percent:.28},{type:"40-49 岁",value:3300,percent:.14},{type:"50 岁以上",value:1500,percent:.06}],n=new c({container:t,autoFit:!0,height:500,padding:[50,20,50,20]});n.data(e),n.scale("value",{alias:"销售额(万)"}),n.axis("type",{tickLine:{alignTick:!1}}),n.axis("value",!1),n.tooltip({showMarkers:!1}),n.interval().position("type*value"),n.interaction("element-active"),e.forEach((t=>{n.annotation().text({position:[t.type,t.value],content:t.value,style:{textAlign:"center"},offsetY:-30}).text({position:[t.type,t.value],content:`${(100*t.percent).toFixed(0)}%`,style:{textAlign:"center"},offsetY:-12})})),n.render()})(l.value)})),{plot1Ref:t,plot2Ref:e,plot3Ref:n,plot4Ref:i,chartRef:o,barRef:r,indicatorRef:a,ageRef:l}}});const le=P();k("data-v-39155ecf");const se={class:"analysisInfo"},ce=R("div",{class:"info"},[R("span",{style:{display:"block","font-size":"24px",margin:"24px 0"}},"数据可视化"),R("span",{style:{"text-align":"left"}},"数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息，")],-1),ue=R("div",{class:"indicators"},[R("div",{class:"indicator"},[R("div",{class:"title"},"访问 UV"),R("div",{class:"measure"},[R("div",{class:"value"},"2.211"),R("div",{class:"unit"},"亿")]),R("div",{class:"compare"},[R("div",{class:"name"},"日环比"),R("div",{class:"icon up"}),R("div",{class:"value up"},"8.9%")])]),R("div",{class:"indicator"},[R("div",{class:"title"},"点击 UV"),R("div",{class:"measure"},[R("div",{class:"value"},"15.2"),R("div",{class:"unit"},"%")]),R("div",{class:"compare"},[R("div",{class:"name"},"日环比"),R("div",{class:"icon up"}),R("div",{class:"value up"},"2.3%")])]),R("div",{class:"indicator"},[R("div",{class:"title"},"UV 点击率"),R("div",{class:"measure"},[R("div",{class:"value"},"875"),R("div",{class:"unit"},"%")]),R("div",{class:"compare"},[R("div",{class:"name"},"日环比"),R("div",{class:"icon down"}),R("div",{class:"value down"},"1.83%")])])],-1),de=D(" 经营状况 "),pe={ref:"plot1Ref"},fe={ref:"plot2Ref"},ve={ref:"plot3Ref"},he={ref:"plot4Ref"},ye=D(" 转化率 "),ge={ref:"barRef"},me=D(" 城市分布 "),xe={ref:"chartRef"},be=D(" 指标转化桑基图 "),we={ref:"indicatorRef"},Fe=D(" 用户年龄分布 "),Se={ref:"ageRef"};A();const _e=le(((t,e,n,i,o,r)=>{const a=j("el-col"),l=j("el-row");return z(),C("div",se,[ce,R(l,null,{default:le((()=>[R(a,{span:24},{default:le((()=>[ue])),_:1})])),_:1}),R(l,null,{default:le((()=>[R(a,{span:16},{default:le((()=>[R(l,null,{default:le((()=>[R(a,{span:6},{default:le((()=>[de])),_:1})])),_:1}),R(l,null,{default:le((()=>[R(a,{span:6},{default:le((()=>[R("div",pe,null,512)])),_:1}),R(a,{span:6},{default:le((()=>[R("div",fe,null,512)])),_:1}),R(a,{span:6},{default:le((()=>[R("div",ve,null,512)])),_:1}),R(a,{span:6},{default:le((()=>[R("div",he,null,512)])),_:1})])),_:1}),R(l,null,{default:le((()=>[R(l,null,{default:le((()=>[R(a,{span:24},{default:le((()=>[ye])),_:1})])),_:1}),R(a,{span:24},{default:le((()=>[R("div",ge,null,512)])),_:1})])),_:1})])),_:1}),R(a,{span:8},{default:le((()=>[R(l,null,{default:le((()=>[me])),_:1}),R("div",xe,null,512)])),_:1})])),_:1}),R(l,{justify:"start"},{default:le((()=>[be])),_:1}),R(l,null,{default:le((()=>[R(a,{span:24},{default:le((()=>[R("div",we,null,512)])),_:1})])),_:1}),R(l,{justify:"start"},{default:le((()=>[Fe])),_:1}),R(l,null,{default:le((()=>[R(a,{span:24},{default:le((()=>[R("div",Se,null,512)])),_:1})])),_:1})])}));ae.render=_e,ae.__scopeId="data-v-39155ecf";export default ae;
