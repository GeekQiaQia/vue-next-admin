var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{d as i,n as s,r as d,p as m,c,b as u,v as p,b4 as f,i as g,g as b,h,w as v,_ as C,k as y,a4 as _,a0 as w,t as x,aF as z,ah as j,e as k,f as P,R as S,ai as O,aQ as V,bc as D,b5 as I,aR as $,bd as E}from"./vendor.4e893dbb.js";/* empty css                      *//* empty css                        *//* empty css                    *//* empty css                      *//* empty css                   */import{_ as F,p as T}from"./index.956e7b2c.js";const R=i({name:"TableList",directives:{permission:T},setup(){const e=s(),i=d(),f=m({tableData:[{date:"2016-05-07",name:"白小白",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-05-04",name:"李小胖",address:"上海市普陀区金沙江路 1517 弄",tag:"公司"},{date:"2016-05-01",name:"王老五",address:"上海市普陀区金沙江路 1519 弄",tag:"家"},{date:"2016-07-03",name:"王麻子",address:"上海市普陀区金沙江路 1516 弄",tag:"公司"},{date:"2016-07-07",name:"白小白",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-07-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-07-04",name:"李小胖",address:"上海市普陀区金沙江路 1517 弄",tag:"公司"},{date:"2016-07-01",name:"王老五",address:"上海市普陀区金沙江路 1519 弄",tag:"家"}],currentPage:1,pageSize:5,search:""}),g=m({user:"",region:""}),b=c((()=>f.tableData.length));u((()=>{console.dir(i.value)}));return h=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&o(e,t,a[t]);return e})({formInline:g,total:b},p(f)),a(h,t({handleCurrentChange:e=>{console.log(`当前页: ${e}`),f.currentPage=e},handleSizeChange:e=>{console.log(`每页 ${e} 条`),f.pageSize=e},onSubmit:()=>{console.log("submit!")},handleEdit:(a,t)=>{console.log(a,t),e.replace("/form/advanceForm")},handleDelete:(e,a)=>{console.log(e,a),f.tableData.splice(e,1)},filterTableRef:i,resetDateFilter:()=>{i.value.clearFilter("date")},clearFilter:()=>{i.value.clearFilter()},formatter:e=>e.address,filterTag:(e,a)=>a.tag===e,filterHandler:(e,a,t)=>{const{property:l}=t;return a[l]===e}}));var h}}),L={class:"table-container"},U=w("查询"),H=w("v-permission "),Q=w("$isPermission "),q=w("Edit"),A=w("删除");var B=F(R,[["render",function(e,a,t,l,r,n){const o=z,i=j,s=k,d=P,m=S,c=O,u=V,p=D,F=I,T=$,R=E,B=f("permission");return g(),b("div",L,[h(c,{inline:!0,model:e.formInline,class:"form-inline"},{default:v((()=>[h(i,{label:"审批人"},{default:v((()=>[h(o,{modelValue:e.formInline.user,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formInline.user=a),placeholder:"审批人"},null,8,["modelValue"])])),_:1}),h(i,{label:"活动区域"},{default:v((()=>[h(d,{modelValue:e.formInline.region,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formInline.region=a),placeholder:"活动区域"},{default:v((()=>[h(s,{label:"区域一",value:"shanghai"}),h(s,{label:"区域二",value:"beijing"})])),_:1},8,["modelValue"])])),_:1}),h(i,null,{default:v((()=>[h(m,{type:"primary",onClick:e.onSubmit},{default:v((()=>[U])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),h(T,{ref:"filterTableRef",class:"table-list","row-key":"date",data:e.tableData.filter((a=>!e.search||a.name.toLowerCase().includes(e.search.toLowerCase()))),style:{width:"100%"}},{default:v((()=>[h(u,{prop:"date",label:"日期",sortable:"",width:"180","column-key":"date",filters:[{text:"2016-05-01",value:"2016-05-01"},{text:"2016-05-02",value:"2016-05-02"},{text:"2016-05-03",value:"2016-05-03"},{text:"2016-05-04",value:"2016-05-04"}],"filter-method":e.filterHandler},null,8,["filter-method"]),h(u,{prop:"name",label:"姓名",width:"180"}),h(u,{prop:"address",label:"地址",formatter:e.formatter},null,8,["formatter"]),h(u,{align:"right"},{header:v((()=>[h(o,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=a=>e.search=a),size:"mini",placeholder:"输入姓名字段关键字搜索"},null,8,["modelValue"])])),default:v((a=>[C((g(),y(m,{size:"mini",onClick:t=>e.handleEdit(a.$index,a.row)},{default:v((()=>[H])),_:2},1032,["onClick"])),[[B,["test:permission-btn3"]]]),e.$isPermission(["test:permission-btn3"])?(g(),y(m,{key:0,size:"mini",onClick:t=>e.handleEdit(a.$index,a.row)},{default:v((()=>[Q])),_:2},1032,["onClick"])):_("",!0),h(m,{size:"mini",onClick:t=>e.handleEdit(a.$index,a.row)},{default:v((()=>[q])),_:2},1032,["onClick"]),h(p,{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定删除该条记录吗？",onConfirm:t=>e.handleDelete(a.$index,a.row)},{reference:v((()=>[h(m,{size:"mini",type:"danger"},{default:v((()=>[A])),_:1})])),_:2},1032,["onConfirm"])])),_:1}),h(u,{prop:"tag",label:"标签",width:"100",filters:[{text:"家",value:"家"},{text:"公司",value:"公司"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},{default:v((e=>[h(F,{type:"家"===e.row.tag?"primary":"success","disable-transitions":""},{default:v((()=>[w(x(e.row.tag),1)])),_:2},1032,["type"])])),_:1},8,["filter-method"])])),_:1},8,["data"]),h(R,{"hide-on-single-page":!1,"current-page":e.currentPage,"page-sizes":[5,10,15,20,25],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}],["__scopeId","data-v-6ae208c9"]]);export{B as default};
