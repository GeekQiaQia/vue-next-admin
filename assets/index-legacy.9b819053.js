!function(){function t(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var n,r,o=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(n=a.next()).done)&&(o.push(n.value),!e||o.length!==e);l=!0);}catch(i){u=!0,r=i}finally{try{l||null==a.return||a.return()}finally{if(u)throw r}}return o}(t,a)||function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,a)}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function a(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o=document.createElement("style");o.innerHTML=".task-table[data-v-ae4a6e64]{margin-top:16px}.task-table__add[data-v-ae4a6e64]{margin-top:16px;text-align:center}.board[data-v-10a2a584]{padding:0 20px}.board__info[data-v-10a2a584]{text-align:left}.board__info>span[data-v-10a2a584]{font-size:12px;margin-bottom:20px;display:inline-block}.board__project[data-v-10a2a584]{text-align:left}.board__project-title[data-v-10a2a584]{font-size:18px;font-weight:700}.board__project-list[data-v-10a2a584]{display:flex;flex-wrap:wrap;margin-top:16px}.board__project-item[data-v-10a2a584]{width:50%;width:calc(50% - 100px);margin-bottom:30px;margin-left:50px;cursor:pointer;border:1px solid transparent;max-width:700px;min-width:500px}.board__project-item--active[data-v-10a2a584]{border-color:#2799c1;border-radius:4px}.board__project-avatar[data-v-10a2a584]{font-size:20px;background:#7d9fe3;font-weight:700}.board__detail[data-v-10a2a584]{text-align:left}.board__detail-head[data-v-10a2a584]{color:#706e6e;margin-bottom:30px}.board__detail-search[data-v-10a2a584]{margin-top:30px;text-align:left}.board__detail-title[data-v-10a2a584]{font-size:18px;font-weight:700;margin-bottom:16px}.board__detail-empty[data-v-10a2a584]{color:#d3d0d0;line-height:200px;text-align:center}.board__detail-wrap[data-v-10a2a584]{min-height:200px}.board__detail-name[data-v-10a2a584]{font-weight:700}.board__detail-tag[data-v-10a2a584]{margin-left:16px}.board__detail-task[data-v-10a2a584]{margin-top:30px}\n",document.head.appendChild(o),System.register(["./vendor-legacy.92c2f5a6.js","./col-legacy.4976b2e9.js","./divider-legacy.4cf47f83.js","./lodash-legacy.d43d806d.js","./index-legacy.0549125c.js","./table-column-legacy.0f81edab.js","./checkbox-legacy.f04a5c48.js","./popconfirm-legacy.032f2c5c.js","./popover-legacy.0eba315a.js"],(function(e){"use strict";var a,r,o,l,u,i,d,c,s,f,p,v,m,b,_,k,y,g,j,x,w,h,I,T,V,O,S,P,L,M,C,U,z,E,N,D,A,F,H,R,q,B,K;return{setters:[function(t){a=t.p,r=t.d,o=t.i,l=t.g,u=t.h,i=t.w,d=t.k,c=t.t,s=t.a0,f=t.u,p=t.bl,v=t.bm,m=t.m,b=t.aF,_=t.aQ,k=t.e,y=t.f,g=t.b5,j=t.R,x=t.x,w=t.bc,h=t.aR,I=t.r,T=t.v,V=t.D,O=t.c,S=t.F,P=t.j,L=t.K,M=t.L,C=t.M,U=t.aH,z=t.Y,E=t.ax,N=t.ay,D=t.az,A=t.ah,F=t.ai,H=t.a8,R=t.a9},function(){},function(){},function(t){q=t._},function(t){B=t.r,K=t._},function(){},function(){},function(){},function(){}],execute:function(){var Q={class:"task-table"},Y={key:1},$={key:1},G={key:1},J=s("保存"),W=s(" 编辑"),X=s("删除"),Z={class:"task-table__add"},tt=s("+ 新增任务"),et=K(r({props:{data:null,status:null},emits:["updateTask","modifyTaskEdit","addProjectTask","deleteProjectTask"],setup:function(t,e){var a=e.emit;function r(){a("addProjectTask")}return function(e,I){var T=b,V=_,O=k,S=y,P=g,L=j,M=x,C=w,U=h;return o(),l("div",Q,[u(U,{data:t.data,style:{width:"100%"}},{default:i((function(){return[u(V,{prop:"taskName",label:"任务名称"},{default:i((function(t){return[t.row.edit?(o(),d(T,{key:0,modelValue:t.row.taskName,"onUpdate:modelValue":function(e){return t.row.taskName=e}},null,8,["modelValue","onUpdate:modelValue"])):(o(),l("span",Y,c(t.row.taskName),1))]})),_:1}),u(V,{prop:"developTime",label:"开发工时"},{default:i((function(t){return[t.row.edit?(o(),d(T,{key:0,modelValue:t.row.developTime,"onUpdate:modelValue":function(e){return t.row.developTime=e}},null,8,["modelValue","onUpdate:modelValue"])):(o(),l("span",$,c(t.row.developTime),1))]})),_:1}),u(V,{prop:"developMember",label:"开发人"},{default:i((function(t){return[t.row.edit?(o(),d(T,{key:0,modelValue:t.row.developMember,"onUpdate:modelValue":function(e){return t.row.developMember=e}},null,8,["modelValue","onUpdate:modelValue"])):(o(),l("span",G,c(t.row.developMember),1))]})),_:1}),u(V,{prop:"taskStatus",label:"任务状态"},{default:i((function(e){var a;return[e.row.edit?(o(),d(S,{key:0,modelValue:e.row.taskStatus,"onUpdate:modelValue":function(t){return e.row.taskStatus=t},placeholder:"选择任务状态"},{default:i((function(){return[u(O,{label:"准备阶段",value:"preparation"}),u(O,{label:"开发中",value:"development"}),u(O,{label:"开发完成",value:"completed"}),u(O,{label:"测试阶段",value:"test"}),u(O,{label:"待发布",value:"released"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])):(o(),d(P,{key:1,type:null===(a=t.status.get("".concat(e.row.taskStatus)))||void 0===a?void 0:a.type},{default:i((function(){var a;return[s(c(null===(a=t.status.get("".concat(e.row.taskStatus)))||void 0===a?void 0:a.text),1)]})),_:2},1032,["type"]))]})),_:1}),u(V,{label:"操作",width:"200"},{default:i((function(t){return[t.row.edit?(o(),d(L,{key:0,size:"mini",type:"success",icon:"el-icon-check",onClick:function(e){return r=t.row,o=r.taskId,void a("updateTask",o,n(n({},r),{},{edit:!1}));var r,o}},{default:i((function(){return[J]})),_:2},1032,["onClick"])):(o(),d(L,{key:1,size:"mini",onClick:function(e){return n=t.row,r=n.taskId,void a("modifyTaskEdit",r,!0);var n,r}},{default:i((function(){return[u(M,null,{default:i((function(){return[u(f(p))]})),_:1}),W]})),_:2},1032,["onClick"])),u(C,{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定删除该条记录吗？",onConfirm:function(e){return n=t.row,r=n.taskId,void a("deleteProjectTask",r);var n,r}},{reference:i((function(){return[u(L,{size:"mini",type:"danger"},{default:i((function(){return[u(M,null,{default:i((function(){return[u(f(v))]})),_:1}),X]})),_:1})]})),_:2},1032,["onConfirm"])]})),_:1})]})),_:1},8,["data"]),m("div",Z,[u(L,{onClick:r},{default:i((function(){return[tt]})),_:1})])])}}}),[["__scopeId","data-v-ae4a6e64"]]),at=function(t){return M("data-v-10a2a584"),t=t(),C(),t},nt={class:"board"},rt={class:"board__info"},ot=s("项目看板"),lt=at((function(){return m("span",null,"项目看板主要应用场景：项目的任务管理，任务进度管理等。",-1)})),ut={class:"board__project"},it=at((function(){return m("div",{class:"board__project-title"},"项目概览",-1)})),dt={class:"board__project-list"},ct=["onClick"],st={class:"board__detail"},ft=at((function(){return m("div",{class:"board__detail-title"},"项目详情",-1)})),pt={key:0,class:"board__detail-empty"},vt={key:1,class:"board__detail-content"},mt={class:"board__detail-head"},bt=at((function(){return m("span",{class:"board__detail-name"},"项目名称",-1)})),_t=at((function(){return m("span",{class:"board__detail-name"},"负责人",-1)})),kt=at((function(){return m("span",{class:"board__detail-name"},"开发工时",-1)})),yt=at((function(){return m("span",{class:"board__detail-name"},"项目状态",-1)})),gt=at((function(){return m("span",{class:"board__detail-name"},"任务总数",-1)})),jt=at((function(){return m("span",{class:"board__detail-name"},"任务进度",-1)})),xt=s("： "),wt={class:"board__detail-search"},ht=s("查询"),It={class:"board__detail-table"},Tt=s("列表"),Vt=r({setup:function(e){var r=a({taskStatus:null,developMember:""}),p=new Map([["preparation",{text:"准备阶段",type:"info"}],["development",{text:"开发中",type:""}],["completed",{text:"开发完成",type:"success"}],["test",{text:"测试阶段",type:"danger"}],["released",{text:"待发布",type:"warning"}]]),v=I([]),b=I("table"),_=function(){var t=a({data:[],target:{}});return B({url:"/api/project/list",method:"get",json:!0}).then((function(e){0===e.status&&(t.data=e.data,t.target=e.data[0])})),{store:t,updatedProjectInfo:function(e,a,n){var r=q.findIndex(t.data,["projectId",e]),o=t.data[r].taskList,l=q.map(o,(function(t,e){return t.taskId===a?n:t}));t.data[r].taskList=l},addProjectTask:function(e,a){var n=q.findIndex(t.data,["projectId",e]),r=t.data[n].taskList;t.data[n].taskList=q.concat(r,a,[])},deleteTask:function(e,a){var n=q.findIndex(t.data,["projectId",e]),r=t.data[n].taskList,o=q.map(r,(function(t,e){if(t.taskId!==a)return t})).filter((function(t){return t}));t.data[n].taskList=o},getProjectDetail:function(e){return q.find(t.data,(function(t){return t.projectId===e}))},modifyTaskEdit:function(e,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=q.findIndex(t.data,["projectId",e]),l=t.data[o].taskList,u=q.map(l,(function(t,e){return t.taskId===a?n(n({},t),{},{edit:r}):t}));t.data[o].taskList=u}}}(),x=_.store,w=_.updatedProjectInfo,h=_.addProjectTask,M=_.deleteTask,C=_.modifyTaskEdit,K=T(x),Q=K.data,Y=K.target;V((function(){return Y.value}),(function(t){v.value=t.taskList}),{deep:!0});var $=O((function(){var e=q.countBy(Y.value.taskList,(function(t){return t.taskStatus}));return q.map(Object.entries(e),(function(e){var a=t(e,2),r=a[0],o=a[1];return n(n({},p.get(r)),{},{count:o})}))})),G=O((function(){var t=q.map(Y.value.taskList,(function(t){return t.developMember})).filter((function(t){return t}));return q.uniq(t)}));function J(){console.log("search!",r);var t=r.taskStatus,e=r.developMember;if(t&&e){var a=q.map(Y.value.taskList,(function(a){if(a.developMember===e&&a.taskStatus===t)return a})).filter((function(t){return t}));v.value=a}else if(t){var n=q.map(Y.value.taskList,(function(e){if(e.taskStatus===t)return e})).filter((function(t){return t}));v.value=n}else if(e){var o=q.map(Y.value.taskList,(function(t){if(t.developMember===e)return t})).filter((function(t){return t}));v.value=o}else v.value=Y.value.taskList}function W(t,e){var a=Y.value.projectId;C(a,t,e)}function X(t,e){var a=Y.value.projectId;w(a,t,e)}function Z(){var t=Y.value.projectId,e={taskName:"",developTime:"",developMember:"",taskStatus:"preparation",edit:!0,taskId:Date.now()};h(t,e)}function tt(t){var e=Y.value.projectId;M(e,t)}function at(t){switch(t.paneName){case"table":console.log("表格形式");break;case"列表形式":console.log("列表形式")}}return function(t,e){var a=U,n=z,_=E,x=N,w=D,h=g,I=k,T=y,V=A,O=j,M=F,C=H,q=R;return o(),l("div",nt,[m("div",rt,[u(a,{"content-position":"left"},{default:i((function(){return[ot]})),_:1}),lt]),m("div",ut,[it,m("div",dt,[(o(!0),l(S,null,P(f(Q),(function(t,e){return o(),l("div",{key:e,class:L(["board__project-item",{"board__project-item--active":f(Y).projectId===t.projectId}]),onClick:function(e){return a=t,void(Y.value=a);var a}},[u(w,null,{default:i((function(){return[u(x,null,{default:i((function(){return[u(_,{span:5},{default:i((function(){return[u(n,{class:"board__project-avatar",size:90},{default:i((function(){return[s(c(t.projectName.substr(0,1)),1)]})),_:2},1024)]})),_:2},1024),u(_,{span:18,style:{"margin-left":"6px",color:"#7a848d"}},{default:i((function(){return[m("p",null,"项目名称："+c(t.projectName),1),m("p",null,"总负责人："+c(t.principal),1),m("p",null,"开发耗时："+c(t.timeConsuming),1),m("p",null,"项目状态: "+c(t.status),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)],10,ct)})),128))])]),m("div",st,[ft,u(w,{class:"board__detail-wrap"},{default:i((function(){return[f(Y).projectId?(o(),l("div",vt,[m("div",mt,[u(x,null,{default:i((function(){return[u(_,{span:5},{default:i((function(){return[bt,s("："+c(f(Y).projectName),1)]})),_:1}),u(_,{span:5},{default:i((function(){return[_t,s("："+c(f(Y).principal),1)]})),_:1}),u(_,{span:5},{default:i((function(){return[kt,s("："+c(f(Y).timeConsuming),1)]})),_:1}),u(_,{span:5},{default:i((function(){return[yt,s("："+c(f(Y).status),1)]})),_:1})]})),_:1}),u(x,{class:"board__detail-task"},{default:i((function(){return[u(_,{span:5},{default:i((function(){return[gt,s("："+c(f(Y).taskList.length),1)]})),_:1}),u(_,{span:18},{default:i((function(){return[jt,xt,(o(!0),l(S,null,P(f($),(function(t,e){return o(),d(h,{key:e,class:"board__detail-tag",type:t.type},{default:i((function(){return[s(c(t.text)+": "+c(t.count),1)]})),_:2},1032,["type"])})),128))]})),_:1})]})),_:1})]),u(q,{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=function(t){return b.value=t}),type:"card",onTabClick:at},{default:i((function(){return[u(C,{label:"表格模式",name:"table"},{default:i((function(){return[m("div",wt,[u(M,{inline:!0,model:f(r)},{default:i((function(){return[u(V,{label:"开发人"},{default:i((function(){return[u(T,{clearable:"",modelValue:f(r).developMember,"onUpdate:modelValue":e[0]||(e[0]=function(t){return f(r).developMember=t}),placeholder:"选择任务开发者"},{default:i((function(){return[(o(!0),l(S,null,P(f(G),(function(t,e){return o(),d(I,{key:e,label:t,value:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),u(V,{label:"任务状态"},{default:i((function(){return[u(T,{clearable:"",modelValue:f(r).taskStatus,"onUpdate:modelValue":e[1]||(e[1]=function(t){return f(r).taskStatus=t}),placeholder:"选择任务状态"},{default:i((function(){return[u(I,{label:"准备阶段",value:"preparation"}),u(I,{label:"开发中",value:"development"}),u(I,{label:"开发完成",value:"completed"}),u(I,{label:"测试阶段",value:"test"}),u(I,{label:"待发布",value:"released"})]})),_:1},8,["modelValue"])]})),_:1}),u(V,null,{default:i((function(){return[u(O,{type:"primary",onClick:J},{default:i((function(){return[ht]})),_:1})]})),_:1})]})),_:1},8,["model"])]),m("div",It,[u(et,{data:v.value,status:f(p),onUpdateTask:X,onModifyTaskEdit:W,onAddProjectTask:Z,onDeleteProjectTask:tt},null,8,["data","status"])])]})),_:1}),u(C,{label:"列表模式",name:"column"},{default:i((function(){return[Tt]})),_:1})]})),_:1},8,["modelValue"])])):(o(),l("div",pt,"请选择项目，查看项目详情！！！"))]})),_:1})])])}}});e("default",K(Vt,[["__scopeId","data-v-10a2a584"]]))}}}))}();
