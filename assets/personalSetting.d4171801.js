var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,l,s)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,c=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&o(e,l,a[l]);if(s)for(var l of s(a))r.call(a,l)&&o(e,l,a[l]);return e};import{d as i,h as n,r as u,y as d,b as p,A as m,j as v,e as f,c as g,s as b,m as h,g as y,E as w,p as _,f as k,I as V}from"./vendor.c9ee9e3e.js";import{S as F}from"./index.e1c52e8c.js";import{_ as j,a as S}from"./index.14b06000.js";const U=i({name:"PersonalSetting",setup(){const e=n(),s=u("left"),t=u(),r=d({userSwitch:!1,sysSwitch:!0,taskSwitch:!0}),o=d({email:"",nickname:"",desc:"",mobile:""}),i=u(),v=u(!1),f={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],nickname:{required:!0,message:"请输入昵称",trigger:["blur","change"]},desc:{required:!0,message:"请输入个人简介",trigger:["blur","change"]},mobile:{required:!0,validator:(e,a,l)=>{if(""===a)l(new Error("手机号码不可为空哦"));else{/^1[3-9]\d{9}$/.test(a)?l():l(new Error("请输入正确的手机号码"))}},trigger:["blur","change"]}};p((()=>{}));return g=c({handleBack:()=>{e.go(-1)},tabPosition:s,settingFormRef:t,settingForm:o,submitForm:()=>{t.value.validate((async e=>{if(e){try{v.value=!0;const e=c({},o),a=await F.postSetBasicInfo(e);console.log(a),v.value=!1,w.ElMessage({type:"success",message:a.data.message})}catch(a){console.error(a)}return!0}return!1}))},resetForm:()=>{t.value.resetFields()},handleAvatarSuccess:(e,a)=>{i.value=URL.createObjectURL(a.raw)},beforeAvatarUpload:e=>{if(!/(gif|png|jpg|jpeg)$/i.test(e.type))return w.ElMessage({message:"上传头像图片只能是gif|png|jpg|jpeg 格式!",type:"warning"}),!1;const a=e.size/1024/1024<2;return a||w.ElMessage.error("上传头像图片大小不能超过 2MB!"),a},rules:f,imageUrl:i},m(r)),a(g,l({updateLoading:v}));var g}}),x=e=>(_("data-v-7c5182d4"),e=e(),k(),e),O={class:"PersonalSetting"},P={class:"grid-content bg-purple-dark"},E={class:"card-header"},A=x((()=>y("i",{class:"el-icon-arrow-left"},null,-1))),q=V("返回"),B=x((()=>y("span",null,"个人设置",-1))),C=x((()=>y("div",null,null,-1))),I=x((()=>y("div",{class:"set-title"},[y("span",null,"基本设置")],-1))),L={class:"set-info"},M={class:"form-info"},R=V("更新基本信息"),z=V("重置"),$={class:"avatar"},D=x((()=>y("div",{class:"preview"},[y("span",null,"头像"),y("img",{src:S})],-1))),G=x((()=>y("i",{class:"el-icon-upload"},null,-1))),H=V("更换头像"),J=x((()=>y("div",{class:"set-title"},[y("span",null,"安全设置")],-1))),K=x((()=>y("div",{class:"secure-item"},[y("div",{class:"secure-info"},[y("span",{class:"secure-key"},"账户密码"),y("span",{class:"secure-value"},"当前密码强度：强")]),y("div",{class:"opera-btn"},[y("span",null,"修改")])],-1))),N=x((()=>y("div",{class:"secure-item"},[y("div",{class:"secure-info"},[y("span",{class:"secure-key"},"密保手机"),y("span",{class:"secure-value"},"已绑定手机：138****2234")]),y("div",{class:"opera-btn"},[y("span",null,"修改")])],-1))),Q=x((()=>y("div",{class:"secure-item"},[y("div",{class:"secure-info"},[y("span",{class:"secure-key"},"绑定邮箱"),y("span",{class:"secure-value"},"已绑定邮箱：geek****@outlook.com")]),y("div",{class:"opera-btn"},[y("span",null,"修改")])],-1))),T=x((()=>y("div",{class:"set-title"},[y("span",null,"新消息通知")],-1))),W={class:"secure-item"},X=x((()=>y("div",{class:"secure-info"},[y("span",{class:"secure-key"},"账户密码"),y("span",{class:"secure-value"},"用户信息将以系统内部渠道通知")],-1))),Y={class:"secure-item"},Z=x((()=>y("div",{class:"secure-info"},[y("span",{class:"secure-key"},"系统消息"),y("span",{class:"secure-value"},"系统消息将以系统内部渠道通知")],-1))),ee={class:"secure-item"},ae=x((()=>y("div",{class:"secure-info"},[y("span",{class:"secure-key"},"代办任务"),y("span",{class:"secure-value"},"代办任务将以系统内部渠道通知")],-1)));var le=j(U,[["render",function(e,a,l,s,t,r){const o=v("el-button"),c=v("el-input"),i=v("el-form-item"),n=v("el-form"),u=v("el-upload"),d=v("el-tab-pane"),p=v("el-switch"),m=v("el-tooltip"),w=v("el-tabs"),_=v("el-card"),k=v("el-col"),V=v("el-row");return f(),g("div",O,[b(V,null,{default:h((()=>[b(k,{offset:1,span:22},{default:h((()=>[y("div",P,[b(_,{class:"box-card"},{header:h((()=>[y("div",E,[b(o,{class:"button",type:"text",onClick:e.handleBack},{default:h((()=>[A,q])),_:1},8,["onClick"]),B,C])])),default:h((()=>[b(w,{"tab-position":e.tabPosition},{default:h((()=>[b(d,{label:"基本设置"},{default:h((()=>[I,y("div",L,[y("div",M,[b(n,{ref:"settingFormRef",model:e.settingForm,rules:e.rules,"label-width":"100px",class:"demo-ruleForm"},{default:h((()=>[b(i,{label:"邮箱",prop:"email"},{default:h((()=>[b(c,{modelValue:e.settingForm.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.settingForm.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),b(i,{label:"昵称",prop:"nickname"},{default:h((()=>[b(c,{modelValue:e.settingForm.nickname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.settingForm.nickname=a),placeholder:"请输入昵称",maxlength:"10"},null,8,["modelValue"])])),_:1}),b(i,{label:"个人简介",prop:"desc"},{default:h((()=>[b(c,{modelValue:e.settingForm.desc,"onUpdate:modelValue":a[2]||(a[2]=a=>e.settingForm.desc=a),type:"textarea",placeholder:"个人简介",maxlength:"120"},null,8,["modelValue"])])),_:1}),b(i,{label:"联系电话",prop:"mobile"},{default:h((()=>[b(c,{modelValue:e.settingForm.mobile,"onUpdate:modelValue":a[3]||(a[3]=a=>e.settingForm.mobile=a),placeholder:"请输入11位大陆手机号码"},null,8,["modelValue"])])),_:1}),b(i,null,{default:h((()=>[b(o,{type:"primary",loading:e.updateLoading,onClick:a[4]||(a[4]=a=>e.submitForm())},{default:h((()=>[R])),_:1},8,["loading"]),b(o,{onClick:a[5]||(a[5]=a=>e.resetForm())},{default:h((()=>[z])),_:1})])),_:1})])),_:1},8,["model","rules"])]),y("div",$,[D,b(u,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},{default:h((()=>[b(o,{style:{"margin-left":"10px"},size:"small",type:"success"},{default:h((()=>[G,H])),_:1})])),_:1},8,["on-success","before-upload"])])])])),_:1}),b(d,{label:"安全设置"},{default:h((()=>[J,K,N,Q])),_:1}),b(d,{label:"新消息通知"},{default:h((()=>[T,y("div",W,[X,b(m,{content:"是否开启用户信息: ",placement:"top"},{default:h((()=>[b(p,{modelValue:e.userSwitch,"onUpdate:modelValue":a[6]||(a[6]=a=>e.userSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})]),y("div",Y,[Z,b(m,{content:"是否开启系统消息: ",placement:"top"},{default:h((()=>[b(p,{modelValue:e.sysSwitch,"onUpdate:modelValue":a[7]||(a[7]=a=>e.sysSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})]),y("div",ee,[ae,b(m,{content:"是否开启代办任务消息: ",placement:"top"},{default:h((()=>[b(p,{modelValue:e.taskSwitch,"onUpdate:modelValue":a[8]||(a[8]=a=>e.taskSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})])])),_:1})])),_:1},8,["tab-position"])])),_:1})])])),_:1})])),_:1})])}],["__scopeId","data-v-7c5182d4"]]);export{le as default};
