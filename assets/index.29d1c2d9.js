var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{C as s}from"./clipboard.4ae4e72b.js";import{E as r}from"./element-plus.c35c14b5.js";import{a7 as d,k as n,av as i,az as c,r as p,v as u,aJ as m,aK as v,aB as y,Z as f,_ as b,a5 as w,b4 as g,D as h,X as C,a4 as _,b6 as k,aE as V,aC as j}from"./@vue.9dcf4325.js";import"./lodash.a533b6d4.js";import"./resize-observer-polyfill.af5c5caa.js";import"./@popperjs.b42a2641.js";import"./dayjs.80b0a338.js";import"./mitt.06a3009f.js";import"./async-validator.9224cb80.js";import"./normalize-wheel.1d574cd1.js";import"./vue.1f809ab3.js";const x=(e,a,l)=>{const t=new s(a.target,{text:()=>e});t.on("success",(()=>{var e,a;a=null!=(e=null==l?void 0:l.successTip)?e:"copy success",r({message:a,type:"success",duration:1500}),t.destroy()})),t.on("error",(()=>{var e,a;a=null!=(e=null==l?void 0:l.failedTip)?e:"copy success",r({message:a,type:"error"}),t.destroy()}))};if(!s)throw new Error("you should npm install `clipboard` --save at first ");var U=d({name:"RichText",components:{},directives:{clip:{beforeMount(){},mounted(e,a){const l=e,t=new s(l,{text:()=>a.value,action:()=>"cut"===a.arg?"cut":"copy"});t.on("success",(a=>{console.log(a);const l=e.vClipSuccess;l&&l(a)})),t.on("error",(a=>{console.log(a);const l=e.vClipFailure;l&&l(a)})),l.vClipboard=t},beforeUpdate(){},updated(e,a){const l=e;"success"===a.arg?l.vClipSuccess=a.value:"error"===a.arg?l.vClipFailure=a.value:(null==l?void 0:l.vClipboard)&&(l.vClipboard.text=()=>a.value,l.vClipboard.action=()=>"cut"===a.arg?"cut":"copy")},beforeUnmount(){},unmounted(e,a){var l;const t=e;"success"===a.arg?delete t.vClipSuccess:"error"===a.arg?delete t.vClipFailure:(null==(l=null==e?void 0:e.vClipboard)||l.destroy(),delete t.vClipboard)}}},setup(){const e=n("vue3+vite+typescirpt+ElementPlus"),d=new s(".cut-btn");i((()=>{d&&d.on("success",(e=>{r({type:"success",message:"剪切成功"}),e.clearSelection()}))})),c((()=>{d.destroy()}));const m=p({tableData:[{province:"上海市",city:"浦东新区",name:"王小虎1",address:"上海市普陀区金沙江路 1518 弄",edit:!1},{province:"上海市",city:"浦东新区",name:"王小虎2",address:"上海市普陀区金沙江路 1517 弄",edit:!1},{province:"上海市",city:"浦东新区",name:"王小虎3",address:"上海市普陀区金沙江路 1519 弄",edit:!1},{province:"上海市",city:"浦东新区",name:"王小虎4",address:"上海市普陀区金沙江路 1516 弄",edit:!0}]});return((e,s)=>{for(var r in s||(s={}))l.call(s,r)&&o(e,r,s[r]);if(a)for(var r of a(s))t.call(s,r)&&o(e,r,s[r]);return e})({handleCopyInput:(e,a)=>{x(e,a,{successTip:"复制成功",failedTip:"复制失败"})},inputContent:e,handleAddRecord:()=>{m.tableData.push({province:"",city:"",name:"",address:"",edit:!0})},handleEdit:(e,a)=>{console.log(e,a),m.tableData[e].edit=!0},handleSave:(e,a)=>(console.log(e,a),(e=>Object.keys(e).some((a=>""===e[a])))(a)?(r.warning("保存前请完善信息！"),!1):(m.tableData[e].edit=!1,m.tableData[e]=a,!0)),handleDelete:(e,a)=>{console.log(e,a),m.tableData.splice(e,1)}},u(m))}});const D=e=>(V("data-v-22d6b268"),e=e(),j(),e),z={class:"copy-container"},O={class:"info"},S=_("文本复制"),E=D((()=>b("span",{style:{"text-align":"left"}},"文本复制常用于多数据拼接或者长文本内容复制场景。",-1))),T={class:"grid-content bg-purple-dark"},I={style:{"text-align":"left"}},P=D((()=>b("span",null,"长文本内容复制场景",-1))),F={class:"section"},R=_("复制"),$={class:"grid-content bg-purple-dark"},A={style:{"text-align":"left"}},B=D((()=>b("span",null,"多数据拼接复制场景",-1))),J={key:1,class:"name-wrapper"},K={key:1},M={key:1},X={key:1},Z=_("保存"),q=_("复制"),G={style:{margin:"5px"}},H=_("+ 新增记录");U.render=function(e,a,l,t,o,s){const r=m("el-divider"),d=m("el-input"),n=m("el-button"),i=m("el-card"),c=m("el-col"),p=m("el-row"),u=m("el-tag"),V=m("el-popover"),j=m("el-table-column"),x=m("el-table"),U=v("clip");return y(),f("div",z,[b("div",O,[w(r,{"content-position":"left"},{default:g((()=>[S])),_:1}),E]),b("div",null,[w(p,null,{default:g((()=>[w(c,{offset:1,span:22},{default:g((()=>[b("div",T,[w(i,{class:"box-card"},{default:g((()=>[b("div",I,[P,w(r)]),b("div",F,[w(d,{id:"textarea",modelValue:e.inputContent,"onUpdate:modelValue":a[0]||(a[0]=a=>e.inputContent=a),style:{width:"70%",margin:"0px 20px"},type:"textarea",rows:2,placeholder:"请输入内容"},null,8,["modelValue"]),w(n,{size:"medium",type:"success",plain:"",onClick:a[1]||(a[1]=a=>e.handleCopyInput(e.inputContent,a))},{default:g((()=>[R])),_:1})])])),_:1})])])),_:1})])),_:1}),w(p,null,{default:g((()=>[w(c,{offset:1,span:22},{default:g((()=>[b("div",$,[w(i,{class:"box-card"},{default:g((()=>[b("div",A,[B,w(r)]),w(x,{data:e.tableData,style:{width:"100%"}},{default:g((()=>[w(j,{label:"姓名",width:"180"},{default:g((e=>[w(V,{effect:"light",trigger:"hover",placement:"top"},{default:g((()=>[b("p",null,"姓名: "+h(e.row.name),1),b("p",null,"住址: "+h(e.row.address),1)])),reference:g((()=>[e.row.edit?(y(),C(d,{key:0,modelValue:e.row.name,"onUpdate:modelValue":a=>e.row.name=a},null,8,["modelValue","onUpdate:modelValue"])):(y(),f("div",J,[w(u,{size:"medium"},{default:g((()=>[_(h(e.row.name),1)])),_:2},1024)]))])),_:2},1024)])),_:1}),w(j,{prop:"province",label:"省份",width:"120"},{default:g((e=>[e.row.edit?(y(),C(d,{key:0,modelValue:e.row.province,"onUpdate:modelValue":a=>e.row.province=a},null,8,["modelValue","onUpdate:modelValue"])):(y(),f("span",K,h(e.row.province),1))])),_:1}),w(j,{prop:"city",label:"市区",width:"120"},{default:g((e=>[e.row.edit?(y(),C(d,{key:0,modelValue:e.row.city,"onUpdate:modelValue":a=>e.row.city=a},null,8,["modelValue","onUpdate:modelValue"])):(y(),f("span",M,h(e.row.city),1))])),_:1}),w(j,{prop:"address",label:"详细地址"},{default:g((e=>[e.row.edit?(y(),C(d,{key:0,modelValue:e.row.address,"onUpdate:modelValue":a=>e.row.address=a},null,8,["modelValue","onUpdate:modelValue"])):(y(),f("span",X,h(e.row.address),1))])),_:1}),w(j,{label:"操作",width:"200"},{default:g((a=>[a.row.edit?(y(),C(n,{key:0,size:"medium",type:"success",plain:"",icon:"el-icon-check",onClick:l=>e.handleSave(a.$index,a.row)},{default:g((()=>[Z])),_:2},1032,["onClick"])):k((y(),C(n,{key:1,size:"medium",type:"info",icon:"el-icon-copy",plain:""},{default:g((()=>[q])),_:2},1536)),[[U,`姓名:${a.row.name},详细地址:${a.row.address}`,"copy"]])])),_:1})])),_:1},8,["data"]),b("div",G,[w(n,{onClick:e.handleAddRecord},{default:g((()=>[H])),_:1},8,["onClick"])])])),_:1})])])),_:1})])),_:1})])])},U.__scopeId="data-v-22d6b268";export{U as default};
