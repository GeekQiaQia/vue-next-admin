var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o;import{L as s,m as r,B as c,C as d,U as p,l as u}from"./@antv.bcb920a1.js";import{a7 as m,k as f,r as v,av as g,v as y,aJ as b,aB as h,Z as j,_ as w,a5 as F,b4 as x,M as _,aH as k,X as C,A as R,D as B,aE as N,aC as V,a4 as z}from"./@vue.9dcf4325.js";import"./tslib.2c72142d.js";import"./element-plus.c35c14b5.js";import"./lodash.a533b6d4.js";import"./resize-observer-polyfill.af5c5caa.js";import"./@popperjs.b42a2641.js";import"./dayjs.80b0a338.js";import"./mitt.06a3009f.js";import"./async-validator.9224cb80.js";import"./normalize-wheel.1d574cd1.js";import"./vue.1f809ab3.js";import"./d3-geo.e96e4362.js";import"./d3-geo-projection.ad7fc955.js";import"./wolfy87-eventemitter.b82cc2a7.js";import"./d3-composite-projections.2f209482.js";import"./d3-array.6972b2c2.js";import"./d3-path.cb64bdd6.js";import"./simple-statistics.9c96a797.js";import"./d3-dsv.3ce01abc.js";import"./point-at-length.cd7ad0f0.js";import"./parse-svg-path.4a7f6aa5.js";import"./abs-svg-path.e24d81d5.js";import"./d3-hexjson.d5d0fd67.js";import"./topojson-client.7243b23b.js";import"./regression.aef4d94b.js";import"./dagre.59cf423d.js";import"./graphlib.935b0eb6.js";import"./d3-sankey.d83d1f38.js";import"./d3-collection.c137de0e.js";import"./d3-shape.bd337d73.js";import"./d3-voronoi.ad7d5ea0.js";import"./detect-browser.a13af7c5.js";import"./gl-matrix.936cec83.js";import"./d3-ease.c6c5fd6d.js";import"./d3-interpolate.6e35df45.js";import"./d3-color.a7c99788.js";import"./d3-timer.6741c69d.js";import"./fecha.65c23b8e.js";import"./size-sensor.5c22b14f.js";import"./d3-regression.dc38cbd0.js";import"./pdfast.a3950e4a.js";import"./d3-hierarchy.a7f176ac.js";const A=(e,t)=>{const a=new s(e,{percent:.26,radius:.8,height:128,statistic:{title:{formatter:()=>t,style:({percent:e})=>({fill:e>.65?"white":"rgba(44,53,66,0.85)"})},content:{style:({percent:e})=>({fontSize:60,lineHeight:1,fill:e>.65?"white":"rgba(44,53,66,0.85)"}),customHtml:(e,t,{percent:a})=>{const{width:o,height:i}=e.getBoundingClientRect(),n=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2)),l=`占比 ${(100*a).toFixed(0)}%`,s=r(l,{fontSize:60}),c=Math.min(n/s,1);return`<div style="width:${n}px;display:flex;align-items:center;justify-content:center;font-size:${c}em;line-height:${c<=1?1:"inherit"}">${l}</div>`}}},liquidStyle:({percent:e})=>({fill:e>.45?"#5B8FF9":"#FAAD14",stroke:e>.45?"#5B8FF9":"#FAAD14"}),color:()=>"#5B8FF9"});a.render();let o=.25;const i=setInterval((()=>{o+=Math.min(.1*Math.random(),.1),o<.75?a.changeData(o):clearInterval(i)}),500)};var M=m({name:"Analysis",setup(){const e=f(),s=f(),r=f(),m=f(),b=f(),h=f(),j=f(),w=f(),F=v({cardItems:[{id:1,itemName:"我的项目数",name:"totalNum",itemCount:25,background:"#bdc6cf",icon:"el-icon-data-board"},{id:2,itemName:"在线项目数",name:"onlineNum",itemCount:5,background:"#7dc855",icon:"ic ic-flashlight"},{id:3,itemName:"草稿项目数",name:"draftNum",itemCount:3,background:"#838cc7",icon:"ic ic-brush"},{id:4,itemName:"下线项目数",name:"offlineNum",itemCount:6,background:"#ffbe0b",icon:"el-icon-bell"},{id:5,itemName:"我的模板",name:"templateNum",itemCount:10,background:"#358ed7",icon:"el-icon-wind-power"},{id:6,itemName:"页面总访问数",name:"viewsPV",itemCount:100,background:"#53bbb3",icon:"ic ic-group"},{id:7,itemName:"页面独立访问数",name:"viewsUV",itemCount:1009,background:"#39add1",icon:"el-icon-s-data"}]});return g((()=>{var t;A(e.value,"盈利率"),A(s.value,"今日UV"),A(r.value,"今日PV"),A(m.value,"净增长"),(e=>{const t=new d({container:e,autoFit:!0,height:500});t.data([{type:"一线城市",value:.19},{type:"二线城市",value:.21},{type:"三线城市",value:.27},{type:"四线及以下",value:.33}]),t.coordinate("theta",{radius:.75}),t.tooltip({showMarkers:!1}),t.interval().adjust("stack").position("value").color("type",["#063d8a","#1770d6","#47abfc","#38c060"]).style({opacity:.4}).state({active:{style:e=>{const{shape:t}=e;return{matrix:p.zoom(t,1.1)}}}}).label("type",(e=>({offset:-30,style:{opacity:"四线及以下"===e?1:.5,fill:"white",fontSize:12,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},content:e=>`${e.type}\n${e.value}%`}))),t.interaction("element-single-selected"),t.render()})(b.value),t=h.value,new c(t,{data:[{action:"浏览网站",pv:5e4},{action:"放入购物车",pv:35e3},{action:"生成订单",pv:25e3},{action:"支付订单",pv:15e3},{action:"完成交易",pv:8500}],xField:"pv",yField:"action",conversionTag:{},theme:"default"}).render(),(e=>{const t=(new u).createView().source({nodes:[{name:"首次打开"},{name:"结果页"},{name:"验证页"},{name:"我的"},{name:"朋友"},{name:"其他来源"},{name:"首页 UV"},{name:"我的"},{name:"扫一扫"},{name:"服务"},{name:"蚂蚁森林"},{name:"跳失"},{name:"借呗"},{name:"花呗"},{name:"其他流向"}],links:[{source:0,target:6,value:160},{source:1,target:6,value:40},{source:2,target:6,value:10},{source:3,target:6,value:10},{source:4,target:6,value:8},{source:5,target:6,value:27},{source:6,target:7,value:30},{source:6,target:8,value:40},{source:6,target:9,value:35},{source:6,target:10,value:25},{source:6,target:11,value:10},{source:6,target:12,value:30},{source:6,target:13,value:40},{source:6,target:14,value:45}]},{type:"graph",edges:e=>e.links});t.transform({type:"diagram.sankey",nodeWidth:.008,nodePadding:.03,sort:(e,t)=>e.value>t.value?0:e.value<t.value?-1:0});const a=t.edges.map((e=>({source:e.source.name,target:e.target.name,name:"首页 UV"===e.source.name?e.target.name:e.source.name,x:e.x,y:e.y,value:e.value}))),o=t.nodes.map((e=>({x:e.x,y:e.y,name:e.name}))),i=new d({container:e,autoFit:!0,height:500,appendPadding:16,syncViewPadding:!0});i.legend(!1),i.tooltip({showTitle:!1,showMarkers:!1}),i.axis(!1),i.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},source:{sync:"color"},name:{sync:"color"}});const n=i.createView();n.data(o),n.polygon().position("x*y").color("name").label("x*name",((e,t)=>{const a=1===e[1];return{style:{fill:"#545454",textAlign:a?"end":"start"},offsetX:a?-8:8,content:t}})).tooltip(!1).style("name",(e=>"跳失"===e?{fill:"#FF6010",stroke:"#FF6010"}:"首页 UV"===e?{fill:"#5D7092",stroke:"#5D7092"}:{}));const l=i.createView();l.data(a),console.log(a),l.edge().position("x*y").shape("arc").color("name").tooltip("target*source*value",((e,t,a)=>({name:`${t} to ${e}`,value:a}))).style("source*target",((e,t)=>e.includes("其他")||t.includes("其他")?{lineWidth:0,opacity:.4,fill:"#CCC",stroke:"#CCC"}:"跳失"===t?{lineWidth:0,opacity:.4,fill:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2",stroke:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2"}:{opacity:.2,lineWidth:0})).state({active:{style:{opacity:.8,lineWidth:0}}}),i.interaction("element-active"),i.render()})(j.value),(e=>{const t=[{type:"未知",value:654,percent:.02},{type:"17 岁以下",value:654,percent:.02},{type:"18-24 岁",value:4400,percent:.2},{type:"25-29 岁",value:5300,percent:.24},{type:"30-39 岁",value:6200,percent:.28},{type:"40-49 岁",value:3300,percent:.14},{type:"50 岁以上",value:1500,percent:.06}],a=new d({container:e,autoFit:!0,height:500,padding:[50,20,50,20]});a.data(t),a.scale("value",{alias:"销售额(万)"}),a.axis("type",{tickLine:{alignTick:!1}}),a.axis("value",!1),a.tooltip({showMarkers:!1}),a.interval().position("type*value"),a.interaction("element-active"),t.forEach((e=>{a.annotation().text({position:[e.type,e.value],content:e.value,style:{textAlign:"center"},offsetY:-30}).text({position:[e.type,e.value],content:`${(100*e.percent).toFixed(0)}%`,style:{textAlign:"center"},offsetY:-12})})),a.render()})(w.value)})),x=((e,t)=>{for(var a in t||(t={}))i.call(t,a)&&l(e,a,t[a]);if(o)for(var a of o(t))n.call(t,a)&&l(e,a,t[a]);return e})({plot1Ref:e,plot2Ref:s,plot3Ref:r,plot4Ref:m,chartRef:b,barRef:h,indicatorRef:j},y(F)),t(x,a({ageRef:w}));var x}});const P={class:"analysis-info"},$={class:"info"},O=(e=>(N("data-v-6f2ba6b0"),e=e(),V(),e))((()=>w("span",{style:{display:"block","font-size":"24px",margin:"24px 0"}},"数据可视化",-1))),D={style:{"text-align":"left"}},I=z("数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息，"),U=z("AntV G2 让数据栩栩如生"),E={class:"card-info"},S={class:"info-left"},W={class:"img-avatar bg-gray-light-o img-avatar-48"},H={class:"info-right"},T={class:"name font-weight-light"},q={class:"count"},L=z(" 经营状况 "),X={ref:"plot1Ref"},Y={ref:"plot2Ref"},G={ref:"plot3Ref"},J={ref:"plot4Ref"},Z=z(" 转化率 "),K={ref:"barRef"},Q=z(" 城市分布 "),ee={ref:"chartRef"},te=z(" 指标转化桑基图 "),ae={ref:"indicatorRef"},oe=z(" 用户年龄分布 "),ie={ref:"ageRef"};M.render=function(e,t,a,o,i,n){const l=b("el-link"),s=b("el-card"),r=b("el-col"),c=b("el-row");return h(),j("div",P,[w("div",$,[O,w("span",D,[I,F(l,{type:"primary",href:"https://g2.antv.vision/zh/examples/"},{default:x((()=>[U])),_:1})])]),F(s,null,{default:x((()=>[F(c,{gutter:20,type:"flex"},{default:x((()=>[(h(!0),j(_,null,k(e.cardItems,(e=>(h(),C(r,{key:e.id,xs:12,sm:8,md:6,lg:5,xl:4},{default:x((()=>[F(s,{shadow:"always","body-style":{cursor:"pointer",padding:"16px","background-color":e.background}},{default:x((()=>[w("div",E,[w("div",S,[w("span",W,[w("i",{class:R(e.icon)},null,2)])]),w("div",H,[w("span",T,B(e.itemName),1),w("h3",q,B(e.itemCount),1)])])])),_:2},1032,["body-style"])])),_:2},1024)))),128))])),_:1})])),_:1}),F(c,{style:{margin:"15px"}},{default:x((()=>[F(r,{span:16},{default:x((()=>[F(c,null,{default:x((()=>[F(r,{span:6},{default:x((()=>[L])),_:1})])),_:1}),F(c,null,{default:x((()=>[F(r,{span:6},{default:x((()=>[w("div",X,null,512)])),_:1}),F(r,{span:6},{default:x((()=>[w("div",Y,null,512)])),_:1}),F(r,{span:6},{default:x((()=>[w("div",G,null,512)])),_:1}),F(r,{span:6},{default:x((()=>[w("div",J,null,512)])),_:1})])),_:1}),F(c,null,{default:x((()=>[F(c,null,{default:x((()=>[F(r,{span:24},{default:x((()=>[Z])),_:1})])),_:1}),F(r,{span:24},{default:x((()=>[w("div",K,null,512)])),_:1})])),_:1})])),_:1}),F(r,{span:8},{default:x((()=>[F(c,null,{default:x((()=>[Q])),_:1}),w("div",ee,null,512)])),_:1})])),_:1}),F(c,{justify:"start"},{default:x((()=>[te])),_:1}),F(c,null,{default:x((()=>[F(r,{span:24},{default:x((()=>[w("div",ae,null,512)])),_:1})])),_:1}),F(c,{justify:"start"},{default:x((()=>[oe])),_:1}),F(c,null,{default:x((()=>[F(r,{span:24},{default:x((()=>[w("div",ie,null,512)])),_:1})])),_:1})])},M.__scopeId="data-v-6f2ba6b0";export{M as default};
