var t,e,n=Object.defineProperty,i=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;import{a as u,g as c,i as f,m as d,b as p,s as h,c as g,d as v,e as y,f as m,h as x,j as b,k as w,n as F,v as k,o as A,p as S,C as M,E as D,U as O,q as E,t as $,u as z,w as C,x as P,y as I,z as R,A as T,B as _,D as B,F as W,G as L,H as N,I as j,J as V,K as G,L as q,V as H,M as Y,N as X,r as U,O as Z,T as K,P as J,Q,R as tt,S as et,W as nt,X as it,Y as rt,Z as ot,_ as at,$ as lt,a0 as st,a1 as ut,a2 as ct,a3 as ft,a4 as dt,a5 as pt,a6 as ht,a7 as gt,a8 as vt,a9 as yt,aa as mt,ab as xt,ac as bt,l as wt}from"./index.fcb8d389.js";import{_ as Ft,c as kt,a as At,d as St}from"./tslib.es6.9a1f2e1c.js";import{_ as Mt}from"./index.60a59b61.js";import{d as Dt,r as Ot,y as Et,b as $t,A as zt,j as Ct,e as Pt,c as It,g as Rt,s as Tt,m as _t,F as Bt,t as Wt,k as Lt,n as Nt,v as jt,p as Vt,f as Gt,J as qt}from"./vendor.c5024523.js";function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function Yt(t,e){var n={};return null!==t&&"object"==typeof t&&e.forEach((function(e){var i=t[e];void 0!==i&&(n[e]=i)})),n}function Xt(t,e){return e?u(e,(function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)}),t):t}(e=t||(t={})).ERROR="error",e.WARN="warn",e.INFO="log";function Ut(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=0;return"AntV/G2Plot: "+t.replace(/%s/g,(function(){return""+e[i++]}))}function Zt(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e||console[t](Ut.apply(void 0,Ft([n],i)))}function Kt(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Jt(t,e){return t.geometries.find((function(t){return t.type===e}))}function Qt(t){return u(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function te(t){return c(t,["views","length"],0)<=0?Qt(t):u(t.views,(function(t,e){return t.concat(te(e))}),Qt(t))}function ee(t,e){return t.views.find((function(t){return t.id===e}))}function ne(t){var e=t.parent;return e?e.views:[]}function ie(t){return ne(t).filter((function(e){return e!==t}))}function re(t){if(!f(t,"Object"))return t;var e=kt({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}function oe(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var l,s,u,c=function(t,e,n,i){var r,o,a,l,s=[],u=!!i;if(u){a=[1/0,1/0],l=[-1/0,-1/0];for(var c=0,f=t.length;c<f;c++){var m=t[c];a=d([0,0],a,m),l=p([0,0],l,m)}a=d([0,0],a,i[0]),l=p([0,0],l,i[1])}c=0;for(var x=t.length;c<x;c++){if(m=t[c],n)r=t[c?c-1:x-1],o=t[(c+1)%x];else{if(0===c||c===x-1){s.push(m);continue}r=t[c-1],o=t[c+1]}var b=[0,0];b=h(b,o,r),b=g(b,b,e);var w=v(m,r),F=v(m,o),k=w+F;0!==k&&(w/=k,F/=k);var A=g([0,0],b,-w),S=g([0,0],b,F),M=y([0,0],m,A),D=y([0,0],m,S);u&&(M=p([0,0],M,a),M=d([0,0],M,l),D=p([0,0],D,a),D=d([0,0],D,l)),s.push(M),s.push(D)}return n&&s.push(s.shift()),s}(r,.4,i,n),f=r.length,m=[];for(o=0;o<f-1;o++)l=c[2*o],s=c[2*o+1],u=r[o+1],m.push(["C",l[0],l[1],s[0],s[1],u[0],u[1]]);return i&&(l=c[f],s=c[f+1],u=r[0],m.push(["C",l[0],l[1],s[0],s[1],u[0],u[1]])),m}var ae={}.toString,le=function(t,e){return ae.call(t)==="[object "+e+"]"},se=function(t){return le(t,"Array")},ue=function(t){if(!function(t){return"object"==typeof t&&null!==t}(t)||!le(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},ce=function(t,e,n,i){for(var r in n=n||0,i=i||5,e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o?ue(o)?(ue(t[r])||(t[r]={}),n<i?ce(t[r],o,n+1,i):t[r]=e[r]):se(o)?(t[r]=[],t[r]=t[r].concat(o)):t[r]=o:t[r]=o}},fe=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)ce(t,e[i]);return t};function de(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function pe(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];c(t,"fill")&&(e.color=t.fill);var i=Yt(t,n),r=i.shadowColor,o=i.shadowBlur,a=void 0===o?0:o,l=i.shadowOffsetX,s=void 0===l?0:l,u=i.shadowOffsetY,f=void 0===u?0:u;e["text-shadow"]=""+[r,s+"px",f+"px",a+"px"].join(" ");var d=Yt(t,n),p=d.stroke,h=d.lineWidth,g=void 0===h?0:h;return e["-webkit-text-stroke"]=""+[g+"px",p].join(" "),b(t,(function(t,i){["fontSize"].includes(i)&&w(t)?e[de(i)]=t+"px":i&&!n.includes(i)&&(e[de(i)]=""+t)})),e}function he(t,e){t.style["pointer-events"]="none",b(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var ge,ve=function(t,e,n){var i=e.statistic,r=e.plotType,o=i.title,a=i.content;[o,a].forEach((function(e,i){if(e){var l="";l=0===i?a?"translate(-50%, -100%)":"translate(-50%, -50%)":o?"translate(-50%, 0)":"translate(-50%, -50%)";var s=m(e.style)?e.style(n):e.style;t.annotation().html(kt({position:["50%","50%"],html:function(t,i){var o=i.getCoordinate(),a=0;if("pie"===r||"ring-progress"===r)a=o.getRadius()*o.innerRadius*2;else if("liquid"===r){var u=c(i.geometries,[0,"elements",0,"shape"]);if(u)a=u.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width}else a||(a=o.getWidth());he(t,kt({width:a+"px",transform:l},pe(s)));var f=i.getData();if(e.customHtml)return e.customHtml(t,i,n,f);var d=e.content;return e.formatter&&(d=e.formatter(n,f)),d?x(d)?d:""+d:"<div></div>"},key:(0===i?"top":"bottom")+"-statistic"},Yt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};var ye=F((function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=void 0===i?"sans-serif":i,o=e.fontWeight,a=e.fontStyle,l=e.fontVariant,s=(ge||(ge=document.createElement("canvas").getContext("2d")),ge);return s.font=[a,o,l,n+"px",r].join(" "),s.measureText(x(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Ft([t],k(e)).join("")}));function me(t){return"number"==typeof t&&!isNaN(t)}function xe(t,e){if(!t)return{};var n=t.filter((function(t){var n=c(t,[e]);return w(n)&&!isNaN(n)})),i=n.every((function(t){return c(t,[e])>=0})),r=n.every((function(t){return c(t,[e])<=0}));return i?{min:0}:r?{max:0}:{}}function be(t,e,n,i,r){if(void 0===r&&(r=[]),!Array.isArray(t))return{nodes:[],links:[]};var o=[],a={},l=-1;return t.forEach((function(t){var s=t[e],u=t[n],c=t[i],f=Yt(t,r);a[s]||(a[s]=kt({id:++l,name:s},f)),a[u]||(a[u]=kt({id:++l,name:u},f)),o.push(kt({source:a[s].id,target:a[u].id,value:c},f))})),{nodes:Object.values(a).sort((function(t,e){return t.id-e.id})),links:o}}function we(e,n){var i=A(e,(function(t){var e=t[n];return null===e||"number"==typeof e&&!isNaN(e)}));return Zt(t.WARN,i.length===e.length,"illegal data existed in chart data."),i}function Fe(t){if(w(t))return[t,t,t,t];if(S(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function ke(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var i=Fe(t),r=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[i[0]+r[0],i[1]+r[1],i[2]+r[2],i[3]+r[3]]}function Ae(t){var e=t.map((function(t){return Fe(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(i,r){t+=e[r][n]})),t}))),n}var Se="en-US",Me={};function De(t,e){Me[t]=e}function Oe(t){return{get:function(e,n){return Xt(c(Me[t],e)||c(Me[Se],e)||c(Me["en-US"],e)||e,n)}}}var Ee={},$e={},ze={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1;t.default=function(){return"".concat(e++)}}(ze);var Ce={},Pe={},Ie={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var i=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(i,o)}),e)}}}(Ie);var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.SensorTabIndex=Re.SensorClassName=Re.SizeSensorId=void 0;Re.SizeSensorId="size-sensor-id";Re.SensorClassName="size-sensor-object";Re.SensorTabIndex="-1",Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.createSensor=void 0;var Te,_e=(Te=Ie)&&Te.__esModule?Te:{default:Te},Be=Re;Pe.createSensor=function(t){var e=void 0,n=[],i=(0,_e.default)((function(){n.forEach((function(e){e(t)}))})),r=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(r){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",i),i()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",Be.SensorClassName),e.setAttribute("tabindex",Be.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(r)&&n.push(r)},destroy:r,unbind:function(t){var i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&r()}}};var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.createSensor=void 0;var Le=function(t){return t&&t.__esModule?t:{default:t}}(Ie);We.createSensor=function(t){var e=void 0,n=[],i=(0,Le.default)((function(){n.forEach((function(e){e(t)}))})),r=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(r){var o;e||((o=new ResizeObserver(i)).observe(t),i(),e=o),-1===n.indexOf(r)&&n.push(r)},destroy:r,unbind:function(t){var i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&r()}}},Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.createSensor=void 0;var Ne=Pe,je="undefined"!=typeof ResizeObserver?We.createSensor:Ne.createSensor;Ce.createSensor=je,Object.defineProperty($e,"__esModule",{value:!0}),$e.removeSensor=$e.getSensor=void 0;var Ve=function(t){return t&&t.__esModule?t:{default:t}}(ze),Ge=Ce,qe=Re;var He={};$e.getSensor=function(t){var e=t.getAttribute(qe.SizeSensorId);if(e&&He[e])return He[e];var n=(0,Ve.default)();t.setAttribute(qe.SizeSensorId,n);var i=(0,Ge.createSensor)(t);return He[n]=i,i};$e.removeSensor=function(t){var e=t.element.getAttribute(qe.SizeSensorId);t.element.removeAttribute(qe.SizeSensorId),t.destroy(),e&&He[e]&&delete He[e]},Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.ver=Ee.clear=Xe=Ee.bind=void 0;var Ye=$e,Xe=Ee.bind=function(t,e){var n=(0,Ye.getSensor)(t);return n.bind(e),function(){n.unbind(e)}};Ee.clear=function(t){var e=(0,Ye.getSensor)(t);(0,Ye.removeSensor)(e)};Ee.ver="1.0.1";var Ue=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Ze=function(t){function e(e,n){var i=t.call(this)||this;return i.container="string"==typeof e?document.getElementById(e):e,i.options=fe({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return At(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,i=t.defaultInteractions;this.chart=new M(kt(kt(kt(kt({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),Yt(this.options,Ue)),{defaultInteractions:i})),this.container.setAttribute("data-chart-source-type","G2Plot")},e.prototype.getChartSize=function(t,e){var n=Kt(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null==e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=fe({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=te(this.chart);b(i,(function(i){e(i.getData())&&i.setState(t,n)}))},e.prototype.getStates=function(){var t=te(this.chart),e=[];return b(t,(function(t){var n=t.getData(),i=t.getStates();b(i,(function(i){e.push({data:n,state:i,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t){var e=Ft(t),n=this.chart.getController("annotation"),i=n.getComponents().map((function(t){return t.extra}));n.clear(!0);for(var r=function(t){var r=i[t],o=e.findIndex((function(t){return t.id&&t.id===r.id}));-1!==o&&(r=fe({},r,e[o]),e.splice(o,1)),n.annotation(r)},o=0;o<i.length;o++)r(o);e.forEach((function(t){return n.annotation(t)})),this.chart.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var i=function(i){var r=n[i];t.find((function(t){return t.id&&t.id===r.id}))||e.annotation(r)},r=0;r<n.length;r++)i(r);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute("data-chart-source-type")},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,i=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=i,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=Xe(this.container,(function(){var e=Kt(t.container),n=e.width,i=e.height;n===t.chart.width&&i===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(D),Ke=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function Je(){return"object"==typeof window?null===window||void 0===window?void 0:window.devicePixelRatio:2}function Qe(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),i=Je();return n.width=t*i,n.height=e*i,n.style.width=t+"px",n.style.height=e+"px",n.getContext("2d").scale(i,i),n}function tn(t,e,n,i){void 0===i&&(i=n);var r=e.backgroundColor,o=e.opacity;t.globalAlpha=o,t.fillStyle=r,t.beginPath(),t.fillRect(0,0,n,i),t.closePath()}function en(t,e,n){var i=t+e;return n?2*i:i}function nn(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]}function rn(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}var on={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function an(t,e,n,i){var r=e.size,o=e.fill,a=e.lineWidth,l=e.stroke,s=e.fillOpacity;t.beginPath(),t.globalAlpha=s,t.fillStyle=o,t.strokeStyle=l,t.lineWidth=a,t.arc(n,i,r/2,0,2*Math.PI,!1),t.fill(),a&&t.stroke(),t.closePath()}var ln={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function sn(t){var e=fe({},ln,t),n=e.spacing,i=e.rotation,r=e.lineWidth,o=n+r||1,a=n+r||1,l="\n            M 0 0 L "+o+" 0\n            M 0 "+a+" L "+o+" "+a+"\n            ",s=Qe(o,a),u=s.getContext("2d");tn(u,e,o,a),function(t,e,n){var i=e.stroke,r=e.lineWidth,o=e.strokeOpacity,a=new Path2D(n);t.globalAlpha=o,t.lineCap="square",t.strokeStyle=r?i:"transparent",t.lineWidth=r,t.stroke(a)}(u,e,l);var c=u.createPattern(s,"repeat");if(c){var f=rn(Je(),i);c.setTransform(f)}return c}var un={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function cn(t,e,n,i){var r=e.stroke,o=e.size,a=e.fill,l=e.lineWidth,s=e.fillOpacity;t.globalAlpha=s,t.strokeStyle=r,t.lineWidth=l,t.fillStyle=a,t.strokeRect(n-o/2,i-o/2,o,o),t.fillRect(n-o/2,i-o/2,o,o)}function fn(t){var e,n=t.type,i=t.cfg;switch(n){case"dot":e=function(t){var e=fe({},on,t),n=e.size,i=e.padding,r=e.isStagger,o=e.rotation,a=en(n,i,r),l=nn(a,r),s=Qe(a,a),u=s.getContext("2d");tn(u,e,a);for(var c=0,f=l;c<f.length;c++){var d=f[c];an(u,e,d[0],d[1])}var p=u.createPattern(s,"repeat");if(p){var h=rn(Je(),o);p.setTransform(h)}return p}(i);break;case"line":e=sn(i);break;case"square":e=function(t){var e=fe({},un,t),n=e.size,i=e.padding,r=e.isStagger,o=e.rotation,a=en(n,i,r),l=nn(a,r),s=Qe(a,a),u=s.getContext("2d");tn(u,e,a);for(var c=0,f=l;c<f.length;c++){var d=f[c];cn(u,e,d[0],d[1])}var p=u.createPattern(s,"repeat");if(p){var h=rn(Je(),o);p.setTransform(h)}return p}(i)}return e}function dn(t){var e=this;return function(n){var i,r=n.options,o=n.chart,a=r.pattern;if(!a)return n;return fe({},n,{options:(i={},i[t]=function(n){for(var i,l,s,u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];var d=o.getTheme().defaultColor,p=d,h=null===(l=null===(i=o.geometries)||void 0===i?void 0:i[0])||void 0===l?void 0:l.getAttribute("color");if(h){var g=h.getFields()[0],v=c(n,g);p=O.getMappingValue(h,v,(null===(s=h.values)||void 0===s?void 0:s[0])||d)}var y=a;"function"==typeof a&&(y=a.call(e,n,p)),y instanceof CanvasPattern==!1&&(y=fn(fe({},{cfg:{backgroundColor:p}},y)));var m=r[t];return kt(kt({},"function"==typeof m?m.call.apply(m,Ft([e,n],u)):m||{}),{fill:y||p})},i)})}}function pn(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,o=n.seriesField;return!1===i?e.legend(!1):(r||o)&&e.legend(r||o,i),t}function hn(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function gn(t){var e=t.chart,n=t.options.interactions;return b(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function vn(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),b(e.geometries,(function(t){t.animate(n)})),t}function yn(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function mn(t){var e=t.chart,n=t.options.state;return n&&b(e.geometries,(function(t){t.state(n)})),t}function xn(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function bn(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function wn(t,e){return function(n){var i=n.chart,r=n.options,o={};return b(t,(function(t,e){o[e]=Yt(t,Ke)})),o=fe({},e,r.meta,o),i.scale(o),n}}function Fn(t){return function(e){var n=e.chart,i=e.options,r=n.getController("annotation");return b(Ft(i.annotations||[],t||[]),(function(t){r.annotation(t)})),e}}function kn(t){var e=t.chart,n=t.options,i=n.yAxis,r=n.limitInPlot,o=r;return E(i)&&$(r)&&(o=!!Object.values(Yt(i,["min","max","minLimit","maxLimit"])).some((function(t){return!$(t)}))),e.limitInPlot=o,t}function An(t,e){if(!1===t)return{fields:!1};var n=c(t,"fields"),i=c(t,"formatter");return i&&!n&&(n=e),{fields:n,formatter:i}}function Sn(t,e){var n=t.type,i=t.xField,r=t.yField,o=t.colorField,a=t.shapeField,l=t.sizeField,s=t.styleField,u=t.rawFields,c=void 0===u?[]:u,f=[];if("color"===e)f=Ft([o||i],c);else if("shape"===e)f=Ft([a||i],c);else if("size"===e)f=Ft([l||i],c);else{f=Ft([i,r,o,a,l,s],c);var d=["x","y","color","shape","size","style"].indexOf(e),p=f[d];f.splice(d,1),f.unshift(p)}var h=C(f.filter((function(t){return!!t}))),g="line"===n&&[i,r].includes(h.join("*"))?"":h.join("*");return{mappingFields:h,tileMappingField:g}}function Mn(t,e){if(e)return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r={};return t.forEach((function(t,e){r[t]=n[e]})),delete r[void 0],e(r)}}function Dn(t){var e=t.chart,n=t.options,i=n.type,r=n.args,o=n.mapping,a=n.xField,l=n.yField,s=n.colorField,u=n.shapeField,c=n.sizeField,f=n.tooltipFields,d=n.label,p=n.state,h=n.customInfo;if(!o)return t;var g=o.color,v=o.shape,y=o.size,b=o.style,F=o.tooltip,k=e[i](r).position(a+"*"+l);if(x(g))s?k.color(s,g):k.color(g);else if(m(g)){var A=Sn(n,"color"),S=A.mappingFields,M=A.tileMappingField;k.color(M,Mn(S,g))}else s&&k.color(s,g);if(x(v))u?k.shape(u,[v]):k.shape(v);else if(m(v)){var D=Sn(n,"shape");S=D.mappingFields,M=D.tileMappingField;k.shape(M,Mn(S,v))}else u&&k.shape(u,v);if(w(y))c?k.size(c,y):k.size(y);else if(m(y)){var O=Sn(n,"size");S=O.mappingFields,M=O.tileMappingField;k.size(M,Mn(S,y))}else c&&k.size(c,y);if(m(b)){var $=Sn(n,"style");S=$.mappingFields,M=$.tileMappingField;k.style(M,Mn(S,b))}else E(b)&&k.style(b);if(!1===f?k.tooltip(!1):z(f)||k.tooltip(f.join("*"),Mn(f,F)),!1===d)k.label(!1);else if(d){var C=d.callback,P=d.fields,I=St(d,["callback","fields"]);k.label({fields:P||[l],callback:C,cfg:re(I)})}return p&&k.state(p),h&&k.customInfo(h),[a,l].filter((function(t){return t!==s})).forEach((function(t){e.legend(t,!1)})),kt(kt({},t),{ext:{geometry:k}})}function On(t){var e=t.options,n=e.area,i=e.xField,r=e.yField,o=e.seriesField,a=e.smooth,l=An(e.tooltip,[i,r,o]),s=l.fields,u=l.formatter;return n?Dn(fe({},t,{options:{type:"area",colorField:o,tooltipFields:s,mapping:kt({shape:a?"smooth":"area",tooltip:u},n)}})):t}function En(t){var e=t.options,n=e.line,i=e.stepType,r=e.xField,o=e.yField,a=e.seriesField,l=e.smooth,s=e.connectNulls,u=An(e.tooltip,[r,o,a]),c=u.fields,f=u.formatter;return n?Dn(fe({},t,{options:{type:"line",colorField:a,tooltipFields:c,mapping:P({shape:i||(l?"smooth":"line"),tooltip:f},n),args:{connectNulls:s}}})):t}function $n(t){var e=t.options,n=e.point,i=e.xField,r=e.yField,o=e.seriesField,a=e.sizeField,l=e.shapeField,s=An(e.tooltip,[i,r,o,a,l]),u=s.fields,c=s.formatter;return n?Dn(fe({},t,{options:{type:"point",colorField:o,shapeField:l,tooltipFields:u,mapping:kt({tooltip:c},n)}})):t}function zn(t){var e=t.options,n=e.xField,i=e.yField,r=e.interval,o=e.seriesField,a=e.tooltip,l=e.minColumnWidth,s=e.maxColumnWidth,u=e.columnBackground,c=e.dodgePadding,f=e.intervalPadding,d=An(a,[n,i,o]),p=d.fields,h=d.formatter,g=(r?Dn(fe({},t,{options:{type:"interval",colorField:o,tooltipFields:p,mapping:kt({tooltip:h},r),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:l,maxColumnWidth:s,background:u}}})):t).ext;return function(t){var e=t.chart,n=t.options,i=t.ext,r=n.seriesField,o=n.isGroup,a=n.isStack,l=n.marginRatio,s=n.widthRatio,u=n.groupField,c=n.theme,f=[];return r&&(o&&f.push({type:"dodge",dodgeBy:u||r,marginRatio:l}),a&&f.push({type:"stack",marginRatio:l})),f.length&&(null==i?void 0:i.geometry)&&(null==i?void 0:i.geometry).adjust(f),$(s)||e.theme(fe({},E(c)?c:I(c),{columnWidthRatio:s})),t}(kt(kt({},t),{ext:g}))}function Cn(t){var e=t.options,n=e.polygon,i=e.xField,r=e.yField,o=e.seriesField,a=An(e.tooltip,[i,r,o]),l=a.fields,s=a.formatter;return n?Dn(fe({},t,{options:{type:"polygon",colorField:o,tooltipFields:l,mapping:kt({tooltip:s},n)}})):t}function Pn(t){var e=t.options,n=e.edge,i=e.xField,r=e.yField,o=e.seriesField,a=An(e.tooltip,[i,r,o]),l=a.fields,s=a.formatter;return n?Dn(fe({},t,{options:{type:"edge",colorField:o,tooltipFields:l,mapping:kt({tooltip:s},n)}})):t}function In(t){var e=t.options,n=e.schema,i=e.xField,r=e.yField,o=e.seriesField,a=An(e.tooltip,[i,r,o]),l=a.fields,s=a.formatter;return n?Dn(fe({},t,{options:{type:"schema",colorField:o,tooltipFields:l,mapping:kt({tooltip:s},n)}})):t}function Rn(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.lineStyle,a=n.lineShape,l=n.point,s=n.area,u=n.seriesField,c=null==l?void 0:l.state,f=null==s?void 0:s.state;e.data(i);var d=fe({},t,{options:{shapeField:u,line:{color:r,style:o,shape:a},point:l&&kt({color:r,shape:"circle"},l),area:s&&kt({color:r},s),label:void 0}}),p=fe({},d,{options:{tooltip:!1,state:c}}),h=fe({},d,{options:{tooltip:!1,state:f}});return En(d),$n(p),On(h),t}function Tn(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=i.xField,l=i.yField,s=i.data;return Ht(wn(((e={})[a]=r,e[l]=o,e),((n={})[a]={type:"cat"},n[l]=xe(s,l),n)))(t)}function _n(t){var e=t.chart,n=t.options.reflect;if(n){var i=n;S(i)||(i=[i]);var r=i.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:r})}return t}function Bn(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(a,!1):e.axis(a,r),t}function Wn(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return i&&r?e.legend(r,i):!1===i&&e.legend(!1),t}function Ln(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=Jt(e,"line");if(i){var a=i.callback,l=St(i,["callback"]);o.label({fields:[r],callback:a,cfg:kt({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},re(l))})}else o.label(!1);return t}function Nn(t){var e=t.chart;return t.options.isStack&&b(e.geometries,(function(t){t.adjust("stack")})),t}function jn(t){return Ht(Rn,Tn,Nn,yn,_n,Bn,Wn,hn,Ln,xn,gn,vn,Fn(),kn)(t)}var Vn=fe({},Ze.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1});_("marker-active",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,i=t.geometries.filter((function(t){return"point"===t.type}));b(i,(function(t){b(t.elements,(function(t){var e=-1!==R(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));b(t,(function(t){b(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(T)),B("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return At(e,t),e.getDefaultOptions=function(){return Vn},e.prototype.changeData=function(t){this.updateOption({data:t});Tn({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jn},e}(Ze);function qn(t,e,n,i){var r=u(t,(function(t,i){var r=i[n],o=t.has(r)?t.get(r):0,a=i[e];return o=me(a)?o+a:o,t.set(r,o),t}),new Map);return W(t,(function(t){var o,a=t[e],l=t[n],s=me(a)?a/r.get(l):0;return kt(kt({},t),((o={})[i]=s,o))}))}function Hn(t,e,n,i,r){return r?qn(t,e,n,i):t}function Yn(t){var e=t.chart,n=t.options,i=n.data,r=n.areaStyle,o=n.color,a=n.point,l=n.line,s=n.isPercent,u=n.xField,c=n.yField,f=n.tooltip,d=n.seriesField,p=n.startOnZero,h=null==a?void 0:a.state,g=Hn(i,c,u,c,s);e.data(g);var v=s?kt({formatter:function(t){return{name:t[d]||t[u],value:(100*Number(t[c])).toFixed(2)+"%"}}},f):f,y=fe({},t,{options:{area:{color:o,style:r},point:a&&kt({color:o},a),tooltip:v,label:void 0,args:{startOnZero:p}}}),m={chart:e,options:fe({line:{size:2}},L(n,["state"]),{line:l&&kt({color:o},l),sizeField:d,state:null==l?void 0:l.state,tooltip:!1,label:void 0,args:{startOnZero:p}})},x=fe({},y,{options:{tooltip:!1,state:h}});return On(y),En(m),$n(x),t}function Xn(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=Jt(e,"area");if(i){var a=i.callback,l=St(i,["callback"]);o.label({fields:[r],callback:a,cfg:kt({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},re(l))})}else o.label(!1);return t}function Un(t){var e=t.chart,n=t.options,i=n.isStack,r=n.isPercent,o=n.seriesField;return(r||i)&&o&&b(e.geometries,(function(t){t.adjust("stack")})),t}function Zn(t){return Ht(yn,dn("areaStyle"),Yn,Tn,Un,Bn,Wn,hn,Xn,xn,Fn(),gn,vn,kn)(t)}var Kn=fe({},Ze.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),Jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return At(e,t),e.getDefaultOptions=function(){return Kn},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,i=e.xField,r=e.yField;Tn({chart:this.chart,options:this.options}),this.chart.changeData(Hn(t,r,i,r,n))},e.prototype.getSchemaAdaptor=function(){return Zn},e}(Ze);function Qn(t,e){return w(t)&&w(e)?t===e?"100%":0===t?"∞":0===e?"-∞":(100*e/t).toFixed(2)+"%":"-"}function ti(t,e){return fe({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:Qn}},t)}function ei(t,e){return W(e.getModel().points,(function(e){return t.convertPoint(e)}))}function ni(t,e,n){!function(t,e,n){var i=t.view,r=t.geometry,o=t.group,a=t.options,l=t.horizontal,s=a.offset,u=a.size,c=a.arrow,f=i.getCoordinate(),d=ei(f,e)[3],p=ei(f,n)[0],h=p.y-d.y,g=p.x-d.x;if("boolean"!=typeof c){var v,y=c.headSize,m=a.spacing;l?(g-y)/2<m?(m=Math.max(1,(g-y)/2),v=[[d.x+m,d.y-s],[d.x+m,d.y-s-u],[p.x-m,p.y-s-u/2]]):v=[[d.x+m,d.y-s],[d.x+m,d.y-s-u],[p.x-m-y,p.y-s-u],[p.x-m,p.y-s-u/2],[p.x-m-y,p.y-s]]:(h-y)/2<m?(m=Math.max(1,(h-y)/2),v=[[d.x+s,d.y+m],[d.x+s+u,d.y+m],[p.x+s+u/2,p.y-m]]):v=[[d.x+s,d.y+m],[d.x+s+u,d.y+m],[p.x+s+u,p.y-m-y],[p.x+s+u/2,p.y-m],[p.x+s,p.y-m-y]],o.addShape("polygon",{id:i.id+"-conversion-tag-arrow-"+r.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:kt(kt({},c.style||{}),{points:v})})}}(t,e,n),function(t,e,n){var i,r,o,a=t.view,l=t.geometry,s=t.group,u=t.options,c=t.field,f=t.horizontal,d=u.offset,p=u.size;if("boolean"!=typeof u.text){var h=a.getCoordinate(),g=(null===(i=u.text)||void 0===i?void 0:i.formatter)&&(null===(r=u.text)||void 0===r?void 0:r.formatter(e.getData()[c],n.getData()[c])),v=ei(h,e)[f?3:0],y=ei(h,n)[f?0:3],m=s.addShape("text",{id:a.id+"-conversion-tag-text-"+l.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:kt(kt({},(null===(o=u.text)||void 0===o?void 0:o.style)||{}),{text:g,x:f?(v.x+y.x)/2:v.x+d+p/2,y:f?v.y-d-p/2:(v.y+y.y)/2})});if(f){var x=y.x-v.x,b=m.getBBox().width;if(b>x){var w=b/g.length,F=Math.max(1,Math.ceil(x/w)-1),k=g.slice(0,F)+"...";m.attr("text",k)}}}}(t,e,n)}var ii={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},ri=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};B(ii.hover,{start:ri(ii.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),B(ii.click,{start:ri(ii.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var oi={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}};function ai(t){return t.isInPlot()}function li(t,e,n){var i=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ai,action:["brush:start",i+"-mask:start",i+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:ai,action:[i+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ai,action:["brush:filter","brush:end",i+"-mask:end",i+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[i+"-mask:start",i+"-mask:show"],arg:[{maskStyle:null==n?void 0:n.style}]},{trigger:"mask:dragstart",action:[i+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[i+"-mask:resize"]},{trigger:"mask:drag",action:[i+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[i+"-mask:end"]},{trigger:"mask:dragend",action:[i+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",i+"-mask:end",i+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",i+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ai,action:["brush-x:start",i+"-mask:start",i+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:ai,action:[i+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ai,action:["brush-x:filter","brush-x:end",i+"-mask:end",i+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ai,action:["brush-y:start",i+"-mask:start",i+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:ai,action:[i+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ai,action:["brush-y:filter","brush-y:end",i+"-mask:end",i+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}_("brush-reset-button",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=kt({name:"button"},oi),e}return At(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=c(t,["interactions","filter-action","cfg","buttonConfig"]);return fe(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:kt({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,i=this.getButtonCfg(),r=Fe(i.padding),o=t.addShape({type:"rect",name:"button-rect",attrs:kt({x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2]},null===(n=i.buttonStyle)||void 0===n?void 0:n.default)});return o.toBack(),t.on("mouseenter",(function(){var t;o.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;o.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.default)})),o},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),i=O.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(i)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(T),{name:"brush-reset-button"}),B("filter-action",{}),B("brush",li("brush")),B("brush-highlight",li("brush-highlight")),B("brush-x",li("brush-x","x-rect")),B("brush-y",li("brush-y","y-rect")),B("brush-x-highlight",li("brush-x-highlight","x-rect")),B("brush-y-highlight",li("brush-y-highlight","y-rect"));var si=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function ui(t){var e=t.options,n=e.brush,i=A(e.interactions||[],(function(t){return-1===si.indexOf(t.type)}));return(null==n?void 0:n.enabled)&&(si.forEach((function(t){var e,r=!1;switch(n.type){case"x-rect":r=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":r=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:r=t===("highlight"===n.action?"brush-highlight":"brush")}var o={type:t,enable:r};((null===(e=n.mask)||void 0===e?void 0:e.style)||n.type)&&(o.cfg=li(t,n.type,n.mask)),i.push(o)})),"highlight"!==(null==n?void 0:n.action)&&i.push({type:"filter-action",cfg:{buttonConfig:n.button}})),fe({},t,{options:{interactions:i}})}function ci(t){var e=t.options,n=e.legend,i=e.seriesField,r=e.isStack;return i?!1!==n&&(n=kt({position:r?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function fi(t){var e=t.chart,n=t.options,i=n.data,r=n.columnStyle,o=n.color,a=n.columnWidthRatio,l=n.isPercent,s=n.isGroup,c=n.isStack,f=n.xField,d=n.yField,p=n.seriesField,h=n.groupField,g=n.tooltip,v=n.shape,y=l&&s&&c?function(t,e,n,i){var r=u(t,(function(t,i){var r=u(n,(function(t,e){return""+t+i[e]}),""),o=t.has(r)?t.get(r):0,a=i[e];return o=me(a)?o+a:o,t.set(r,o),t}),new Map);return W(t,(function(t){var o,a=t[e],l=u(n,(function(e,n){return""+e+t[n]}),""),s=me(a)?a/r.get(l):0;return kt(kt({},t),((o={})[i]=s,o))}))}(i,d,[f,h],d):Hn(i,d,f,d,l),m=[];c&&p&&!s?y.forEach((function(t){var e=m.find((function(e){return e[f]===t[f]&&e[p]===t[p]}));e?e[d]+=t[d]||0:m.push(kt({},t))})):m=y,e.data(m);var x=l?kt({formatter:function(t){return{name:s&&c?t[p]+" - "+t[h]:t[p]||t[f],value:(100*Number(t[d])).toFixed(2)+"%"}}},g):g,b=fe({},t,{options:{data:m,widthRatio:a,tooltip:x,interval:{shape:v,style:r,color:o}}});return zn(b),b}function di(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=i.xField,l=i.yField,s=i.data,u=i.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Ht(wn(((e={})[a]=r,e[l]=o,e),((n={})[a]={type:"cat"},n[l]=kt(kt({},xe(s,l)),u),n)))(t)}function pi(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(a,!1):e.axis(a,r),t}function hi(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return i&&r?e.legend(r,i):!1===i&&e.legend(!1),t}function gi(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=n.isRange,a=Jt(e,"interval");if(i){var l=i.callback,s=St(i,["callback"]);a.label({fields:[r],callback:l,cfg:kt({layout:(null==s?void 0:s.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},re(o?kt({content:function(t){var e;return null===(e=t[r])||void 0===e?void 0:e.join("-")}},s):s))})}else a.label(!1);return t}function vi(t){var e=t.chart,n=t.options,i=n.tooltip,r=n.isGroup,o=n.isStack,a=n.groupField,l=n.data,s=n.xField,u=n.yField,c=n.seriesField;if(!1===i)e.tooltip(!1);else{var f=i;if(r&&o){var d=(null==f?void 0:f.formatter)||function(t){return{name:t[c]+" - "+t[a],value:t[u]}};f=kt(kt({},f),{customItems:function(t){var e=[];return b(t,(function(t){A(l,(function(e){return j(e,Yt(t.data,[s,c]))})).forEach((function(n){e.push(kt(kt(kt({},t),{value:n[u],data:n,mappingData:{_origin:n}}),d(n)))}))})),e}})}e.tooltip(f)}return t}function yi(t,e){void 0===e&&(e=!1);var n,i,r,o,a=t.options,l=a.seriesField;return Ht(ci,yn,dn("columnStyle"),mn,fi,di,pi,hi,vi,xn,bn,gi,ui,gn,vn,Fn(),(i=a.yField,void 0===(r=!e)&&(r=!0),void 0===(o=!!l)&&(o=!1),function(t){var e=t.options,n=t.chart,a=e.conversionTag,l=e.theme;return a&&!o&&(n.theme(fe({},E(l)?l:I(l),{columnWidthRatio:1/3})),n.annotation().shape({render:function(t,e){var o=t.addGroup({id:n.id+"-conversion-tag-group",name:"conversion-tag-group"}),l=N(n.geometries,(function(t){return"interval"===t.type})),s={view:e,geometry:l,group:o,field:i,horizontal:r,options:ti(a,r)},u=l.elements;b(u,(function(t,e){e>0&&ni(s,u[e-1],t)}))}})),t}),(void 0===(n=!a.isStack)&&(n=!1),function(t){var e=t.chart,i=t.options.connectedArea,r=function(){e.removeInteraction(ii.hover),e.removeInteraction(ii.click)};if(!n&&i){var o=i.trigger||"hover";r(),e.interaction(ii[o],{start:ri(o,i.style)})}else r();return t}),kn)(t)}var mi=fe({},Ze.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),xi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return At(e,t),e.getDefaultOptions=function(){return mi},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,i=e.xField,r=e.isPercent;di({chart:this.chart,options:this.options}),this.chart.changeData(Hn(t,n,i,n,r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return yi},e}(Ze);function bi(t){var e=t.options,n=e.xField,i=e.yField,r=e.xAxis,o=e.yAxis,a={left:"bottom",right:"top",top:"left",bottom:"right"},l=!1!==o&&kt({position:a[(null==o?void 0:o.position)||"left"]},o),s=!1!==r&&kt({position:a[(null==r?void 0:r.position)||"bottom"]},r);return kt(kt({},t),{options:kt(kt({},e),{xField:i,yField:n,xAxis:l,yAxis:s})})}function wi(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),fe({},t,{options:{label:e}})}function Fi(t){var e=t.options,n=e.seriesField,i=e.isStack,r=e.legend;return n?!1!==r&&(r=kt({position:i?"top-left":"right-top"},r||{})):r=!1,fe({},t,{options:{legend:r}})}function ki(t){return t.chart.coordinate({actions:[["transpose"],["reflect","y"]]}),t}function Ai(t){var e=t.chart,n=t.options,i=n.barStyle,r=n.barWidthRatio,o=n.minBarWidth,a=n.maxBarWidth,l=n.barBackground;return yi({chart:e,options:kt(kt({},n),{columnStyle:i,columnWidthRatio:r,minColumnWidth:o,maxColumnWidth:a,columnBackground:l})},!0)}function Si(t){return Ht(bi,wi,Fi,hn,ki,Ai)(t)}var Mi=fe({},Ze.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),Di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return At(e,t),e.getDefaultOptions=function(){return Mi},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,i=n.xField,r=n.yField,o=n.isPercent;di({chart:e,options:kt(kt({},n),{xField:r,yField:i})}),e.changeData(Hn(t,i,r,i,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Si},e}(Ze),Oi=fe({},Ze.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function Ei(t,e){var n;switch(t){case"inner":return n="-30%",x(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,x(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function $i(t,e){return V(we(t,e),(function(t){return 0===t[e]}))}var zi=[1,0,0,0,1,0,0,0,1];function Ci(t,e){var n=Ft(e||zi);return O.transform(n,t)}var Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.getActiveElements=function(){var t=O.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,i=t.item,r=n.get("field");if(r)return e.geometries[0].elements.filter((function(t){return t.getModel().data[r]===i.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return G(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,i){var r=n[i],o=e.geometry.coordinate;if(o.isPolar&&o.isTransposed){var a=O.getAngle(e.getModel(),o),l=(a.startAngle+a.endAngle)/2,s=t,u=s*Math.cos(l),c=s*Math.sin(l);e.shape.setMatrix(Ci([["t",u,c]])),r.setMatrix(Ci([["t",u,c]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(T);var Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,i=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var r=c(i,["data","data"]);if(i.type.match("legend-item")){var o=O.getDelegationObject(this.context),a=n.getGroupedFields()[0];if(o&&a){var l=o.item;r=n.getData().find((function(t){return t[a]===l.value}))}}if(r){var s=c(t,"annotations",[]),u=c(t,"statistic",{});n.getController("annotation").clear(!0),b(s,(function(t){"object"==typeof t&&n.annotation()[t.type](t)})),ve(n,{statistic:u,plotType:"pie"},r),n.render(!0)}var f,d,p,h=(f=this.context,(p=f.event.target)&&(d=p.get("element")),d);h&&h.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();b(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(T);function Ri(t){var e=t.chart,n=t.options,i=n.data,r=n.angleField,o=n.colorField,a=n.color,l=n.pieStyle,s=we(i,r);if($i(s,r)){var u="$$percentage$$";s=s.map((function(t){var e;return kt(kt({},t),((e={}).$$percentage$$=1/s.length,e))})),e.data(s),zn(fe({},t,{options:{xField:"1",yField:u,seriesField:o,isStack:!0,interval:{color:a,style:l},args:{zIndexReversed:!0}}}))}else{e.data(s),zn(fe({},t,{options:{xField:"1",yField:r,seriesField:o,isStack:!0,interval:{color:a,style:l},args:{zIndexReversed:!0}}}))}return t}function Ti(t){var e,n=t.chart,i=t.options,r=i.meta,o=i.colorField,a=fe({},r);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function _i(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:i,innerRadius:r,startAngle:o,endAngle:a}}),t}function Bi(t){var e=t.chart,n=t.options,i=n.label,r=n.colorField,o=n.angleField,a=e.geometries[0];if(i){var l=i.callback,s=re(St(i,["callback"]));if(s.content){var u=s.content;s.content=function(t,n,i){var a=t[r],l=t[o],s=e.getScaleByField(o),c=null==s?void 0:s.scale(l);return m(u)?u(kt(kt({},t),{percent:c}),n,i):x(u)?Xt(u,{value:l,name:a,percentage:w(c)&&!$(l)?(100*c).toFixed(2)+"%":null}):u}}var c=s.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[s.type]:"pie-outer",f=s.layout?S(s.layout)?s.layout:[s.layout]:[];s.layout=(c?[{type:c}]:[]).concat(f),a.label({fields:r?[o,r]:[o],callback:l,cfg:kt(kt({},s),{offset:Ei(s.type,s.offset),type:"pie"})})}else a.label(!1);return t}function Wi(t){var e=t.innerRadius,n=t.statistic,i=t.angleField,r=t.colorField,o=t.meta,a=Oe(t.locale);if(e&&n){var l=fe({},Oi.statistic,n),s=l.title,u=l.content;return!1!==s&&(s=fe({},{formatter:function(t){return t?t[r]:$(s.content)?a.get(["statistic","total"]):s.content}},s)),!1!==u&&(u=fe({},{formatter:function(t,e){var n=t?t[i]:function(t,e){var n=null;return b(t,(function(t){"number"==typeof t[e]&&(n+=t[e])})),n}(e,i),r=c(o,[i,"formatter"])||function(t){return t};return t||$(u.content)?r(n):u.content}},u)),fe({},{statistic:{title:s,content:u}},t)}return t}function Li(t){var e=t.chart,n=Wi(t.options),i=n.innerRadius,r=n.statistic;return e.getController("annotation").clear(!0),Ht(Fn())(t),i&&r&&ve(e,{statistic:r,plotType:"pie"}),t}function Ni(t){var e=t.chart,n=t.options,i=n.tooltip,r=n.colorField,o=n.angleField,a=n.data;if(!1===i)e.tooltip(i);else if(e.tooltip(fe({},i,{shared:!1})),$i(a,o)){var l=c(i,"fields"),s=c(i,"formatter");z(c(i,"fields"))&&(l=[r,o],s=s||function(t){return{name:t[r],value:q(t[o])}}),e.geometries[0].tooltip(l.join("*"),Mn(l,s))}return t}function ji(t){var e=t.chart,n=Wi(t.options),i=n.interactions,r=n.statistic,o=n.annotations;return b(i,(function(t){var n,i;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var a=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(a=[{trigger:"element:mouseenter",action:"pie-statistic:change",arg:{statistic:r,annotations:o}}]),b(null===(i=t.cfg)||void 0===i?void 0:i.start,(function(t){a.push(kt(kt({},t),{arg:{statistic:r,annotations:o}}))})),e.interaction(t.type,fe({},t.cfg,{start:a}))}else e.interaction(t.type,t.cfg||{})})),t}function Vi(t){return Ht(dn("pieStyle"),Ri,Ti,yn,_i,pn,Ni,Bi,mn,Li,ji,vn)(t)}_("pie-statistic",Ii),B("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),_("pie-legend",Pi),B("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var Gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return At(e,t),e.getDefaultOptions=function(){return Oi},e.prototype.changeData=function(t){this.chart.emit(H.BEFORE_CHANGE_DATA,Y.fromData(this.chart,H.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,i=we(e.data,n),r=we(t,n);$i(i,n)||$i(r,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(r),Li({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(H.AFTER_CHANGE_DATA,Y.fromData(this.chart,H.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Vi},e}(Ze);function qi(t){var e=t.chart,n=t.options,i=n.data,r=n.sectorStyle,o=n.color;return e.data(i),Ht(zn)(fe({},t,{options:{marginRatio:1,interval:{style:r,color:o}}})),t}function Hi(e){var n=e.chart,i=e.options,r=i.label,o=i.xField,a=Jt(n,"interval");if(!1===r)a.label(!1);else if(E(r)){var l=r.callback,s=r.fields,u=St(r,["callback","fields"]),c=u.offset,f=u.layout;(void 0===c||c>=0)&&(f=f?S(f)?f:[f]:[],u.layout=A(f,(function(t){return"limit-in-shape"!==t.type})),u.layout.length||delete u.layout),a.label({fields:s||[o],callback:l,cfg:re(u)})}else Zt(t.WARN,null===r,"the label option must be an Object."),a.label({fields:[o]});return e}function Yi(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return!1===i?e.legend(!1):r&&e.legend(r,i),t}function Xi(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:i,innerRadius:r,startAngle:o,endAngle:a}}),t}function Ui(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return Ht(wn(((e={})[o]=i,e[a]=r,e)))(t)}function Zi(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return i?e.axis(o,i):e.axis(o,!1),r?e.axis(a,r):e.axis(a,!1),t}function Ki(t){Ht(dn("sectorStyle"),qi,Ui,Hi,Xi,Zi,Yi,hn,gn,vn,yn,Fn(),mn)(t)}var Ji=fe({},Ze.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right"},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}At(e,t),e.getDefaultOptions=function(){return Ji},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ki}}(Ze);var Qi={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function tr(t,e){return function(t,e){var n=function(){var t=[256,256],e=rr,n=ar,i=or,r=lr,o=sr,a=pr,l=Math.random,s=[],u=1/0,c=ir,f=or,d=gr,p={};function h(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=nr/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function g(e,n,i){for(var r,o,s,u=n.x,c=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=a(t),p=l()<.5?1:-1,h=-p;(r=d(h+=p))&&(o=~~r[0],s=~~r[1],!(Math.min(Math.abs(o),Math.abs(s))>=f));)if(n.x=u+o,n.y=c+s,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!i||!cr(n,e,t[0]))&&(!i||dr(n,i))){for(var g=n.sprite,v=n.width>>5,y=t[0]>>5,m=n.x-(v<<4),x=127&m,b=32-x,w=n.y1-n.y0,F=void 0,k=(n.y+n.y0)*y+(m>>5),A=0;A<w;A++){F=0;for(var S=0;S<=v;S++)e[k+S]|=F<<b|(S<v?(F=g[A*v+S])>>>x:0);k+=y}return delete n.sprite,!0}return!1}return p.start=function(){var a=t[0],v=t[1],y=h(d()),m=p.board?p.board:hr((t[0]>>5)*t[1]),x=s.length,b=[],w=s.map((function(t,a,l){return t.text=c.call(this,t,a,l),t.font=e.call(this,t,a,l),t.style=f.call(this,t,a,l),t.weight=i.call(this,t,a,l),t.rotate=r.call(this,t,a,l),t.size=~~n.call(this,t,a,l),t.padding=o.call(this,t,a,l),t})).sort((function(t,e){return e.size-t.size})),F=-1,k=p.board?[{x:0,y:0},{x:a,y:v}]:null;function A(){for(var e=Date.now();Date.now()-e<u&&++F<x;){var n=w[F];n.x=a*(l()+.5)>>1,n.y=v*(l()+.5)>>1,ur(y,n,w,F),n.hasText&&g(m,n,k)&&(b.push(n),k?p.hasImage||fr(k,n):k=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}p._tags=b,p._bounds=k}return A(),p},p.createMask=function(e){var n=document.createElement("canvas"),i=t[0],r=t[1];if(i&&r){var o=i>>5,a=hr((i>>5)*r);n.width=i,n.height=r;var l=n.getContext("2d");l.drawImage(e,0,0,e.width,e.height,0,0,i,r);for(var s=l.getImageData(0,0,i,r).data,u=0;u<r;u++)for(var c=0;c<i;c++){var f=o*u+(c>>5),d=u*i+c<<2,h=s[d]>=250&&s[d+1]>=250&&s[d+2]>=250?1<<31-c%32:0;a[f]|=h}p.board=a,p.hasImage=!0}},p.timeInterval=function(t){u=null==t?1/0:t},p.words=function(t){s=t},p.size=function(e){t=[+e[0],+e[1]]},p.font=function(t){e=vr(t)},p.fontWeight=function(t){i=vr(t)},p.rotate=function(t){r=vr(t)},p.spiral=function(t){a=yr[t]||t},p.fontSize=function(t){n=vr(t)},p.padding=function(t){o=vr(t)},p.random=function(t){l=vr(t)},p}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){$(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var i=n.start()._tags;i.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var r=e.size,o=r[0],a=r[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:a,opacity:0}),i}(t,e=X({},Qi,e))}var er=Math.PI/180,nr=2048;function ir(t){return t.text}function rr(){return"serif"}function or(){return"normal"}function ar(t){return t.value}function lr(){return 90*~~(2*Math.random())}function sr(){return 1}function ur(t,e,n,i){if(!e.sprite){var r=t.context,o=t.ratio;r.clearRect(0,0,2048/o,nr/o);var a=0,l=0,s=0,u=n.length;for(--i;++i<u;){e=n[i],r.save(),r.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var c=r.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*er),p=Math.cos(e.rotate*er),h=c*p,g=c*d,v=f*p,y=f*d;c=Math.max(Math.abs(h+y),Math.abs(h-y))+31>>5<<5,f=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else c=c+31>>5<<5;if(f>s&&(s=f),a+c>=2048&&(a=0,l+=s,s=0),l+f>=nr)break;r.translate((a+(c>>1))/o,(l+(f>>1))/o),e.rotate&&r.rotate(e.rotate*er),r.fillText(e.text,0,0),e.padding&&(r.lineWidth=2*e.padding,r.strokeText(e.text,0,0)),r.restore(),e.width=c,e.height=f,e.xoff=a,e.yoff=l,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=c}for(var m=r.getImageData(0,0,2048/o,nr/o).data,x=[];--i>=0;)if((e=n[i]).hasText){for(var b=(c=e.width)>>5,w=(f=e.y1-e.y0,0);w<f*b;w++)x[w]=0;if(null==(a=e.xoff))return;l=e.yoff;for(var F=0,k=-1,A=0;A<f;A++){for(w=0;w<c;w++){var S=b*A+(w>>5),M=m[2048*(l+A)+(a+w)<<2]?1<<31-w%32:0;x[S]|=M,F|=M}F?k=A:(e.y0++,f--,A--,l++)}e.y1=e.y0+k,e.sprite=x.slice(0,(e.y1-e.y0)*b)}}}function cr(t,e,n){n>>=5;for(var i,r=t.sprite,o=t.width>>5,a=t.x-(o<<4),l=127&a,s=32-l,u=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<u;f++){i=0;for(var d=0;d<=o;d++)if((i<<s|(d<o?(i=r[f*o+d])>>>l:0))&e[c+d])return!0;c+=n}return!1}function fr(t,e){var n=t[0],i=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>i.x&&(i.x=e.x+e.x1),e.y+e.y1>i.y&&(i.y=e.y+e.y1)}function dr(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function pr(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function hr(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function gr(){return document.createElement("canvas")}function vr(t){return m(t)?t:function(){return t}}var yr={archimedean:pr,rectangular:function(t){var e=4*t[0]/t[1],n=0,i=0;return function(t){var r=t<0?-1:1;switch(Math.sqrt(1+4*r*t)-r&3){case 0:n+=e;break;case 1:i+=4;break;case 2:n-=e;break;default:i-=4}return[n,i]}}};function mr(t){var e=t.options,n=t.chart,i=n,r=i.width,o=i.height,a=i.padding,l=i.appendPadding,s=i.ele,u=e.data,c=e.imageMask,f=e.wordField,d=e.weightField,p=e.colorField,h=e.wordStyle,g=e.timeInterval,v=e.random,y=e.spiral,x=e.autoFit,b=void 0===x||x,w=e.placementStrategy;if(!u||!u.length)return[];var F,k=h.fontFamily,A=h.fontWeight,S=h.padding,M=h.fontSize,D=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"==typeof t&&!isNaN(t)}))}(u,d),O=[(F=D,Math.min.apply(Math,F)),Fr(D)],E=u.map((function(t){return{text:t[f],value:t[d],color:t[p],datum:t}})),$={imageMask:c,font:k,fontSize:br(M,O),fontWeight:A,size:xr({width:r,height:o,padding:a,appendPadding:l,autoFit:b,container:s}),padding:S,timeInterval:g,random:v,spiral:y,rotate:wr(e)};if(m(w)){var z=E.map((function(t,e,i){return kt(kt(kt({},t),{hasText:!!t.text,font:vr($.font)(t,e,i),weight:vr($.fontWeight)(t,e,i),rotate:vr($.rotate)(t,e,i),size:vr($.fontSize)(t,e,i),style:"normal"}),w.call(n,t,e,i))}));return z.push({text:"",value:0,x:0,y:0,opacity:0}),z.push({text:"",value:0,x:$.size[0],y:$.size[1],opacity:0}),z}return tr(E,$)}function xr(t){var e=t.width,n=t.height,i=t.container,r=t.autoFit,o=t.padding,a=t.appendPadding;if(r){var l=Kt(i);e=l.width,n=l.height}e=e||400,n=n||400;var s=function(t){var e=Fe(t.padding),n=Fe(t.appendPadding),i=e[0]+n[0],r=e[1]+n[1],o=e[2]+n[2],a=e[3]+n[3];return[i,r,o,a]}({padding:o,appendPadding:a}),u=s[0],c=s[1],f=s[2];return[e-(s[3]+c),n-(u+f)]}function br(t,e){if(m(t))return t;if(S(t)){var n=t[0],i=t[1];if(!e)return function(){return(i+n)/2};var r=e[0],o=e[1];return o===r?function(){return(i+n)/2}:function(t){var e=t.value;return(i-n)/(o-r)*(e-r)+n}}return function(){return t}}function wr(e){var n=function(e){var n=e.wordStyle.rotationSteps;n<1&&(Zt(t.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),n=1);return{rotation:e.wordStyle.rotation,rotationSteps:n}}(e),i=n.rotation,r=n.rotationSteps;if(!S(i))return i;var o=i[0],a=i[1],l=1===r?0:(a-o)/(r-1);return function(){return a===o?a:Math.floor(Math.random()*r)*l}}function Fr(t){return Math.max.apply(Math,t)}var kr=fe({},Ze.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function Ar(t){var e=t.chart,n=t.options,i=n.colorField,r=n.color,o=mr(t);return e.data(o),$n(fe({},t,{options:{xField:"x",yField:"y",seriesField:i&&"color",rawFields:m(r)&&Ft(c(n,"rawFields",[]),["datum"]),point:{color:r,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function Sr(t){return Ht(wn({x:{nice:!1},y:{nice:!1}}))(t)}function Mr(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField;return!1===i?e.legend(!1):r&&e.legend("color",i),t}function Dr(t){Ht(Ar,Sr,hn,Mr,gn,vn,yn,mn)(t)}function Or(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}function Er(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){r=!0,o=s}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $r(t,e,n,i){t=t.filter((function(t,i){var r=e(t,i),o=n(t,i);return null!=r&&isFinite(r)&&null!=o&&isFinite(o)})),i&&t.sort((function(t,n){return e(t)-e(n)}));for(var r,o,a,l=t.length,s=new Float64Array(l),u=new Float64Array(l),c=0,f=0,d=0;d<l;)a=t[d],s[d]=r=+e(a,d,t),u[d]=o=+n(a,d,t),c+=(r-c)/++d,f+=(o-f)/d;for(var p=0;p<l;++p)s[p]-=c,u[p]-=f;return[s,u,c,f]}function zr(t,e,n,i){for(var r=0,o=0,a=t.length;o<a;o++){var l=t[o],s=+e(l,o,t),u=+n(l,o,t);null!=s&&isFinite(s)&&null!=u&&isFinite(u)&&i(s,u,r++)}}function Cr(t,e,n,i,r){var o=0,a=0;return zr(t,e,n,(function(t,e){var n=e-r(t),l=e-i;o+=n*n,a+=l*l})),1-o/a}function Pr(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function Ir(t,e,n){for(var i=Math.log(e-t)*Math.LOG10E+1|0,r=1*Math.pow(10,-i/2-1),o=[l(t),l(e)],a=0;s(o)&&a<1e4;);return o;function l(t){return[t,n(t)]}function s(t){a++;for(var e,n=t.length,i=!1,o=0;o<n-1;o++){var s=t[o],u=t[o+1],c=[((e=[s,u])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],f=l(c[0]),d=Pr([s,c]),p=Pr([s,f]);Math.abs(d-p)>r&&(t.splice(o+1,0,f),i=!0)}return i}}function Rr(t,e,n,i){var r=i-t*t,o=Math.abs(r)<1e-24?0:(n-t*e)/r;return[e-o*t,o]}function Tr(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r=0,o=0,a=0,l=0,s=0,u=t?+t[0]:1/0,c=t?+t[1]:-1/0;zr(i,e,n,(function(e,n){++r,o+=(e-o)/r,a+=(n-a)/r,l+=(e*n-l)/r,s+=(e*e-s)/r,t||(e<u&&(u=e),e>c&&(c=e))}));var f=Er(Rr(o,a,l,s),2),d=f[0],p=f[1],h=function(t){return p*t+d},g=[[u,h(u)],[c,h(c)]];return g.a=p,g.b=d,g.predict=h,g.rSquared=Cr(i,e,n,a,h),g}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i}function _r(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}U("point","word-cloud",{draw:function(t,e){var n=t.x,i=t.y,r=e.addShape("text",{attrs:kt(kt({},Or(t)),{x:n,y:i})}),o=t.data.rotate;return"number"==typeof o&&O.rotate(r,o*Math.PI/180),r}}),function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="word-cloud",t}At(n,e),n.getDefaultOptions=function(){return kr},n.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(mr({chart:this.chart,options:this.options}))},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.render=function(){var n=this;return new Promise((function(i){var r=n.options.imageMask;if(!r)return e.prototype.render.call(n),void i();var o,a=function(t){n.options=kt(kt({},n.options),{imageMask:t||null}),e.prototype.render.call(n),i()};(o=r,new Promise((function(e,n){if(o instanceof HTMLImageElement)e(o);else{if(x(o)){var i=new Image;return i.crossOrigin="anonymous",i.src=o,i.onload=function(){e(i)},void(i.onerror=function(){Zt(t.ERROR,!1,"image %s load failed !!!",o),n()})}Zt(t.WARN,void 0===o,"The type of imageMask option must be String or HTMLImageElement."),n()}}))).then(a).catch(a)}))},n.prototype.getSchemaAdaptor=function(){return Dr},n.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){e.prototype.triggerResize.call(t)})))}}(Ze);function Br(t){return(t=1-t*t*t)*t*t}function Wr(t,e,n){var i=t[e],r=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>r&&t[o]-i<=i-t[r];)n[0]=++r,n[1]=o,++o}function Lr(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r,o,a,l,s=Er($r(i,e,n),4),u=s[0],c=s[1],f=s[2],d=s[3],p=u.length,h=0,g=0,v=0,y=0,m=0;for(r=0;r<p;)o=u[r],a=c[r++],h+=((l=o*o)-h)/r,g+=(l*o-g)/r,v+=(l*l-v)/r,y+=(o*a-y)/r,m+=(l*a-m)/r;var x=0,b=0,w=t?+t[0]:1/0,F=t?+t[1]:-1/0;zr(i,e,n,(function(e,n){b++,x+=(n-x)/b,t||(e<w&&(w=e),e>F&&(F=e))}));var k=v-h*h,A=h*k-g*g,S=(m*h-y*g)/A,M=(y*k-m*g)/A,D=-S*h,O=function(t){return S*(t-=f)*t+M*t+D+d},E=Ir(w,F,O);return E.a=S,E.b=M-2*S*f,E.c=D-M*f+S*f*f+d,E.predict=O,E.rSquared=Cr(i,e,n,x,O),E}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i}var Nr={exp:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r=0,o=0,a=0,l=0,s=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;zr(i,e,n,(function(e,n){var i=Math.log(n),d=e*n;++r,o+=(n-o)/r,l+=(d-l)/r,u+=(e*d-u)/r,a+=(n*i-a)/r,s+=(d*i-s)/r,t||(e<c&&(c=e),e>f&&(f=e))}));var d=Er(Rr(l/o,a/o,s/o,u/o),2),p=d[0],h=d[1];p=Math.exp(p);var g=function(t){return p*Math.exp(h*t)},v=Ir(c,f,g);return v.a=p,v.b=h,v.predict=g,v.rSquared=Cr(i,e,n,o,g),v}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},linear:Tr,loess:function(){var t=function(t){return t[0]},e=function(t){return t[1]},n=.3;function i(i){for(var r=Er($r(i,t,e,!0),4),o=r[0],a=r[1],l=r[2],s=r[3],u=o.length,c=Math.max(2,~~(n*u)),f=new Float64Array(u),d=new Float64Array(u),p=new Float64Array(u).fill(1),h=-1;++h<=2;){for(var g=[0,c-1],v=0;v<u;++v){for(var y=o[v],m=g[0],x=g[1],b=y-o[m]>o[x]-y?m:x,w=0,F=0,k=0,A=0,S=0,M=1/Math.abs(o[b]-y||1),D=m;D<=x;++D){var O=o[D],E=a[D],$=Br(Math.abs(y-O)*M)*p[D],z=O*$;w+=$,F+=z,k+=E*$,A+=E*z,S+=O*z}var C=Er(Rr(F/w,k/w,A/w,S/w),2),P=C[0],I=C[1];f[v]=P+I*y,d[v]=Math.abs(a[v]-f[v]),Wr(o,v+1,g)}if(2===h)break;var R=_r(d);if(Math.abs(R)<1e-12)break;for(var T,_,B=0;B<u;++B)T=d[B]/(6*R),p[B]=T>=1?1e-12:(_=1-T*T)*_}return function(t,e,n,i){for(var r,o=t.length,a=[],l=0,s=0,u=[];l<o;++l)r=t[l]+n,u[0]===r?u[1]+=(e[l]-u[1])/++s:(s=0,u[1]+=i,u=[r,e[l]],a.push(u));return u[1]+=i,a}(o,f,l,s)}return i.bandwidth=function(t){return arguments.length?(n=t,i):n},i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(e=t,i):e},i},log:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},i=Math.E;function r(r){var o=0,a=0,l=0,s=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0,d=Math.log(i);zr(r,e,n,(function(e,n){var i=Math.log(e)/d;++o,a+=(i-a)/o,l+=(n-l)/o,s+=(i*n-s)/o,u+=(i*i-u)/o,t||(e<c&&(c=e),e>f&&(f=e))}));var p=Er(Rr(a,l,s,u),2),h=p[0],g=p[1],v=function(t){return g*Math.log(t)/d+h},y=Ir(c,f,v);return y.a=g,y.b=h,y.predict=v,y.rSquared=Cr(r,e,n,l,v),y}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.base=function(t){return arguments.length?(i=t,r):i},r},poly:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},i=3;function r(r){if(1===i){var o=Tr().x(e).y(n).domain(t)(r);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(2===i){var a=Lr().x(e).y(n).domain(t)(r);return a.coefficients=[a.c,a.b,a.a],delete a.a,delete a.b,delete a.c,a}var l,s,u,c,f,d=Er($r(r,e,n),4),p=d[0],h=d[1],g=d[2],v=d[3],y=p.length,m=[],x=[],b=i+1,w=0,F=0,k=t?+t[0]:1/0,A=t?+t[1]:-1/0;for(zr(r,e,n,(function(e,n){++F,w+=(n-w)/F,t||(e<k&&(k=e),e>A&&(A=e))})),l=0;l<b;++l){for(u=0,c=0;u<y;++u)c+=Math.pow(p[u],l)*h[u];for(m.push(c),f=new Float64Array(b),s=0;s<b;++s){for(u=0,c=0;u<y;++u)c+=Math.pow(p[u],l+s);f[s]=c}x.push(f)}x.push(m);var S=function(t){var e,n,i,r,o,a=t.length-1,l=[];for(e=0;e<a;++e){for(r=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][r])&&(r=n);for(i=e;i<a+1;++i)o=t[i][e],t[i][e]=t[i][r],t[i][r]=o;for(n=e+1;n<a;++n)for(i=a;i>=e;i--)t[i][n]-=t[i][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,i=n+1;i<a;++i)o+=t[i][n]*l[i];l[n]=(t[a][n]-o)/t[n][n]}return l}(x),M=function(t){t-=g;var e=v+S[0]+S[1]*t+S[2]*t*t;for(l=3;l<b;++l)e+=S[l]*Math.pow(t,l);return e},D=Ir(k,A,M);return D.coefficients=function(t,e,n,i){var r,o,a,l,s=Array(t);for(r=0;r<t;++r)s[r]=0;for(r=t-1;r>=0;--r)for(a=e[r],l=1,s[r]+=a,o=1;o<=r;++o)l*=(r+1-o)/o,s[r-o]+=a*Math.pow(n,o)*l;return s[0]+=i,s}(b,S,-g,v),D.predict=M,D.rSquared=Cr(r,e,n,w,M),D}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.order=function(t){return arguments.length?(i=t,r):i},r},pow:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function i(i){var r=0,o=0,a=0,l=0,s=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;zr(i,e,n,(function(e,n){var i=Math.log(e),d=Math.log(n);++r,o+=(i-o)/r,a+=(d-a)/r,l+=(i*d-l)/r,s+=(i*i-s)/r,u+=(n-u)/r,t||(e<c&&(c=e),e>f&&(f=e))}));var d=Er(Rr(o,a,l,s),2),p=d[0],h=d[1];p=Math.exp(p);var g=function(t){return p*Math.pow(t,h)},v=Ir(c,f,g);return v.a=p,v.b=h,v.predict=g,v.rSquared=Cr(i,e,n,u,g),v}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},quad:Lr};var jr=function(t,e){var n=e.view,i=e.options,r=i.xField,o=i.yField,a=n.getScaleByField(r),l=n.getScaleByField(o);return function(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var o=t[i];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e);for(var a=0,l=t.length;a<l;a++){var s=t[a];o&&o.x===s.x&&o.y===s.y||(i.push(s.x),i.push(s.y),o=s)}var u=oe(i,e,n||[[0,0],[1,1]]);return u.unshift(["M",r.x,r.y]),u}(t.map((function(t){return n.getCoordinate().convert({x:a.scale(t[0]),y:l.scale(t[1])})})),!1)};function Vr(t){var e=t.data,n=void 0===e?[]:e,i=t.xField,r=t.yField;if(n.length){for(var o=!0,a=!0,l=n[0],s=void 0,u=1;u<n.length&&(s=n[u],l[i]!==s[i]&&(o=!1),l[r]!==s[r]&&(a=!1),o||a);u++)l=s;var f=[];o&&f.push(i),a&&f.push(r);var d=Yt(function(t){var e,n=t.meta,i=void 0===n?{}:n,r=t.xField,o=t.yField,a=t.data,l=a[0][r],s=a[0][o],u=l>0,f=s>0;function d(t,e){var n=c(i,[t]);function r(t){return c(n,t)}var o={};return"x"===e?(w(l)&&(w(r("min"))||(o.min=u?0:2*l),w(r("max"))||(o.max=u?2*l:0)),o):(w(s)&&(w(r("min"))||(o.min=f?0:2*s),w(r("max"))||(o.max=f?2*s:0)),o)}return kt(kt({},i),((e={})[r]=kt(kt({},i[r]),d(r,"x")),e[o]=kt(kt({},i[o]),d(o,"y")),e))}(t),f);return fe({},t,{meta:d})}return t}function Gr(t){var e=t.chart,n=t.options,i=n.data,r=n.type,o=n.color,a=n.shape,l=n.pointStyle,s=n.shapeField,u=n.colorField,c=n.xField,f=n.yField,d=n.sizeField,p=n.size,h=n.tooltip;d&&(p||(p=[2,8]),w(p)&&(p=[p,p])),h&&!h.fields&&(h=kt(kt({},h),{fields:[c,f,u,d,s]})),e.data(i),$n(fe({},t,{options:{seriesField:u,point:{color:o,shape:a,size:p,style:l},tooltip:h}}));var g=Jt(e,"point");return r&&g.adjust(r),t}function qr(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField,l=Vr(n);return Ht(wn(((e={})[o]=i,e[a]=r,e)))(fe({},t,{options:l}))}function Hr(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,i),e.axis(a,r),t}function Yr(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,o=n.shapeField,a=n.sizeField,l=n.shapeLegend,s=n.sizeLegend,u=!1!==i;return r&&e.legend(r,!!u&&i),o&&(l?e.legend(o,l):e.legend(o,!1!==l&&i)),a&&e.legend(a,s||!1),u||l||s||e.legend(!1),t}function Xr(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=Jt(e,"point");if(i){var a=i.callback,l=St(i,["callback"]);o.label({fields:[r],callback:a,cfg:re(l)})}else o.label(!1);return t}function Ur(t){var e=t.options.quadrant,n=[];if(e){var i=e.xBaseline,r=void 0===i?0:i,o=e.yBaseline,a=void 0===o?0:o,l=e.labels,s=e.regionStyle,u=e.lineStyle,c=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(r,a);new Array(4).join(",").split(",").forEach((function(t,e){n.push(kt(kt({type:"region",top:!1},c.regionStyle[e].position),{style:fe({},c.regionStyle[e].style,null==s?void 0:s[e])}),kt({type:"text",top:!0},fe({},c.labelStyle[e],null==l?void 0:l[e])))})),n.push({type:"line",top:!1,start:["min",a],end:["max",a],style:fe({},c.lineStyle,u)},{type:"line",top:!1,start:[r,"min"],end:[r,"max"],style:fe({},c.lineStyle,u)})}return Ht(Fn(n))(t)}function Zr(t){var e=t.options,n=t.chart,i=e.regressionLine;if(i){var r=i.style,o=i.top,a=void 0!==o&&o,l={stroke:"#9ba29a",lineWidth:2,opacity:.5};n.annotation().shape({top:a,render:function(t,i){var o=t.addGroup({id:n.id+"-regression-line",name:"regression-line-group"}),a=function(t){var e,n=t.options,i=n.xField,r=n.yField,o=n.data,a=n.regressionLine,l=a.type,s=void 0===l?"linear":l,u=a.algorithm;return e=u?S(u)?u:u(o):Nr[s]().x((function(t){return t[i]})).y((function(t){return t[r]}))(o),jr(e,t)}({view:i,options:e});o.addShape("path",{name:"regression-line",attrs:kt(kt({path:a},l),r)})}})}return t}function Kr(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function Jr(t){return Ht(Gr,qr,Hr,Yr,Kr,Xr,ui,gn,Ur,vn,yn,Zr)(t)}var Qr=fe({},Ze.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});B("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var to,eo,no,io,ro=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.type="scatter",i.on(H.BEFORE_RENDER,(function(t){var e,n,r=i,o=r.options,a=r.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===Z.FILTER){var l=i.chart.filterData(i.chart.getData());qr({chart:a,options:kt(kt({},o),{data:l})})}(null===(n=t.data)||void 0===n?void 0:n.source)===Z.RESET&&qr({chart:a,options:o})})),i}return At(e,t),e.getDefaultOptions=function(){return Qr},e.prototype.changeData=function(t){this.updateOption(Vr(fe({},this.options,{data:t})));var e=this.options;qr({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return Jr},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ze);function oo(t){var e=t.chart,n=t.options,i=n.data,r=n.lineStyle,o=n.color,a=n.point,l=n.area;e.data(i);var s=fe({},t,{options:{line:{style:r,color:o},point:a?kt({color:o},a):a,area:l?kt({color:o},l):l,label:void 0}}),u=fe({},s,{options:{tooltip:!1}}),c=(null==a?void 0:a.state)||n.state,f=fe({},s,{options:{tooltip:!1,state:c}});return En(s),$n(f),On(u),t}function ao(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return Ht(wn(((e={})[o]=i,e[a]=r,e)))(t)}function lo(t){var e=t.chart,n=t.options,i=n.radius,r=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:i,startAngle:r,endAngle:o}),t}function so(t){var e=t.chart,n=t.options,i=n.xField,r=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(i,r),e.axis(o,a),t}function uo(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=Jt(e,"line");if(i){var a=i.callback,l=St(i,["callback"]);o.label({fields:[r],callback:a,cfg:re(l)})}else o.label(!1);return t}function co(t){return Ht(oo,ao,yn,lo,so,pn,hn,uo,gn,vn,Fn())(t)}J("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),i=n.shared,r=n.title,o=t.prototype.getTooltipItems.call(this,e);if(o.length>0){var a=this.view.geometries[0],l=a.dataArray,s=o[0].name,u=[];return l.forEach((function(t){t.forEach((function(t){var e=O.getTooltipItems(t,a)[0];if(!i&&e&&e.name===s){var n=$(r)?s:r;u.push(kt(kt({},e),{name:e.title,title:n}))}else if(i&&e){n=$(r)?e.name||s:r;u.push(kt(kt({},e),{name:e.title,title:n}))}}))})),u}return[]},e}(K)),_("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(T)),B("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}At(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return fe({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return co}}(Ze),(eo=to||(to={})).Left="Left",eo.Right="Right",(io=no||(no={})).Line="line",io.Column="column";var fo={nice:!0,label:{autoHide:!0,autoRotate:!1}},po=kt(kt({},fo),{position:"left"}),ho=kt(kt({},fo),{position:"right",grid:null});function go(t){return c(t,"geometry")===no.Line}function vo(t){return c(t,"geometry")===no.Column}function yo(t,e,n){return vo(n)?fe({},{geometry:no.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):kt({geometry:no.Line},n)}function mo(t,e){var n=t[0],i=t[1];return S(e)?[e[0],e[1]]:[c(e,n),c(e,i)]}function xo(t,e){return e===to.Left?!1!==t&&fe({},po,t):e===to.Right?!1!==t&&fe({},ho,t):t}function bo(t){var e=t.view,n=t.geometryOption,i=t.yField,r=t.legend,o=c(r,"marker"),a=Jt(e,go(n)?"line":"interval");if(!n.seriesField){var l=c(e,"options.scales."+i+".alias")||i,s=a.getAttribute("color"),f=e.getTheme().defaultColor;return s&&(f=O.getMappingValue(s,l,c(s,["values",0],f))),[{value:i,name:l,marker:(m(o)?o:!z(o)&&fe({},{style:{stroke:f,fill:f}},o))||(go(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:f}}:{symbol:"square",style:{fill:f}}),isGeometry:!0,viewId:e.id}]}var d=a.getGroupAttributes();return u(d,(function(t,n){var i=O.getLegendItems(e,a,n,e.getTheme(),o);return t.concat(i)}),[])}var wo=function(t,e){var n=e[0],i=e[1],r=t.getOptions().data,o=t.getXScale(),a=Q(r);if(o&&a){var l=tt(r,o.field),s=Q(l),u=Math.floor(n*(s-1)),c=Math.floor(i*(s-1));t.filter(o.field,(function(t){var e=l.indexOf(t);return!(e>-1)||function(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return t>=i&&t<=r}(e,u,c)})),t.render(!0)}};function Fo(t){var e,n=t.options,i=n.geometryOptions,r=void 0===i?[]:i,o=n.xField,a=n.yField,l=V(r,(function(t){var e=t.geometry;return e===no.Line||void 0===e}));return fe({},{options:{geometryOptions:[],meta:(e={},e[o]={type:"cat",sync:!0,range:l?[0,1]:void 0},e),tooltip:{showMarkers:l,showCrosshairs:l,shared:!0,crosshairs:{type:"x"}},interactions:l?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:mo(a,n.yAxis),geometryOptions:[yo(0,a[0],r[0]),yo(0,a[1],r[1])],annotations:mo(a,n.annotations)}})}function ko(t){var e,n,i=t.chart,r=t.options.geometryOptions,o={line:0,column:1};return[{type:null===(e=r[0])||void 0===e?void 0:e.geometry,id:"left-axes-view"},{type:null===(n=r[1])||void 0===n?void 0:n.geometry,id:"right-axes-view"}].sort((function(t,e){return-o[t.type]+o[e.type]})).forEach((function(t){return i.createView({id:t.id})})),t}function Ao(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.geometryOptions,a=n.data,l=n.tooltip;return[kt(kt({},o[0]),{id:"left-axes-view",data:a[0],yField:r[0]}),kt(kt({},o[1]),{id:"right-axes-view",data:a[1],yField:r[1]})].forEach((function(t){var n=t.id,r=t.data,o=t.yField,a=vo(t)&&t.isPercent,s=a?qn(r,o,i,o):r,u=ee(e,n).data(s),c=a?kt({formatter:function(e){return{name:e[t.seriesField]||o,value:(100*Number(e[o])).toFixed(2)+"%"}}},l):l;!function(t){var e=t.options,n=t.chart,i=e.geometryOption,r=i.isStack,o=i.color,a=i.seriesField,l=i.groupField,s=i.isGroup,u=["xField","yField"];if(go(i)){En(fe({},t,{options:kt(kt(kt({},Yt(e,u)),i),{line:{color:i.color,style:i.lineStyle}})})),$n(fe({},t,{options:kt(kt(kt({},Yt(e,u)),i),{point:i.point&&kt({color:o,shape:"circle"},i.point)})}));var c=[];s&&c.push({type:"dodge",dodgeBy:l||a,customOffset:0}),r&&c.push({type:"stack"}),c.length&&b(n.geometries,(function(t){t.adjust(c)}))}vo(i)&&yi(fe({},t,{options:kt(kt(kt({},Yt(e,u)),i),{widthRatio:i.columnWidthRatio,interval:kt(kt({},Yt(i,["color"])),{style:i.columnStyle})})}))}({chart:u,options:{xField:i,yField:o,tooltip:c,geometryOption:t}})})),t}function So(t){var e,n=t.chart,i=t.options.geometryOptions,r=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],o=0;return n.once("beforepaint",(function(){b(i,(function(t,e){var i=ee(n,0===e?"left-axes-view":"right-axes-view");if(!t.color){var a=i.getGroupScales(),l=c(a,[0,"values","length"],1),s=r.slice(o,o+l).concat(0===e?[]:r);i.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,s):e.color(s[0])})),o+=l}})),n.render(!0)})),t}function Mo(t){var e,n,i=t.chart,r=t.options,o=r.xAxis,a=r.yAxis,l=r.xField,s=r.yField;return wn(((e={})[l]=o,e[s[0]]=a[0],e))(fe({},t,{chart:ee(i,"left-axes-view")})),wn(((n={})[l]=o,n[s[1]]=a[1],n))(fe({},t,{chart:ee(i,"right-axes-view")})),t}function Do(t){var e=t.chart,n=t.options,i=ee(e,"left-axes-view"),r=ee(e,"right-axes-view"),o=n.xField,a=n.yField,l=n.xAxis,s=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),i.axis(o,l),i.axis(a[0],xo(s[0],to.Left)),r.axis(o,!1),r.axis(a[1],xo(s[1],to.Right)),t}function Oo(t){var e=t.chart,n=t.options.tooltip,i=ee(e,"left-axes-view"),r=ee(e,"right-axes-view");return e.tooltip(n),i.tooltip({shared:!0}),r.tooltip({shared:!0}),t}function Eo(t){var e=t.chart;return gn(fe({},t,{chart:ee(e,"left-axes-view")})),gn(fe({},t,{chart:ee(e,"right-axes-view")})),t}function $o(t){var e=t.chart,n=t.options.annotations,i=c(n,[0]),r=c(n,[1]);return Fn(i)(fe({},t,{chart:ee(e,"left-axes-view"),options:{annotations:i}})),Fn(r)(fe({},t,{chart:ee(e,"right-axes-view"),options:{annotations:r}})),t}function zo(t){var e=t.chart;return yn(fe({},t,{chart:ee(e,"left-axes-view")})),yn(fe({},t,{chart:ee(e,"right-axes-view")})),yn(t),t}function Co(t){var e=t.chart;return vn(fe({},t,{chart:ee(e,"left-axes-view")})),vn(fe({},t,{chart:ee(e,"right-axes-view")})),t}function Po(t){var e=t.chart,n=t.options.yAxis;return kn(fe({},t,{chart:ee(e,"left-axes-view"),options:{yAxis:n[0]}})),kn(fe({},t,{chart:ee(e,"right-axes-view"),options:{yAxis:n[1]}})),t}function Io(t){var e=t.chart,n=t.options,i=n.legend,r=n.geometryOptions,o=n.yField,a=n.data,l=ee(e,"left-axes-view"),s=ee(e,"right-axes-view");if(!1===i)e.legend(!1);else if(E(i)&&!0===i.custom)e.legend(i);else{var u=c(r,[0,"legend"],i),f=c(r,[1,"legend"],i);e.once("beforepaint",(function(){var t=a[0].length?bo({view:l,geometryOption:r[0],yField:o[0],legend:u}):[],n=a[1].length?bo({view:s,geometryOption:r[1],yField:o[1],legend:f}):[];e.legend(fe({},i,{custom:!0,items:t.concat(n)}))})),r[0].seriesField&&l.legend(r[0].seriesField,u),r[1].seriesField&&s.legend(r[1].seriesField,f),e.on("legend-item:click",(function(t){var n=c(t,"gEvent.delegateObject",{});if(n&&n.item){var i=n.item,r=i.value,a=i.isGeometry,l=i.viewId;if(a){if(R(o,(function(t){return t===r}))>-1){var s=c(ee(e,l),"geometries");b(s,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var u=c(e.getController("legend"),"option.items",[]);b(e.views,(function(t){var n=t.getGroupScales();b(n,(function(e){e.values&&e.values.indexOf(r)>-1&&t.filter(e.field,(function(t){return!N(u,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function Ro(t){var e=t.chart,n=t.options.slider,i=ee(e,"left-axes-view"),r=ee(e,"right-axes-view");return n&&(i.option("slider",n),i.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,i=e.originValue;G(n,i)||wo(r,n)})),e.once("afterpaint",(function(){if(!et(n)){var t=n.start,e=n.end;(t||e)&&wo(r,[t,e])}}))),t}function To(t){return Ht(Fo,ko,zo,Ao,Mo,Do,Po,Oo,Eo,$o,Co,So,Io,Ro)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}At(e,t),e.prototype.getDefaultOptions=function(){return fe({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return To}}(Ze);var _o={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+c(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},Bo={appendPadding:2,tooltip:kt({},_o),animation:{}};function Wo(t){return W(t||[],(function(t,e){return{x:""+e,y:t}}))}function Lo(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.areaStyle,a=n.point,l=n.line,s=null==a?void 0:a.state,u=Wo(i);e.data(u);var c=fe({},t,{options:{xField:"x",yField:"y",area:{color:r,style:o},line:l,point:a}}),f=fe({},c,{options:{tooltip:!1}}),d=fe({},c,{options:{tooltip:!1,state:s}});return On(c),En(f),$n(d),e.axis(!1),e.legend(!1),t}function No(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=Wo(i.data);return Ht(wn(((e={}).x=r,e.y=o,e),((n={}).x={type:"cat"},n.y=xe(a,"y"),n)))(t)}function jo(t){return Ht(dn("areaStyle"),Lo,No,hn,yn,vn,Fn())(t)}function Vo(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.lineStyle,a=n.point,l=null==a?void 0:a.state,s=Wo(i);e.data(s);var u=fe({},t,{options:{xField:"x",yField:"y",line:{color:r,style:o},point:a}}),c=fe({},u,{options:{tooltip:!1,state:l}});return En(u),$n(c),e.axis(!1),e.legend(!1),t}function Go(t){return Ht(Vo,No,yn,hn,vn,Fn())(t)}var qo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return At(e,t),e.getDefaultOptions=function(){return Bo},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;No({chart:e,options:this.options}),e.changeData(Wo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Go},e}(Ze);function Ho(t){var e=t.chart,n=t.options,i=n.data,r=n.color,o=n.columnStyle,a=n.columnWidthRatio,l=Wo(i);return e.data(l),zn(fe({},t,{options:{xField:"x",yField:"y",widthRatio:a,interval:{style:o,color:r}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function Yo(t){return Ht(yn,dn("columnStyle"),Ho,No,hn,vn,Fn())(t)}var Xo={appendPadding:2,tooltip:kt({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+c(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},Uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return At(e,t),e.getDefaultOptions=function(){return Xo},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;No({chart:e,options:this.options}),e.changeData(Wo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Yo},e}(Ze),Zo={appendPadding:2,tooltip:kt({},_o),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},Ko=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return At(e,t),e.getDefaultOptions=function(){return Zo},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;No({chart:e,options:this.options}),e.changeData(Wo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jo},e}(Ze);function Jo(t,e,n){if(1===n)return[0,e];var i=Math.floor(t/e);return[e*i,e*(i+1)]}function Qo(t,e,n,i,r){var o=nt(t);it(o,e);var a=tt(o,e),l=rt(a),s=l.max-l.min,u=n;if(!n&&i&&(u=i>1?s/(i-1):l.max),!n&&!i){var c=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(a);u=s/c}var f={},d=ot(o,r);z(d)?b(o,(function(t){var n=Jo(t[e],u,i),r=n[0]+"-"+n[1];at(f,r)||(f[r]={range:n,count:0}),f[r].count+=1})):Object.keys(d).forEach((function(t){b(d[t],(function(n){var o=Jo(n[e],u,i),a=o[0]+"-"+o[1]+"-"+t;at(f,a)||(f[a]={range:o,count:0},f[a][r]=t),f[a].count+=1}))}));var p=[];return b(f,(function(t){p.push(t)})),p}var ta=fe({},Ze.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function ea(t){var e=t.chart,n=t.options,i=n.data,r=n.binField,o=n.binNumber,a=n.binWidth,l=n.color,s=n.stackField,u=n.legend,c=n.columnStyle,f=Qo(i,r,a,o,s);return e.data(f),zn(fe({},t,{options:{xField:"range",yField:"count",seriesField:s,isStack:!0,interval:{color:l,style:c}}})),u&&s&&e.legend(s,u),t}function na(t){var e,n=t.options,i=n.xAxis,r=n.yAxis;return Ht(wn(((e={}).range=i,e.count=r,e)))(t)}function ia(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis;return!1===i?e.axis("range",!1):e.axis("range",i),!1===r?e.axis("count",!1):e.axis("count",r),t}function ra(t){var e=t.chart,n=t.options.label,i=Jt(e,"interval");if(n){var r=n.callback,o=St(n,["callback"]);i.label({fields:["count"],callback:r,cfg:re(o)})}else i.label(!1);return t}function oa(t){return Ht(yn,dn("columnStyle"),ea,na,ia,mn,ra,hn,gn,vn)(t)}var aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return At(e,t),e.getDefaultOptions=function(){return ta},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,i=e.binNumber,r=e.binWidth,o=e.stackField;this.chart.changeData(Qo(t,n,r,i,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return oa},e}(Ze),la=["#FAAD14","#E8EDF3"],sa={percent:.2,color:la,animation:{}};function ua(t){var e=lt(me(t)?t:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]}function ca(t){var e=t.chart,n=t.options,i=n.percent,r=n.progressStyle,o=n.color,a=n.barWidthRatio;return e.data(ua(i)),zn(fe({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:a,interval:{style:r,color:x(o)?[o,la[1]]:o},args:{zIndexReversed:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function fa(t){return t.chart.coordinate("rect").transpose(),t}function da(t){return Ht(ca,wn({}),fa,vn,yn,Fn())(t)}var pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return At(e,t),e.getDefaultOptions=function(){return sa},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(ua(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return da},e}(Ze);function ha(t){var e=t.chart,n=t.options,i=n.innerRadius,r=n.radius;return e.coordinate("theta",{innerRadius:i,radius:r}),t}function ga(t,e){var n=t.chart,i=t.options,r=i.innerRadius,o=i.statistic,a=i.percent,l=i.meta;if(n.getController("annotation").clear(!0),r&&o){var s=c(l,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},u=o.content;u&&(u=fe({},u,{content:$(u.content)?s(a):u.content})),ve(n,{statistic:kt(kt({},o),{content:u}),plotType:"ring-progress"},{percent:a})}return e&&n.render(!0),t}function va(t){return Ht(ca,wn({}),ha,ga,vn,yn,Fn())(t)}var ya={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},ma=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return At(e,t),e.getDefaultOptions=function(){return ya},e.prototype.changeData=function(t){this.chart.emit(H.BEFORE_CHANGE_DATA,Y.fromData(this.chart,H.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(ua(t)),ga({chart:this.chart,options:this.options},!0),this.chart.emit(H.AFTER_CHANGE_DATA,Y.fromData(this.chart,H.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return va},e}(Ze);function xa(t){var e=t.chart,n=t.options,i=n.data,r=n.type,o=n.xField,a=n.yField,l=n.colorField,s=n.sizeField,u=n.sizeRatio,f=n.shape,d=n.color,p=n.tooltip,h=n.heatmapStyle;e.data(i);var g="polygon";"density"===r&&(g="heatmap");var v=An(p,[o,a,l]),y=v.fields,m=v.formatter,x=1;return(u||0===u)&&(f||s?u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):x=u:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Dn(fe({},t,{options:{type:g,colorField:l,tooltipFields:y,shapeField:s||"",label:void 0,mapping:{tooltip:m,shape:f&&(s?function(t){var e=i.map((function(t){return t[s]})),n=Math.min.apply(Math,e),r=Math.max.apply(Math,e);return[f,(c(t,s)-n)/(r-n),x]}:function(){return[f,1,x]}),color:d||l&&e.getTheme().sequenceColors.join("-"),style:h}}})),t}function ba(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return Ht(wn(((e={})[o]=i,e[a]=r,e)))(t)}function wa(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(a,!1):e.axis(a,r),t}function Fa(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,o=n.sizeField,a=n.sizeLegend,l=!1!==i;return r&&e.legend(r,!!l&&i),o&&e.legend(o,void 0===a?i:a),l||a||e.legend(!1),t}function ka(t){var e=t.chart,n=t.options,i=n.label,r=n.colorField,o=Jt(e,"density"===n.type?"heatmap":"polygon");if(i){if(r){var a=i.callback,l=St(i,["callback"]);o.label({fields:[r],callback:a,cfg:re(l)})}}else o.label(!1);return t}function Aa(t){var e=t.chart,n=t.options,i=n.coordinate,r=n.reflect;return i&&e.coordinate({type:i.type||"rect",cfg:i.cfg}),r&&e.coordinate().reflect(r),t}function Sa(t){return Ht(yn,dn("heatmapStyle"),ba,Aa,xa,wa,Fa,hn,ka,Fn(),gn,vn,mn)(t)}var Ma,Da=fe({},Ze.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});U("polygon","circle",{draw:function(t,e){var n,i,r=t.x,o=t.y,a=this.parsePoints(t.points),l=Math.abs(a[2].x-a[1].x),s=Math.abs(a[1].y-a[0].y),u=Math.min(l,s)/2,c=Number(t.shape[1]),f=Number(t.shape[2]),d=u*Math.sqrt(f)*Math.sqrt(c),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("circle",{attrs:kt(kt(kt({x:r,y:o,r:d},t.defaultStyle),t.style),{fill:p})})}}),U("polygon","square",{draw:function(t,e){var n,i,r=t.x,o=t.y,a=this.parsePoints(t.points),l=Math.abs(a[2].x-a[1].x),s=Math.abs(a[1].y-a[0].y),u=Math.min(l,s),c=Number(t.shape[1]),f=Number(t.shape[2]),d=u*Math.sqrt(f)*Math.sqrt(c),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("rect",{attrs:kt(kt(kt({x:r-d/2,y:o-d/2,width:d,height:d},t.defaultStyle),t.style),{fill:p})})}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}At(e,t),e.getDefaultOptions=function(){return Da},e.prototype.getSchemaAdaptor=function(){return Sa},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ze);var Oa=fe({},Ze.getDefaultOptions(),{meta:(Ma={},Ma.$$range$$={min:0,alias:"low-q1-median-q3-high"},Ma),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Ea=function(t,e){var n=t;if(Array.isArray(e)){var i=e[0],r=e[1],o=e[2],a=e[3],l=e[4];n=W(t,(function(t){return t.$$range$$=[t[i],t[r],t[o],t[a],t[l]],t}))}return n};function $a(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.groupField,a=n.color,l=n.tooltip,s=n.boxStyle;e.data(Ea(n.data,r));var u=S(r)?"$$range$$":r,c=r?S(r)?r:[r]:[],f=l;!1!==f&&(f=fe({},{fields:S(r)?r:[]},f));var d=In(fe({},t,{options:{xField:i,yField:u,seriesField:o,tooltip:f,rawFields:c,label:!1,schema:{shape:"box",color:a,style:s}}})).ext;return o&&d.geometry.adjust("dodge"),t}function za(t){var e=t.chart,n=t.options,i=n.xField,r=n.data,o=n.outliersField,a=n.outliersStyle,l=n.padding,s=n.label;if(!o)return t;var u=e.createView({padding:l,id:"outliers_view"}),c=r.reduce((function(t,e){return e[o].forEach((function(n){var i;return t.push(kt(kt({},e),((i={})[o]=n,i)))})),t}),[]);return u.data(c),$n({chart:u,options:{xField:i,yField:o,point:{shape:"circle",style:a},label:s}}),u.axis(!1),t}function Ca(t){var e,n,i=t.chart,r=t.options,o=r.meta,a=r.xAxis,l=r.yAxis,s=r.xField,u=r.yField,c=r.outliersField,f=Array.isArray(u)?"$$range$$":u,d={};if(c){var p="$$y_outliers$$";(e={})[c]={sync:p,nice:!0},e[f]={sync:p,nice:!0},d=e}var h=fe(d,o,((n={})[s]=Yt(a,Ke),n[f]=Yt(l,Ke),n));return i.scale(h),t}function Pa(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField,l=Array.isArray(a)?"$$range$$":a;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis("$$range$$",!1):e.axis(l,r),t}function Ia(t){var e=t.chart,n=t.options,i=n.legend,r=n.groupField;return r?i?e.legend(r,i):e.legend(r,{position:"bottom"}):e.legend(!1),t}function Ra(t){return Ht($a,za,Ca,Pa,Ia,hn,gn,vn,yn)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}At(e,t),e.getDefaultOptions=function(){return Oa},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return"outliers_view"===t.id}));n&&n.data(t),this.chart.changeData(Ea(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ra}}(Ze);var Ta,_a,Ba={exports:{}},Wa={exports:{}};_a=(Ta=Wa).exports,Ta.exports.isNumber=function(t){return"number"==typeof t},Ta.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},Ta.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},Ta.exports.findMinMulti=function(t){for(var e=_a.findMin(t[0]),n=1;n<t.length;n++)e=Math.min(e,_a.findMin(t[n]));return e},Ta.exports.findMaxMulti=function(t){for(var e=_a.findMax(t[0]),n=1;n<t.length;n++)e=Math.max(e,_a.findMax(t[n]));return e},Ta.exports.inside=function(t,e,n){return t<=n&&n<=e},function(t){var e=Math.log(2),n=t.exports,i=Wa.exports;function r(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return n.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,o=i.isNumber(e.width)?e.width:2,a=i.isNumber(e.size)?e.size:50,l=i.isNumber(e.min)?e.min:(n=!0,i.findMinMulti(t)),s=i.isNumber(e.max)?e.max:(r=!0,i.findMaxMulti(t)),u=(s-l)/(a-1);return n&&(l-=2*o*u),r&&(s+=2*o*u),{min:l,max:s}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var o=i.isNumber(e.size)?e.size:50,a=i.isNumber(e.width)?e.width:2,l=n.getUnifiedMinMax(t,{size:o,width:a,min:e.min,max:e.max}),s=l.min,u=l.max-s,c=u/(o-1);if(0===u)return[{x:s,y:1}];for(var f=[],d=0;d<o;d++)f.push({x:s+d*c,y:0});var p=function(t,e){for(var n={},i=0,r=-e;r<=e;r++)i+=t(r/e),n[r]=i;return n}(r,a),h=p[a],g=p[a-1]-p[a-2],v=0;t.forEach((function(t){var e=function(t){return Math.floor((t-s)/c)}(t);if(!(e+a<0||e-a>=f.length)){var n=Math.max(e-a,0),r=e,o=Math.min(e+a,f.length-1),l=n-(e-a),u=e+a-o,d=p[-a-1+l]||0,y=p[-a-1+u]||0,m=h/(h-d-y);l>0&&(v+=m*(l-1)*g);var x=Math.max(0,e-a+1);i.inside(0,f.length-1,x)&&(f[x].y+=1*m*g),i.inside(0,f.length-1,r+1)&&(f[r+1].y-=2*m*g),i.inside(0,f.length-1,o+1)&&(f[o+1].y+=1*m*g)}}));var y=v,m=0,x=0;return f.forEach((function(t){m+=t.y,y+=m,t.y=y,x+=y})),x>0&&f.forEach((function(t){t.y/=x})),f},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,i=0,r=0;r<t.length&&(i=r,!((n+=t[r].y)>=e));r++);return t[i].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var n=0;return t.forEach((function(t){var e=Math.log(t.y);isFinite(e)&&(n+=t.y*e)})),n=-n/e,Math.pow(2,n)}}}(Ba);var La=Ba.exports;function Na(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function ja(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Va(t,e,n,i){for(n=n||0,i=i||t.length-1;i>n;){if(i-n>600){var r=i-n+1,o=e-n+1,a=Math.log(r),l=.5*Math.exp(2*a/3),s=.5*Math.sqrt(a*l*(r-l)/r);o-r/2<0&&(s*=-1),Va(t,e,Math.max(n,Math.floor(e-o*l/r+s)),Math.min(i,Math.floor(e+(r-o)*l/r+s)))}var u=t[e],c=n,f=i;for(ja(t,n,e),t[i]>u&&ja(t,n,i);c<f;){for(ja(t,c,f),c++,f--;t[c]<u;)c++;for(;t[f]>u;)f--}t[n]===u?ja(t,n,f):ja(t,++f,i),f<=e&&(n=f+1),e<=f&&(i=f-1)}}function Ga(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],i=0;i<e.length;i++)n.push(Ya(t.length,e[i]));n.push(t.length-1),n.sort(Ha);var r=[0,n.length-1];for(;r.length;){var o=Math.ceil(r.pop()),a=Math.floor(r.pop());if(!(o-a<=1)){var l=Math.floor((a+o)/2);qa(t,n[l],Math.floor(n[a]),Math.ceil(n[o])),r.push(a,l,l,o)}}}(n,e);for(var i=[],r=0;r<e.length;r++)i[r]=Na(n,e[r]);return i}return qa(n,Ya(n.length,e),0,n.length-1),Na(n,e)}function qa(t,e,n,i){e%1==0?Va(t,e,n,i):(Va(t,e=Math.floor(e),n,i),Va(t,e+1,e+1,i))}function Ha(t,e){return t-e}function Ya(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}var Xa=function(t){return{low:st(t),high:ut(t),q1:Ga(t,.25),q3:Ga(t,.75),median:Ga(t,[.5]),minMax:[st(t),ut(t)],quantile:[Ga(t,.25),Ga(t,.75)]}},Ua=function(t,e){var n=La.create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},Za=function(t){var e=t.xField,n=t.yField,i=t.seriesField,r=t.data,o=t.kde,a={min:o.min,max:o.max,size:o.sampleSize,width:o.width};if(!i){var l=ot(r,e);return Object.keys(l).map((function(t){var e=l[t].map((function(t){return t[n]}));return kt(kt({x:t},Ua(e,a)),Xa(e))}))}var s=[],u=ot(r,i);return Object.keys(u).forEach((function(t){var r=ot(u[t],e);return Object.keys(r).forEach((function(e){var o,l=r[e].map((function(t){return t[n]}));s.push(kt(kt(((o={x:e})[i]=t,o),Ua(l,a)),Xa(l)))}))})),s},Ka=fe({},Ze.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),Ja=["low","high","q1","q3","median"],Qa=[{type:"dodge",marginRatio:1/32}];function tl(t){var e=t.chart,n=t.options;return e.data(Za(n)),t}function el(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.color,o=n.shape,a=void 0===o?"violin":o,l=n.violinStyle,s=n.tooltip,u=n.state,c=e.createView({id:"violin_view"});return function(t){var e=t.options,n=e.violin,i=e.xField,r=e.yField,o=e.seriesField,a=e.sizeField,l=An(e.tooltip,[i,r,o,a]),s=l.fields,u=l.formatter;n&&Dn(fe({},t,{options:{type:"violin",colorField:o,tooltipFields:s,mapping:kt({tooltip:u},n)}}))}({chart:c,options:{xField:"x",yField:"violinY",seriesField:i||"x",sizeField:"violinSize",tooltip:kt({fields:Ja},s),violin:{style:l,color:r,shape:a},state:u}}),c.geometries[0].adjust(Qa),t}function nl(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.color,o=n.tooltip,a=n.box;if(!1===a)return t;var l=e.createView({id:"min_max_view"});zn({chart:l,options:{xField:"x",yField:"minMax",seriesField:i||"x",tooltip:kt({fields:Ja},o),state:"object"==typeof a?a.state:{},interval:{color:r,size:1,style:{lineWidth:0}}}}),l.geometries[0].adjust(Qa);var s=e.createView({id:"quantile_view"});zn({chart:s,options:{xField:"x",yField:"quantile",seriesField:i||"x",tooltip:kt({fields:Ja},o),state:"object"==typeof a?a.state:{},interval:{color:r,size:8,style:{fillOpacity:1}}}}),s.geometries[0].adjust(Qa);var u=e.createView({id:"median_view"});return $n({chart:u,options:{xField:"x",yField:"median",seriesField:i||"x",tooltip:kt({fields:Ja},o),state:"object"==typeof a?a.state:{},point:{color:r,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(Qa),s.axis(!1),l.axis(!1),u.axis(!1),u.legend(!1),l.legend(!1),s.legend(!1),t}function il(t){var e,n=t.chart,i=t.options,r=i.meta,o=i.xAxis,a=i.yAxis,l=fe({},r,((e={}).x=kt(kt({sync:!0},Yt(o,Ke)),{type:"cat"}),e.violinY=kt({sync:!0},Yt(a,Ke)),e.minMax=kt({sync:"violinY"},Yt(a,Ke)),e.quantile=kt({sync:"violinY"},Yt(a,Ke)),e.median=kt({sync:"violinY"},Yt(a,Ke)),e));return n.scale(l),t}function rl(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=ee(e,"violin_view");return!1===i?o.axis("x",!1):o.axis("x",i),!1===r?o.axis("violinY",!1):o.axis("violinY",r),e.axis(!1),t}function ol(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField,o=n.shape;if(!1===i)e.legend(!1);else{var a=r||"x",l=L(i,["selected"]);o&&o.startsWith("hollow")||c(l,["marker","style","lineWidth"])||ct(l,["marker","style","lineWidth"],0),e.legend(a,l),c(i,"selected")&&b(e.views,(function(t){return t.legend(a,i)}))}return t}function al(t){var e=ee(t.chart,"violin_view");return Fn()(kt(kt({},t),{chart:e})),t}function ll(t){var e=t.chart,n=t.options.animation;return b(e.views,(function(t){"boolean"==typeof n?t.animate(n):t.animate(!0),b(t.geometries,(function(t){t.animate(n)}))})),t}function sl(t){return Ht(yn,tl,el,nl,il,hn,rl,ol,gn,al,ll)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}At(e,t),e.getDefaultOptions=function(){return Ka},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(Za(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sl}}(Ze);var ul={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function cl(t,e,n){void 0===n&&(n="normal");var i,r=(i=function(t){if(!ul[t])throw new Error("unknown blend mode "+t);return ul[t]}(n),function(t,e){var n=[];return n[0]=i(t[0],e[0]),n[1]=i(t[1],e[1]),n[2]=i(t[2],e[2]),n})(fl(t),fl(e)),o=fl(t),a=o[0],l=o[1],s=o[2],u=o[3],c=fl(e),f=c[0],d=c[1],p=c[2],h=c[3],g=Number((u+h*(1-u)).toFixed(2));return"rgba("+Math.round((u*(1-h)*(a/255)+u*h*(r[0]/255)+(1-u)*h*(f/255))/g*255)+", "+Math.round((u*(1-h)*(l/255)+u*h*(r[1]/255)+(1-u)*h*(d/255))/g*255)+", "+Math.round((u*(1-h)*(s/255)+u*h*(r[2]/255)+(1-u)*h*(p/255))/g*255)+", "+g+")"}function fl(t){var e,n=t.replace("/s+/g","");return"string"!=typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=ft.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):ft.rgb2arr(ft.toRGB(n)).concat([1])}function dl(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function pl(t,e){return dl(t).map((function(){return dl(e)}))}function hl(t,e){for(var n=0,i=0;i<t.length;++i)n+=t[i]*e[i];return n}function gl(t){return Math.sqrt(hl(t,t))}function vl(t,e,n){for(var i=0;i<e.length;++i)t[i]=e[i]*n}function yl(t,e,n,i,r){for(var o=0;o<t.length;++o)t[o]=e*n[o]+i*r[o]}function ml(t,e,n){var i,r=(n=n||{}).maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,l=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,u=void 0!==n.rho?n.rho:1,c=void 0!==n.chi?n.chi:2,f=void 0!==n.psi?n.psi:-.5,d=void 0!==n.sigma?n.sigma:.5,p=e.length,h=new Array(p+1);h[0]=e,h[0].fx=t(e),h[0].id=0;for(var g=0;g<p;++g){var v=e.slice();v[g]=v[g]?v[g]*o:a,h[g+1]=v,h[g+1].fx=t(v),h[g+1].id=g+1}function y(t){for(var e=0;e<t.length;e++)h[p][e]=t[e];h[p].fx=t.fx}for(var m=function(t,e){return t.fx-e.fx},x=e.slice(),b=e.slice(),w=e.slice(),F=e.slice(),k=0;k<r;++k){if(h.sort(m),n.history){var A=h.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));A.sort((function(t,e){return t.id-e.id})),n.history.push({x:h[0].slice(),fx:h[0].fx,simplex:A})}for(i=0,g=0;g<p;++g)i=Math.max(i,Math.abs(h[0][g]-h[1][g]));if(Math.abs(h[0].fx-h[p].fx)<l&&i<s)break;for(g=0;g<p;++g){x[g]=0;for(var S=0;S<p;++S)x[g]+=h[S][g];x[g]/=p}var M=h[p];if(yl(b,1+u,x,-u,M),b.fx=t(b),b.fx<h[0].fx)yl(F,1+c,x,-c,M),F.fx=t(F),F.fx<b.fx?y(F):y(b);else if(b.fx>=h[p-1].fx){var D=!1;if(b.fx>M.fx?(yl(w,1+f,x,-f,M),w.fx=t(w),w.fx<M.fx?y(w):D=!0):(yl(w,1-f*u,x,f*u,M),w.fx=t(w),w.fx<b.fx?y(w):D=!0),D){if(d>=1)break;for(g=1;g<h.length;++g)yl(h[g],1-d,h[0],d,h[g]),h[g].fx=t(h[g])}}else y(b)}return h.sort(m),{fx:h[0].fx,x:h[0]}}function xl(t,e,n,i,r,o,a){var l=n.fx,s=hl(n.fxprime,e),u=l,c=l,f=s,d=0;function p(c,d,p){for(var h=0;h<16;++h)if(r=(c+d)/2,yl(i.x,1,n.x,r,e),u=i.fx=t(i.x,i.fxprime),f=hl(i.fxprime,e),u>l+o*r*s||u>=p)d=r;else{if(Math.abs(f)<=-a*s)return r;f*(d-c)>=0&&(d=c),c=r,p=u}return 0}r=r||1,o=o||1e-6,a=a||.1;for(var h=0;h<10;++h){if(yl(i.x,1,n.x,r,e),u=i.fx=t(i.x,i.fxprime),f=hl(i.fxprime,e),u>l+o*r*s||h&&u>=c)return p(d,r,c);if(Math.abs(f)<=-a*s)return r;if(f>=0)return p(r,d,u);c=u,d=r,r*=2}return r}function bl(t,e,n){var i,r,o,a={x:e.slice(),fx:0,fxprime:e.slice()},l={x:e.slice(),fx:0,fxprime:e.slice()},s=e.slice(),u=1;o=(n=n||{}).maxIterations||20*e.length,a.fx=t(a.x,a.fxprime),vl(i=a.fxprime.slice(),a.fxprime,-1);for(var c=0;c<o;++c){if(u=xl(t,i,a,l,u),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:u}),u){yl(s,1,l.fxprime,-1,a.fxprime);var f=hl(a.fxprime,a.fxprime);yl(i,Math.max(0,hl(s,l.fxprime)/f),i,-1,l.fxprime),r=a,a=l,l=r}else vl(i,a.fxprime,-1);if(gl(a.fxprime)<=1e-5)break}return n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:u}),a}function wl(t,e){var n,i=function(t){for(var e=[],n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)for(var r=Sl(t[n],t[i]),o=0;o<r.length;++o){var a=r[o];a.parentIndex=[n,i],e.push(a)}return e}(t),r=i.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(kl(t,e[n])>e[n].radius+1e-10)return!1;return!0}(e,t)})),o=0,a=0,l=[];if(r.length>1){var s=Ml(r);for(n=0;n<r.length;++n){var u=r[n];u.angle=Math.atan2(u.x-s.x,u.y-s.y)}r.sort((function(t,e){return e.angle-t.angle}));var c=r[r.length-1];for(n=0;n<r.length;++n){var f=r[n];a+=(c.x+f.x)*(f.y-c.y);for(var d={x:(f.x+c.x)/2,y:(f.y+c.y)/2},p=null,h=0;h<f.parentIndex.length;++h)if(c.parentIndex.indexOf(f.parentIndex[h])>-1){var g=t[f.parentIndex[h]],v=Math.atan2(f.x-g.x,f.y-g.y),y=Math.atan2(c.x-g.x,c.y-g.y),m=y-v;m<0&&(m+=2*Math.PI);var x=y-m/2,b=kl(d,{x:g.x+g.radius*Math.sin(x),y:g.y+g.radius*Math.cos(x)});b>2*g.radius&&(b=2*g.radius),(null===p||p.width>b)&&(p={circle:g,width:b,p1:f,p2:c})}null!==p&&(l.push(p),o+=Fl(p.circle.radius,p.width),c=f)}}else{var w=t[0];for(n=1;n<t.length;++n)t[n].radius<w.radius&&(w=t[n]);var F=!1;for(n=0;n<t.length;++n)if(kl(t[n],w)>Math.abs(w.radius-t[n].radius)){F=!0;break}F?o=a=0:(o=w.radius*w.radius*Math.PI,l.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-1e-10,y:w.y+w.radius},width:2*w.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=l,e.innerPoints=r,e.intersectionPoints=i),o+a}function Fl(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function kl(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function Al(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var i=e-(n*n-t*t+e*e)/(2*n);return Fl(t,t-(n*n-e*e+t*t)/(2*n))+Fl(e,i)}function Sl(t,e){var n=kl(t,e),i=t.radius,r=e.radius;if(n>=i+r||n<=Math.abs(i-r))return[];var o=(i*i-r*r+n*n)/(2*n),a=Math.sqrt(i*i-o*o),l=t.x+o*(e.x-t.x)/n,s=t.y+o*(e.y-t.y)/n,u=-(e.y-t.y)*(a/n),c=-(e.x-t.x)*(a/n);return[{x:l+u,y:s-c},{x:l-u,y:s+c}]}function Ml(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function Dl(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):function(t,e,n,i){var r=(i=i||{}).maxIterations||100,o=i.tolerance||1e-10,a=t(e),l=t(n),s=n-e;if(a*l>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===l)return n;for(var u=0;u<r;++u){var c=e+(s/=2),f=t(c);if(f*a>=0&&(e=c),Math.abs(s)<o||0===f)return c}return e+s}((function(i){return Al(t,e,i)-n}),0,t+e)}function Ol(t,e){var n=function(t,e){for(var n,i=e&&e.lossFunction?e.lossFunction:El,r={},o={},a=0;a<t.length;++a){var l=t[a];1==l.sets.length&&(n=l.sets[0],r[n]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:l.size,radius:Math.sqrt(l.size/Math.PI)},o[n]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(a=0;a<t.length;++a){var s=t[a],u=s.hasOwnProperty("weight")?s.weight:1,c=s.sets[0],f=s.sets[1];s.size+1e-10>=Math.min(r[c].size,r[f].size)&&(u=0),o[c].push({set:f,size:s.size,weight:u}),o[f].push({set:c,size:s.size,weight:u})}var d=[];for(n in o)if(o.hasOwnProperty(n)){var p=0;for(a=0;a<o[n].length;++a)p+=o[n][a].size*o[n][a].weight;d.push({set:n,size:p})}function h(t,e){return e.size-t.size}d.sort(h);var g={};function v(t){return t.set in g}function y(t,e){r[e].x=t.x,r[e].y=t.y,g[e]=!0}y({x:0,y:0},d[0].set);for(a=1;a<d.length;++a){var m=d[a].set,x=o[m].filter(v);if(n=r[m],x.sort(h),0===x.length)throw"ERROR: missing pairwise overlap information";for(var b=[],w=0;w<x.length;++w){var F=r[x[w].set],k=Dl(n.radius,F.radius,x[w].size);b.push({x:F.x+k,y:F.y}),b.push({x:F.x-k,y:F.y}),b.push({y:F.y+k,x:F.x}),b.push({y:F.y-k,x:F.x});for(var A=w+1;A<x.length;++A)for(var S=r[x[A].set],M=Dl(n.radius,S.radius,x[A].size),D=Sl({x:F.x,y:F.y,radius:k},{x:S.x,y:S.y,radius:M}),O=0;O<D.length;++O)b.push(D[O])}var E=1e50,$=b[0];for(w=0;w<b.length;++w){r[m].x=b[w].x,r[m].y=b[w].y;var z=i(r,t);z<E&&(E=z,$=b[w])}y($,m)}return r}(t,e),i=e.lossFunction||El;if(t.length>=8){var r=function(t,e){var n,i=(e=e||{}).restarts||10,r=[],o={};for(n=0;n<t.length;++n){var a=t[n];1==a.sets.length&&(o[a.sets[0]]=r.length,r.push(a))}var l=function(t,e,n){var i=pl(e.length,e.length),r=pl(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var o=n[t.sets[0]],a=n[t.sets[1]],l=Dl(Math.sqrt(e[o].size/Math.PI),Math.sqrt(e[a].size/Math.PI),t.size);i[o][a]=i[a][o]=l;var s=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?s=1:t.size<=1e-10&&(s=-1),r[o][a]=r[a][o]=s})),{distances:i,constraints:r}}(t,r,o),s=l.distances,u=l.constraints,c=gl(s.map(gl))/s.length;s=s.map((function(t){return t.map((function(t){return t/c}))}));var f,d,p=function(t,e){return function(t,e,n,i){var r,o=0;for(r=0;r<e.length;++r)e[r]=0;for(r=0;r<n.length;++r)for(var a=t[2*r],l=t[2*r+1],s=r+1;s<n.length;++s){var u=t[2*s],c=t[2*s+1],f=n[r][s],d=i[r][s],p=(u-a)*(u-a)+(c-l)*(c-l),h=Math.sqrt(p),g=p-f*f;d>0&&h<=f||d<0&&h>=f||(o+=2*g*g,e[2*r]+=4*g*(a-u),e[2*r+1]+=4*g*(l-c),e[2*s]+=4*g*(u-a),e[2*s+1]+=4*g*(c-l))}return o}(t,e,s,u)};for(n=0;n<i;++n){d=bl(p,dl(2*s.length).map(Math.random),e),(!f||d.fx<f.fx)&&(f=d)}var h=f.x,g={};for(n=0;n<r.length;++n){var v=r[n];g[v.sets[0]]={x:h[2*n]*c,y:h[2*n+1]*c,radius:Math.sqrt(v.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)vl(e.history[n].x,c);return g}(t,e);i(r,t)+1e-8<i(n,t)&&(n=r)}return n}function El(t,e){var n=0;for(var i=0;i<e.length;++i){var r=e[i],o=void 0;if(1!=r.sets.length){if(2==r.sets.length){var a=t[r.sets[0]],l=t[r.sets[1]];o=Al(a.radius,l.radius,kl(a,l))}else o=wl(r.sets.map((function(e){return t[e]})));n+=(r.hasOwnProperty("weight")?r.weight:1)*(o-r.size)*(o-r.size)}}return n}function $l(t,e,n,i){var r=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),r.push(t[a]));e-=2*i,n-=2*i;var l=function(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}(r),s=l.xRange,u=l.yRange;if(s.max==s.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(s.max-s.min),f=n/(u.max-u.min),d=Math.min(f,c),p=(e-(s.max-s.min)*d)/2,h=(n-(u.max-u.min)*d)/2,g={},v=0;v<r.length;++v){var y=r[v];g[o[v]]={radius:d*y.radius,x:i+p+(y.x-s.min)*d,y:i+h+(y.y-u.min)*d}}return g}function zl(t,e,n){var i,r,o=e[0].radius-kl(e[0],t);for(i=1;i<e.length;++i)(r=e[i].radius-kl(e[i],t))<=o&&(o=r);for(i=0;i<n.length;++i)(r=kl(n[i],t)-n[i].radius)<=o&&(o=r);return o}function Cl(t,e){var n,i=[];for(n=0;n<t.length;++n){var r=t[n];i.push({x:r.x,y:r.y}),i.push({x:r.x+r.radius/2,y:r.y}),i.push({x:r.x-r.radius/2,y:r.y}),i.push({x:r.x,y:r.y+r.radius/2}),i.push({x:r.x,y:r.y-r.radius/2})}var o=i[0],a=zl(i[0],t,e);for(n=1;n<i.length;++n){var l=zl(i[n],t,e);l>=a&&(o=i[n],a=l)}var s=ml((function(n){return-1*zl({x:n[0],y:n[1]},t,e)}),[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:s[0],y:s[1]},c=!0;for(n=0;n<t.length;++n)if(kl(u,t[n])>t[n].radius){c=!1;break}for(n=0;n<e.length;++n)if(kl(u,e[n])<e[n].radius){c=!1;break}if(!c)if(1==t.length)u={x:t[0].x,y:t[0].y};else{var f={};wl(t,f),u=0===f.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==f.arcs.length?{x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:e.length?Cl(t,[]):Ml(f.arcs.map((function(t){return t.p1})))}return u}function Pl(t,e){for(var n={},i=function(t){var e={},n=[];for(var i in t)n.push(i),e[i]=[];for(var r=0;r<n.length;r++)for(var o=t[n[r]],a=r+1;a<n.length;++a){var l=t[n[a]],s=kl(o,l);s+l.radius<=o.radius+1e-10?e[n[a]].push(n[r]):s+o.radius<=l.radius+1e-10&&e[n[r]].push(n[a])}return e}(t),r=0;r<e.length;++r){for(var o=e[r].sets,a={},l={},s=0;s<o.length;++s){a[o[s]]=!0;for(var u=i[o[s]],c=0;c<u.length;++c)l[u[c]]=!0}var f=[],d=[];for(var p in t)p in a?f.push(t[p]):p in l||d.push(t[p]);var h=Cl(f,d);n[o]=h,h.disjoint&&e[r].size>0&&console.log("WARNING: area "+o+" not represented on screen")}return n}var Il={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},Rl=F((function(t,e,n,i){var r=new Map,o=t.length;return e.forEach((function(e,a){if(1===e[i].length)r.set(e.id,t[(a+o)%o]);else{var l=e[i].map((function(t){return r.get(t)}));r.set(e.id,l.slice(1).reduce((function(t,e){return cl(t,e,n)}),l[0]))}})),r}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));function Tl(e,n,i,r){void 0===r&&(r=0);var o=e.data,a=e.setsField,l=e.sizeField;if(0===o.length)return Zt(t.WARN,!1,"warn: %s","数据不能为空"),[];var s=o.map((function(t){var e;return kt(kt({},t),((e={sets:t[a]||[],size:t[l]}).path="",e.id="",e))}));s.sort((function(t,e){return t.sets.length-e.sets.length}));var u=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||Ol,i=e.lossFunction||El;t=function(t){t=t.slice();var e,n,i,r,o=[],a={};for(e=0;e<t.length;++e){var l=t[e];1==l.sets.length?o.push(l.sets[0]):2==l.sets.length&&(a[[i=l.sets[0],r=l.sets[1]]]=!0,a[[r,i]]=!0)}for(o.sort((function(t,e){return t>e?1:-1})),e=0;e<o.length;++e)for(i=o[e],n=e+1;n<o.length;++n)[i,r=o[n]]in a||t.push({sets:[i,r],size:0});return t}(t);var r,o=n(t,e),a=[],l=[];for(r in o)o.hasOwnProperty(r)&&(a.push(o[r].x),a.push(o[r].y),l.push(r));for(var s=ml((function(e){for(var n={},r=0;r<l.length;++r){var a=l[r];n[a]={x:e[2*r],y:e[2*r+1],radius:o[a].radius}}return i(n,t)}),a,e).x,u=0;u<l.length;++u)r=l[u],o[r].x=s[2*u],o[r].y=s[2*u+1];return o}(s),c=$l(u,n,i,r),f=Pl(c,s);return s.forEach((function(t){var e=t.sets,n=e.join(",");t.id=n;var i=function(t){var e={};wl(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var i=n[0].circle;return function(t,e,n){var i=[],r=t-n,o=e;return i.push("M",r,o),i.push("A",n,n,0,1,0,r+2*n,o),i.push("A",n,n,0,1,0,r,o),i.join(" ")}(i.x,i.y,i.radius)}for(var r=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var a=n[o],l=a.circle.radius,s=a.width>l;r.push("\nA",l,l,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}(e.map((function(t){return c[t]})));/[zZ]$/.test(i)||(i+=" Z"),t.path=i;var r=f[n]||{x:0,y:0};X(t,r)})),s}function _l(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}U("schema","venn",{draw:function(t,e){var n=t.data,i=dt(n.path),r=function(t){return fe({},t.defaultStyle,{fill:t.color},t.style)}(t),o=e.addGroup({name:"venn-shape"});o.addShape("path",{attrs:kt(kt({},r),{path:i}),name:"venn-path"});var a=t.customInfo,l=a.offsetX,s=a.offsetY,u=O.transform(null,[["t",l,s]]);return o.setMatrix(u),o},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}}),ht("venn",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.getLabelPoint=function(t,e,n){var i=t.data,r=i.x,o=i.y,a=t.customLabelInfo,l=a.offsetX,s=a.offsetY;return{content:t.content[n],x:r+l,y:o+s}},e}(pt));var Bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.syncElementsPos=function(){_l(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(gt("element-active")),Wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.syncElementsPos=function(){_l(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(gt("element-highlight")),Ll=gt("element-selected"),Nl=gt("element-single-selected"),jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.syncElementsPos=function(){_l(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Ll),Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.syncElementsPos=function(){_l(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Nl);_("venn-element-active",Bl),_("venn-element-highlight",Wl),_("venn-element-selected",jl),_("venn-element-single-selected",Vl),B("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),B("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),B("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),B("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),B("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),B("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});function Gl(t,e,n){var i=t.chart,r=t.options,o=r.blendMode,a=r.setsField,l=i.getTheme(),s=l.colors10,u=l.colors20,c=n;S(c)||(c=e.filter((function(t){return 1===t[a].length})).length<=10?s:u);var f=Rl(c,e,o,a);return function(t){return f.get(t)||c[0]}}function ql(t){var e=t.chart,n=t.options,i=n.legend,r=n.appendPadding,o=n.padding,a=Fe(r);return!1!==i&&(a=ke(r,c(i,"position"),40)),e.appendPadding=Ae([a,o]),t}function Hl(e){var n=e.options.data;n||(Zt(t.WARN,!1,"warn: %s","数据不能为空"),n=[]);var i=n.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),r=n.filter((function(t){var e=t.sets;return function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}(i,e)}));return G(r,n)||Zt(t.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),P({},e,{options:{data:r}})}function Yl(t){var e=t.chart,n=t.options,i=n.pointStyle,r=n.setsField,o=n.sizeField,a=Fe(e.appendPadding),l=a[0],s=a[1],u=a[2],c=a[3],f={offsetX:c,offsetY:l},d=e.viewBBox,p=d.width,h=d.height,g=Tl(n,Math.max(p-(s+c),0),Math.max(h-(l+u),0),0);e.data(g);var v=In(fe({},t,{options:{xField:"x",yField:"y",sizeField:o,seriesField:"id",rawFields:[r,o],schema:{shape:"venn",style:i}}})).ext.geometry;v.customInfo(f);var y=function(t,e){var n=t.options.color;if("function"!=typeof n){var i=Gl(t,e,"string"==typeof n?[n]:n);return function(t){return i(t.id)}}return n}(t,g);return"function"==typeof y&&v.color("id",(function(e){var n=g.find((function(t){return t.id===e})),i=Gl(t,g)(e);return y(n,i)})),t}function Xl(t){var e=t.chart,n=t.options.label,i=Fe(e.appendPadding),r=i[0],o={offsetX:i[3],offsetY:r},a=Jt(e,"schema");if(n){var l=n.callback,s=St(n,["callback"]);a.label({fields:["id"],callback:l,cfg:P({},re(s),{type:"venn",customLabelInfo:o})})}else a.label(!1);return t}function Ul(t){var e=t.chart,n=t.options,i=n.legend,r=n.sizeField;return e.legend("id",i),e.legend(r,!1),t}function Zl(t){return t.chart.axis(!1),t}function Kl(t){var e=t.options,n=t.chart,i=e.interactions;if(i){var r={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};gn(fe({},t,{options:{interactions:i.map((function(t){return kt(kt({},t),{type:r[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function Jl(t){return Ht(ql,yn,Hl,Yl,Xl,wn({}),Ul,Zl,hn,Kl,vn)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}At(e,t),e.getDefaultOptions=function(){return Il},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Jl},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Ze);var Ql,ts="$$stock-range$$",es=fe({},Ze.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var i;if("x"===t){var r=n[0];i=r?r.title:e}else i=e;return{position:"y"===t?"start":"end",content:i,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function ns(t,e){return W(t,(function(t){if(S(e)){var n=e[0],i=e[1],r=e[2],o=e[3];t.trend=t[n]<=t[i]?"up":"down",t[ts]=[t[n],t[i],t[r],t[o]]}return t}))}function is(t){var e=t.chart,n=t.options,i=n.yField,r=n.data,o=n.risingFill,a=n.fallingFill,l=n.tooltip,s=n.stockStyle;e.data(ns(r,i));var u=l;return!1!==u&&(u=fe({},{fields:i},u)),In(fe({},t,{options:{schema:{shape:"candle",color:[o,a],style:s},yField:ts,seriesField:"trend",rawFields:i,tooltip:u}})),t}function rs(t){var e,n,i=t.chart,r=t.options,o=r.meta,a=r.xAxis,l=r.yAxis,s=r.xField,u=((e={})[s]={type:"timeCat",tickCount:6},e.trend={values:["up","down"]},e),c=fe(u,o,((n={})[s]=Yt(a,Ke),n[ts]=Yt(l,Ke),n));return i.scale(c),t}function os(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?e.axis(ts,!1):e.axis(ts,r),t}function as(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function ls(t){var e=t.chart,n=t.options.legend;return n?e.legend("trend",n):!1===n&&e.legend(!1),t}function ss(t){Ht(yn,is,rs,os,as,ls,gn,vn,Fn(),xn)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}At(e,t),e.getDefaultOptions=function(){return es},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ss},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(ns(t,e))}}(Ze);var us={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Ql={},Ql.$$mappingValue$$={min:0,max:1,nice:!1},Ql),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function cs(t,e,n){var i=n.yField,r=n.maxSize,o=n.minSize,a=c(vt(e,i),[i]),l=w(r)?r:1,s=w(o)?o:0;return W(t,(function(e,n){var r=(e[i]||0)/a;return e.$$percentage$$=r,e.$$mappingValue$$=(l-s)*r+s,e.$$conversion$$=[c(t,[n-1,i]),e[i]],e}))}function fs(t){return function(e){var n=e.chart,i=e.options.conversionTag,r=n.getOptions().data;if(i){var o=i.formatter;r.forEach((function(e,a){if(!(a<=0||Number.isNaN(e.$$mappingValue$$))){var l=t(e,a,r,{top:!0,text:{content:m(o)?o(e,r):o,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:kt({textAlign:"start",textBaseline:"middle"},i.style)}});n.annotation().line(l)}}))}return e}}function ds(t){var e=t.chart,n=t.options,i=n.data,r=void 0===i?[]:i,o=cs(r,r,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(o),t}function ps(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.color,a=n.tooltip,l=n.label,s=n.shape,u=void 0===s?"funnel":s,c=n.funnelStyle,f=n.state,d=An(a,[i,r]),p=d.fields,h=d.formatter;return Dn({chart:e,options:{type:"interval",xField:i,yField:"$$mappingValue$$",colorField:i,tooltipFields:S(p)&&p.concat(["$$percentage$$","$$conversion$$"]),mapping:{shape:u,tooltip:h,color:o,style:c},label:l,state:f}}),Jt(t.chart,"interval").adjust("symmetric"),t}function hs(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function gs(t){var e=t.options.maxSize;return fs((function(t,n,i,r){var o=e-(e-t.$$mappingValue$$)/2;return kt(kt({},r),{start:[n-.5,o],end:[n-.5,o+.05]})}))(t),t}function vs(t){return Ht(ds,ps,hs,gs)(t)}function ys(t){var e,n=t.chart,i=t.options,r=i.data,o=void 0===r?[]:r,a=i.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function ms(t){var e=t.chart,n=t.options,i=n.data,r=n.xField,o=n.yField,a=n.color,l=n.compareField,s=n.isTransposed,u=n.tooltip,c=n.maxSize,f=n.minSize,d=n.label,p=n.funnelStyle,h=n.state;return e.facet("mirror",{fields:[l],transpose:!s,padding:s?0:[32,0,0,0],eachView:function(t,e){var n=s?e.rowIndex:e.columnIndex;s||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var g=cs(e.data,i,{yField:o,maxSize:c,minSize:f});t.data(g);var v=An(u,[r,o,l]),y=v.fields,m=v.formatter,x=s?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};Dn({chart:t,options:{type:"interval",xField:r,yField:"$$mappingValue$$",colorField:r,tooltipFields:S(y)&&y.concat(["$$percentage$$","$$conversion$$"]),mapping:{shape:"funnel",tooltip:m,color:a,style:p},label:!1!==d&&fe({},x,d),state:h}})}}),t}function xs(t){var e=t.chart,n=t.options,i=n.conversionTag,r=n.isTransposed;return e.once("beforepaint",(function(){e.views.forEach((function(t,e){fs((function(t,n,o,a){var l=0===e?-1:1;return fe({},a,{start:[n-.5,t.$$mappingValue$$],end:[n-.5,t.$$mappingValue$$+.05],text:r?{style:{textAlign:"start"}}:{offsetX:!1!==i?l*i.offsetX:0,style:{textAlign:0===e?"end":"start"}}})}))(fe({},{chart:t,options:n}))}))})),t}function bs(t){var e,n=t.chart,i=t.options,r=i.data,o=void 0===r?[]:r,a=i.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function ws(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.isTransposed;return e.facet("rect",{fields:[i],padding:[r?0:32,10,0,10],eachView:function(e,n){vs(fe({},t,{chart:e,options:{data:n.data}}))}}),t}function Fs(t){var e=t.chart,n=t.options,i=n.data,r=void 0===i?[]:i,o=n.yField,a=u(r,(function(t,e){return t+(e[o]||0)}),0),l=vt(r,o)[o],s=W(r,(function(t,e){var n=[],i=[];if(t.$$totalPercentage$$=(t[o]||0)/a,e){var s=r[e-1].$$x$$,u=r[e-1].$$y$$;n[0]=s[3],i[0]=u[3],n[1]=s[2],i[1]=u[2]}else n[0]=-.5,i[0]=1,n[1]=.5,i[1]=1;return i[2]=i[1]-t.$$totalPercentage$$,n[2]=(i[2]+1)/4,i[3]=i[2],n[3]=-n[2],t.$$x$$=n,t.$$y$$=i,t.$$percentage$$=(t[o]||0)/l,t.$$conversion$$=[c(r,[e-1,o]),t[o]],t}));return e.data(s),t}function ks(t){var e=t.chart,n=t.options,i=n.xField,r=n.yField,o=n.color,a=n.tooltip,l=n.label,s=n.funnelStyle,u=n.state,c=An(a,[i,r]),f=c.fields,d=c.formatter;return Dn({chart:e,options:{type:"polygon",xField:"$$x$$",yField:"$$y$$",colorField:i,tooltipFields:S(f)&&f.concat(["$$percentage$$","$$conversion$$"]),label:l,state:u,mapping:{tooltip:d,color:o,style:s}}}),t}function As(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function Ss(t){return fs((function(t,e,n,i){return kt(kt({},i),{start:[t.$$x$$[1],t.$$y$$[1]],end:[t.$$x$$[1]+.05,t.$$y$$[1]]})}))(t),t}function Ms(t){var e,n=t.options,i=n.compareField,r=n.xField,o=n.yField,a=n.locale,l=n.funnelStyle,s=n.data,u=Oe(a);return(i||l)&&(e=function(t){return fe({},i&&{lineWidth:1,stroke:"#fff"},m(l)?l(t):l)}),fe({options:{label:i?{fields:[r,o,i,"$$percentage$$","$$conversion$$"],formatter:function(t){return""+t[o]}}:{fields:[r,o,"$$percentage$$","$$conversion$$"],offset:0,position:"middle",formatter:function(t){return t[r]+" "+t[o]}},tooltip:{title:r,formatter:function(t){return{name:t[r],value:t[o]}}},conversionTag:{formatter:function(t){return u.get(["conversionTag","label"])+": "+Qn.apply(void 0,t.$$conversion$$)}}}},t,{options:{funnelStyle:e,data:nt(s)}})}function Ds(t){var e=t.options,n=e.compareField,i=e.dynamicHeight;return e.seriesField?function(t){return Ht(bs,ws)(t)}(t):n?function(t){return Ht(ys,ms,xs)(t)}(t):i?function(t){return Ht(Fs,ks,As,Ss)(t)}(t):vs(t)}function Os(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return Ht(wn(((e={})[o]=i,e[a]=r,e)))(t)}function Es(t){return t.chart.axis(!1),t}function $s(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function zs(t){return Ht(Ms,Ds,Os,Es,hn,gn,$s,vn,yn,Fn())(t)}var Cs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return At(e,t),e.getDefaultOptions=function(){return us},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return zs},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=te(this.chart);b(i,(function(i){e(i.getData())&&i.setState(t,n)}))},e.prototype.getStates=function(){var t=te(this.chart),e=[];return b(t,(function(t){var n=t.getData(),i=t.getStates();b(i,(function(i){e.push({data:n,state:i,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD="$$conversion$$",e.PERCENT_FIELD="$$percentage$$",e.TOTAL_PERCENT_FIELD="$$totalPercentage$$",e}(Ze);function Ps(t){return[{percent:t,type:"liquid"}]}function Is(t){var e=t.chart,n=t.options,i=n.percent,r=n.liquidStyle,o=n.radius,a=n.outline,l=n.wave,s=n.shape;e.scale({percent:{min:0,max:1}}),e.data(Ps(i));var u=n.color||e.getTheme().defaultColor,c=zn(fe({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:u,style:r,shape:"liquid-fill-gauge"}}})).ext.geometry,f={radius:o,outline:a,wave:l,shape:s,background:e.getTheme().background};return c.customInfo(f),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function Rs(t,e){var n=t.chart,i=t.options,r=i.statistic,o=i.percent,a=i.meta;n.getController("annotation").clear(!0);var l=c(a,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},s=r.content;return s&&(s=fe({},s,{content:$(s.content)?l(o):s.content})),ve(n,{statistic:kt(kt({},r),{content:s}),plotType:"liquid"},{percent:o}),e&&n.render(!0),t}function Ts(t){return Ht(yn,dn("liquidStyle"),Is,Rs,wn({}),vn,gn)(t)}var _s={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function Bs(t,e,n){return t+(e-t)*n}function Ws(t,e,n,i){return 0===e?[[t+.5*n/Math.PI/2,i/2],[t+.5*n/Math.PI,i],[t+n/4,i]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),i],[t+.5*n/Math.PI/2*(Math.PI-1),i/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-i/2],[t+.5*n/Math.PI,-i],[t+n/4,-i]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-i],[t+.5*n/Math.PI/2*(Math.PI-1),-i/2],[t+n/4,0]]}function Ls(t,e,n,i,r,o,a){for(var l=4*Math.ceil(2*t/n*4),s=[],u=i;u<2*-Math.PI;)u+=2*Math.PI;for(;u>0;)u-=2*Math.PI;var c=o-t+(u=u/Math.PI/2*n)-2*t;s.push(["M",c,e]);for(var f=0,d=0;d<l;++d){var p=Ws(d*n/4,d%4,n,r);s.push(["C",p[0][0]+c,-p[0][1]+e,p[1][0]+c,-p[1][1]+e,p[2][0]+c,-p[2][1]+e]),d===l-1&&(f=p[2][0])}return s.push(["L",f+c,a+t]),s.push(["L",c,a+t]),s.push(["Z"]),s}function Ns(t,e,n,i){var r=2*n/3,o=Math.max(r,i),a=r/2,l=t,s=a+e-o/2,u=Math.asin(a/(.85*(o-a))),c=Math.sin(u)*a,f=Math.cos(u)*a,d=l-f,p=s+c,h=t,g=s+a/Math.sin(u);return"\n      M "+d+" "+p+"\n      A "+a+" "+a+" 0 1 1 "+(d+2*f)+" "+p+"\n      Q "+h+" "+g+" "+t+" "+(e+o/2)+"\n      Q "+h+" "+g+" "+d+" "+p+"\n      Z \n    "}function js(t,e,n,i){var r=n/2,o=i/2;return"\n      M "+t+" "+(e-o)+" \n      a "+r+" "+o+" 0 1 0 0 "+2*o+"\n      a "+r+" "+o+" 0 1 0 0 "+2*-o+"\n      Z\n    "}function Vs(t,e,n,i){var r=i/2,o=n/2;return"\n      M "+t+" "+(e-r)+"\n      L "+(t+o)+" "+e+"\n      L "+t+" "+(e+r)+"\n      L "+(t-o)+" "+e+"\n      Z\n    "}function Gs(t,e,n,i){var r=i/2,o=n/2;return"\n      M "+t+" "+(e-r)+"\n      L "+(t+o)+" "+(e+r)+"\n      L "+(t-o)+" "+(e+r)+"\n      Z\n    "}function qs(t,e,n,i){var r=i/2,o=n/2*.618;return"\n      M "+(t-o)+" "+(e-r)+"\n      L "+(t+o)+" "+(e-r)+"\n      L "+(t+o)+" "+(e+r)+"\n      L "+(t-o)+" "+(e+r)+"\n      Z\n    "}U("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,i=n,r=i.radius,o=i.shape,a=i.background,l=n.outline,s=n.wave,c=l.border,f=l.distance,d=s.count,p=s.length,h=u(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),g=this.parsePoint({x:.5,y:.5}),v=this.parsePoint({x:h,y:.5}),y=g.x-v.x,m=Math.min(y,v.y*r),x=function(t){var e=kt({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),b=function(t){var e=X({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),w(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}(X({},t,l)),F=m-c/2,k={pin:Ns,circle:js,diamond:Vs,triangle:Gs,rect:qs},A=("function"==typeof o?o:k[o]||k.circle)(g.x,g.y,2*F,2*F),S=e.addGroup({name:"waves"}),M=S.setClip({type:"path",attrs:{path:A}});return function(t,e,n,i,r,o,a,l,s){for(var u=r.fill,c=r.opacity,f=a.getBBox(),d=f.maxX-f.minX,p=f.maxY-f.minY,h=0;h<i;h++){var g=i<=1?0:h/(i-1),v=o.addShape("path",{name:"waterwave-path",attrs:{path:Ls(l,f.minY+p*n,s,0,d/32,t,e),fill:u,opacity:Bs(.2,.9,g)*c}});try{var y=Ci([["t",s,0]]);v.stopAnimate(),v.animate({matrix:y},{duration:Bs(2500,5e3,g),repeat:!0})}catch(m){console.warn("off-screen group animate error!")}}}(g.x,g.y,1-t.points[1].y,d,x,S,M,2*m,p),e.addShape("path",{name:"distance",attrs:{path:A,fill:"transparent",lineWidth:c+2*f,stroke:"transparent"===a?"#fff":a}}),e.addShape("path",{name:"wrap",attrs:X(b,{path:A,fill:"transparent",lineWidth:c})}),e}});var Hs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}return At(e,t),e.getDefaultOptions=function(){return _s},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(H.BEFORE_CHANGE_DATA,Y.fromData(this.chart,H.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Ps(t)),Rs({chart:this.chart,options:this.options},!0),this.chart.emit(H.AFTER_CHANGE_DATA,Y.fromData(this.chart,H.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return Ts},e}(Ze);function Ys(t){var e=t.data,n=t.xField,i=t.measureField,r=t.rangeField,o=t.targetField,a=t.layout,l=[],s=[];e.forEach((function(t,e){var a;t[r].sort((function(t,e){return t-e})),t[r].forEach((function(i,o){var a,s=0===o?i:t[r][o]-t[r][o-1];l.push(((a={rKey:r+"_"+o})[n]=n?t[n]:String(e),a[r]=s,a))})),t[i].forEach((function(r,o){var a;l.push(((a={mKey:t[i].length>1?i+"_"+o:""+i})[n]=n?t[n]:String(e),a[i]=r,a))})),l.push(((a={tKey:""+o})[n]=n?t[n]:String(e),a[o]=t[o],a)),s.push(t[r],t[i],t[o])}));var u=Math.min.apply(Math,s.flat(1/0)),c=Math.max.apply(Math,s.flat(1/0));return u=u>0?0:u,"vertical"===a&&l.reverse(),{min:u,max:c,ds:l}}function Xs(t){var e=t.chart,n=t.options,i=n.bulletStyle,r=n.targetField,o=n.rangeField,a=n.measureField,l=n.xField,s=n.color,u=n.layout,f=n.size,d=n.label,p=Ys(n),h=p.min,g=p.max,v=p.ds;return e.data(v),zn(fe({},t,{options:{xField:l,yField:o,seriesField:"rKey",isStack:!0,label:c(d,"range"),interval:{color:c(s,"range"),style:c(i,"range"),size:c(f,"range")}}})),e.geometries[0].tooltip(!1),zn(fe({},t,{options:{xField:l,yField:a,seriesField:"mKey",isStack:!0,label:c(d,"measure"),interval:{color:c(s,"measure"),style:c(i,"measure"),size:c(f,"measure")}}})),$n(fe({},t,{options:{xField:l,yField:r,seriesField:"tKey",label:c(d,"target"),point:{color:c(s,"target"),style:c(i,"target"),size:m(c(f,"target"))?function(t){return c(f,"target")(t)/2}:c(f,"target")/2,shape:"horizontal"===u?"line":"hyphen"}}})),"horizontal"===u&&e.coordinate().transpose(),kt(kt({},t),{ext:{data:{min:h,max:g}}})}function Us(t){var e,n,i=t.options,r=t.ext,o=i.xAxis,a=i.yAxis,l=i.targetField,s=i.rangeField,u=i.measureField,c=i.xField,f=r.data;return Ht(wn(((e={})[c]=o,e[u]=a,e),((n={})[u]={min:null==f?void 0:f.min,max:null==f?void 0:f.max,sync:!0},n[l]={sync:""+u},n[s]={sync:""+u},n)))(t)}function Zs(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.measureField,l=n.rangeField,s=n.targetField;return e.axis(""+l,!1),e.axis(""+s,!1),!1===i?e.axis(""+o,!1):e.axis(""+o,i),!1===r?e.axis(""+a,!1):e.axis(""+a,r),t}function Ks(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function Js(t){var e=t.chart,n=t.options,i=n.label,r=n.measureField,o=n.targetField,a=n.rangeField,l=e.geometries,s=l[0],u=l[1],f=l[2];return c(i,"range")?s.label(""+a,kt({layout:[{type:"limit-in-plot"}]},re(i.range))):s.label(!1),c(i,"measure")?u.label(""+r,kt({layout:[{type:"limit-in-plot"}]},re(i.measure))):u.label(!1),c(i,"target")?f.label(""+o,kt({layout:[{type:"limit-in-plot"}]},re(i.target))):f.label(!1),t}function Qs(t){Ht(Xs,Us,Zs,Ks,yn,Js,hn,gn,vn)(t)}var tu=fe({},Ze.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}At(e,t),e.getDefaultOptions=function(){return tu},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Ys(this.options),n=e.min,i=e.max,r=e.ds;Us({options:this.options,ext:{data:{min:n,max:i}},chart:this.chart}),this.chart.changeData(r)},e.prototype.getSchemaAdaptor=function(){return Qs},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ze);function eu(t,e){var n=t.field,i=t.fields;if(x(n))return n;if(S(n))return console.warn("Invalid field: it must be a string!"),n[0];if(console.warn("Invalid field: it must be a string! will try to get fields instead."),x(i))return i;if(S(i)&&i.length)return i[0];if(e)return e;throw new TypeError("Invalid field: it must be a string!")}function nu(t){var e,n,i=[];t&&t.each?t.each((function(t){var r,o;t.parent!==e?(e=t.parent,n=0):n+=1;var a=A(((null===(r=t.ancestors)||void 0===r?void 0:r.call(t))||[]).map((function(t){return i.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t.nodeAncestor=a,t.childNodeCount=(null===(o=t.children)||void 0===o?void 0:o.length)||0,t.nodeIndex=n,i.push(t)})):t&&t.eachNode&&t.eachNode((function(t){i.push(t)}));return i}var iu=["path","nodeIndex","nodeAncestor","childNodeCount","name","depth","height"],ru=fe({},Ze.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),ou={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},au=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=ou,e}return At(e,t),e.prototype.click=function(){var t=c(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),i=this.getButtonCfg().position,r={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(r={x:0,y:0}),"bottom-left"===i&&(r={x:t.start.x,y:t.start.y});var o=O.transform(null,[["t",r.x+0,r.y+n.height+5]]);e.setMatrix(o)}},e.prototype.back=function(){Q(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=c(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),i=n(kt({data:t.data},t["hierarchy-data-transform-params"]));e.changeData(i);for(var r=[],o=t;o;){var a=o.data;r.unshift({id:a.name+"_"+o.height+"_"+o.depth,name:a.name,children:n(kt({data:a},t["hierarchy-data-transform-params"]))}),o=o.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(r)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=yt(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=c(t,["interactions","drill-down","cfg","drillDownConfig"]);return fe(this.breadCrumbCfg,null==e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:"drilldown-bread-crumb"});var i=0;n.forEach((function(r,o){var a=t.breadCrumbGroup.addShape({type:"text",id:r.id,name:"drilldown-bread-crumb_"+r.name+"_text",attrs:kt(kt({text:0!==o||$(e.rootText)?r.name:e.rootText},e.textStyle),{x:i,y:0})}),l=a.getBBox();if(i+=l.width+4,a.on("click",(function(e){var i,r=e.target.get("id");if(r!==(null===(i=yt(n))||void 0===i?void 0:i.id)){var o=n.slice(0,n.findIndex((function(t){return t.id===r}))+1);t.backTo(o)}})),a.on("mouseenter",(function(t){var i;t.target.get("id")!==(null===(i=yt(n))||void 0===i?void 0:i.id)?a.attr(e.activeTextStyle):a.attr({cursor:"default"})})),a.on("mouseleave",(function(){a.attr(e.textStyle)})),o<n.length-1){var s=t.breadCrumbGroup.addShape({type:"text",name:e.name+"_"+r.name+"_divider",attrs:kt(kt({text:e.dividerText},e.textStyle),{x:i,y:0})}).getBBox();i+=s.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(T);function lu(t,e){return t.parent===e.parent?1:2}function su(t,e){return t+e.x}function uu(t,e){return Math.max(t,e.y)}function cu(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function fu(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=pu)):void 0===e&&(e=du);for(var n,i,r,o,a,l=new vu(t),s=[l];n=s.pop();)if((r=e(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,o=a-1;o>=0;--o)s.push(i=r[o]=new vu(r[o])),i.parent=n,i.depth=n.depth+1;return l.eachBefore(gu)}function du(t){return t.children}function pu(t){return Array.isArray(t)?t[1]:null}function hu(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function gu(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function vu(t){this.data=t,this.depth=this.height=0,this.parent=null}function yu(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];i<r;)e=t[i],n&&bu(n,e)?++i:(n=Fu(o=mu(o,e)),i=0);return n}function mu(t,e){var n,i;if(wu(e,t))return[e];for(n=0;n<t.length;++n)if(xu(e,t[n])&&wu(ku(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(xu(ku(t[n],t[i]),e)&&xu(ku(t[n],e),t[i])&&xu(ku(t[i],e),t[n])&&wu(Au(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function xu(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function bu(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function wu(t,e){for(var n=0;n<e.length;++n)if(!bu(t,e[n]))return!1;return!0}function Fu(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return ku(t[0],t[1]);case 3:return Au(t[0],t[1],t[2])}var e}function ku(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,l=e.r,s=o-n,u=a-i,c=l-r,f=Math.sqrt(s*s+u*u);return{x:(n+o+s/f*c)/2,y:(i+a+u/f*c)/2,r:(f+r+l)/2}}function Au(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,l=e.y,s=e.r,u=n.x,c=n.y,f=n.r,d=i-a,p=i-u,h=r-l,g=r-c,v=s-o,y=f-o,m=i*i+r*r-o*o,x=m-a*a-l*l+s*s,b=m-u*u-c*c+f*f,w=p*h-d*g,F=(h*b-g*x)/(2*w)-i,k=(g*v-h*y)/w,A=(p*x-d*b)/(2*w)-r,S=(d*y-p*v)/w,M=k*k+S*S-1,D=2*(o+F*k+A*S),O=F*F+A*A-o*o,E=-(M?(D+Math.sqrt(D*D-4*M*O))/(2*M):O/D);return{x:i+F+k*E,y:r+A+S*E,r:E}}function Su(t,e,n){var i,r,o,a,l=t.x-e.x,s=t.y-e.y,u=l*l+s*s;u?(r=e.r+n.r,r*=r,a=t.r+n.r,r>(a*=a)?(i=(u+a-r)/(2*u),o=Math.sqrt(Math.max(0,a/u-i*i)),n.x=t.x-i*l-o*s,n.y=t.y-i*s+o*l):(i=(u+r-a)/(2*u),o=Math.sqrt(Math.max(0,r/u-i*i)),n.x=e.x+i*l-o*s,n.y=e.y+i*s+o*l)):(n.x=e.x+n.r,n.y=e.y)}function Mu(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Du(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Ou(t){this._=t,this.next=null,this.previous=null}function Eu(t){if(!(o=(e=t,t="object"==typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,n,i,r,o,a,l,s,u,c,f,d;if((n=t[0]).x=0,n.y=0,!(o>1))return n.r;if(i=t[1],n.x=-i.r,i.x=n.r,i.y=0,!(o>2))return n.r+i.r;Su(i,n,r=t[2]),n=new Ou(n),i=new Ou(i),r=new Ou(r),n.next=r.previous=i,i.next=n.previous=r,r.next=i.previous=n;t:for(s=3;s<o;++s){Su(n._,i._,r=t[s]),r=new Ou(r),u=i.next,c=n.previous,f=i._.r,d=n._.r;do{if(f<=d){if(Mu(u._,r._)){i=u,n.next=i,i.previous=n,--s;continue t}f+=u._.r,u=u.next}else{if(Mu(c._,r._)){(n=c).next=i,i.previous=n,--s;continue t}d+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=n,r.next=i,n.next=i.previous=i=r,a=Du(n);(r=r.next)!==i;)(l=Du(r))<a&&(n=r,a=l);i=n.next}for(n=[i._],r=i;(r=r.next)!==i;)n.push(r._);for(r=yu(n),s=0;s<o;++s)(n=t[s]).x-=r.x,n.y-=r.y;return r.r}function $u(t){return null==t?null:zu(t)}function zu(t){if("function"!=typeof t)throw new Error;return t}function Cu(){return 0}function Pu(t){return function(){return t}}function Iu(t){return Math.sqrt(t.value)}function Ru(){var t=null,e=1,n=1,i=Cu;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(Tu(t)).eachAfter(_u(i,.5)).eachBefore(Bu(1)):r.eachBefore(Tu(Iu)).eachAfter(_u(Cu,1)).eachAfter(_u(i,r.r/Math.min(e,n))).eachBefore(Bu(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=$u(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:Pu(+t),r):i},r}function Tu(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function _u(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,l=t(n)*e||0;if(l)for(r=0;r<a;++r)i[r].r+=l;if(o=Eu(i),l)for(r=0;r<a;++r)i[r].r-=l;n.r=o+l}}}function Bu(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Wu(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Lu(t,e,n,i,r){for(var o,a=t.children,l=-1,s=a.length,u=t.value&&(i-e)/t.value;++l<s;)(o=a[l]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*u}function Nu(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&Lu(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,a=i.x1-n,l=i.y1-n;a<r&&(r=a=(r+a)/2),l<o&&(o=l=(o+l)/2),i.x0=r,i.y0=o,i.x1=a,i.y1=l}}(e,o)),i&&r.eachBefore(Wu),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r}vu.prototype=fu.prototype={constructor:vu,count:function(){return this.eachAfter(cu)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,o=this,a=[o],l=[],s=-1;o=a.pop();)if(l.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i]);for(;o=l.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],a=-1;r=o.pop();)if(t.call(e,r,++a,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return fu(this).eachBefore(hu)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}};var ju={depth:-1},Vu={};function Gu(t){return t.id}function qu(t){return t.parentId}function Hu(t,e){return t.parent===e.parent?1:2}function Yu(t){var e=t.children;return e?e[0]:t.t}function Xu(t){var e=t.children;return e?e[e.length-1]:t.t}function Uu(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Zu(t,e,n){return t.a.parent===e.parent?t.a:n}function Ku(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Ju(t,e,n,i,r){for(var o,a=t.children,l=-1,s=a.length,u=t.value&&(r-n)/t.value;++l<s;)(o=a[l]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*u}Ku.prototype=Object.create(vu.prototype);var Qu=(1+Math.sqrt(5))/2;function tc(t,e,n,i,r,o){for(var a,l,s,u,c,f,d,p,h,g,v,y=[],m=e.children,x=0,b=0,w=m.length,F=e.value;x<w;){s=r-n,u=o-i;do{c=m[b++].value}while(!c&&b<w);for(f=d=c,v=c*c*(g=Math.max(u/s,s/u)/(F*t)),h=Math.max(d/v,v/f);b<w;++b){if(c+=l=m[b].value,l<f&&(f=l),l>d&&(d=l),v=c*c*g,(p=Math.max(d/v,v/f))>h){c-=l;break}h=p}y.push(a={value:c,dice:s<u,children:m.slice(x,b)}),a.dice?Lu(a,n,i,r,F?i+=u*c/F:o):Ju(a,n,i,F?n+=s*c/F:r,o),F-=c,x=b}return y}var ec=function t(e){function n(t,n,i,r,o){tc(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Qu);function nc(){var t=ec,e=!1,n=1,i=1,r=[0],o=Cu,a=Cu,l=Cu,s=Cu,u=Cu;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(f),r=[0],e&&t.eachBefore(Wu),t}function f(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,f=e.x1-n,d=e.y1-n;f<i&&(i=f=(i+f)/2),d<c&&(c=d=(c+d)/2),e.x0=i,e.y0=c,e.x1=f,e.y1=d,e.children&&(n=r[e.depth+1]=o(e)/2,i+=u(e)-n,c+=a(e)-n,(f-=l(e)-n)<i&&(i=f=(i+f)/2),(d-=s(e)-n)<c&&(c=d=(c+d)/2),t(e,i,c,f,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=zu(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Pu(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Pu(+t),c):a},c.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:Pu(+t),c):l},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:Pu(+t),c):s},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:Pu(+t),c):u},c}var ic=function t(e){function n(t,n,i,r,o){if((a=t._squarify)&&a.ratio===e)for(var a,l,s,u,c,f=-1,d=a.length,p=t.value;++f<d;){for(s=(l=a[f]).children,u=l.value=0,c=s.length;u<c;++u)l.value+=s[u].value;l.dice?Lu(l,n,i,r,p?i+=(o-i)*l.value/p:o):Ju(l,n,i,p?n+=(r-n)*l.value/p:r,o),p-=l.value}else t._squarify=a=tc(e,t,n,i,r,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Qu),rc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",cluster:function(){var t=lu,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(su,0)/t.length}(n),e.y=function(t){return 1+t.reduce(uu,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var l=function(t){for(var e;e=t.children;)t=e[0];return t}(r),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),u=l.x-t(l,s)/2,c=s.x+t(s,l)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},hierarchy:fu,pack:Ru,packSiblings:function(t){return Eu(t),t},packEnclose:yu,partition:Nu,stratify:function(){var t=Gu,e=qu;function n(n){var i,r,o,a,l,s,u,c=Array.from(n),f=c.length,d=new Map;for(r=0;r<f;++r)i=c[r],l=c[r]=new vu(i),null!=(s=t(i,r,n))&&(s+="")&&(u=l.id=s,d.set(u,d.has(u)?Vu:l)),null!=(s=e(i,r,n))&&(s+="")&&(l.parent=s);for(r=0;r<f;++r)if(s=(l=c[r]).parent){if(!(a=d.get(s)))throw new Error("missing: "+s);if(a===Vu)throw new Error("ambiguous: "+s);a.children?a.children.push(l):a.children=[l],l.parent=a}else{if(o)throw new Error("multiple roots");o=l}if(!o)throw new Error("no root");if(o.parent=ju,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(gu),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=zu(e),n):t},n.parentId=function(t){return arguments.length?(e=zu(t),n):e},n},tree:function(){var t=Hu,e=1,n=1,i=null;function r(r){var s=function(t){for(var e,n,i,r,o,a=new Ku(t,0),l=[a];e=l.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)l.push(n=e.children[r]=new Ku(i[r],r)),n.parent=e;return(a.parent=new Ku(null,0)).children=[a],a}(r);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),i)r.eachBefore(l);else{var u=r,c=r,f=r;r.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var d=u===c?1:t(u,c)/2,p=d-u.x,h=e/(c.x+d+p),g=n/(f.depth||1);r.eachBefore((function(t){t.x=(t.x+p)*h,t.y=t.depth*g}))}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,a=e,l=n,s=o.parent.children[0],u=o.m,c=a.m,f=l.m,d=s.m;l=Xu(l),o=Yu(o),l&&o;)s=Yu(s),(a=Xu(a)).a=e,(r=l.z+f-o.z-u+t(l._,o._))>0&&(Uu(Zu(l,e,i),e,r),u+=r,c+=r),f+=l.m,u+=o.m,d+=s.m,c+=a.m;l&&!Xu(a)&&(a.t=l,a.m+=f-c),o&&!Yu(s)&&(s.t=o,s.m+=u-d,i=e)}return i}(e,r,e.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},treemap:nc,treemapBinary:function(t,e,n,i,r){var o,a,l=t.children,s=l.length,u=new Array(s+1);for(u[0]=a=o=0;o<s;++o)u[o+1]=a+=l[o].value;!function t(e,n,i,r,o,a,s){if(e>=n-1){var c=l[e];return c.x0=r,c.y0=o,c.x1=a,void(c.y1=s)}var f=u[e],d=i/2+f,p=e+1,h=n-1;for(;p<h;){var g=p+h>>>1;u[g]<d?p=g+1:h=g}d-u[p-1]<u[p]-d&&e+1<p&&--p;var v=u[p]-f,y=i-v;if(a-r>s-o){var m=i?(r*y+a*v)/i:a;t(e,p,v,r,o,m,s),t(p,n,y,m,o,a,s)}else{var x=i?(o*y+s*v)/i:s;t(e,p,v,r,o,a,x),t(p,n,y,r,x,a,s)}}(0,s,t.value,e,n,i,r)},treemapDice:Lu,treemapSlice:Ju,treemapSliceDice:function(t,e,n,i,r){(1&t.depth?Ju:Lu)(t,e,n,i,r)},treemapSquarify:ec,treemapResquarify:ic}),oc={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function ac(t,e){var n,i=(e=X({},oc,e)).as;if(!S(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=eu(e)}catch(s){console.warn(s)}var r,o=(r=t,Nu().size(e.size).round(e.round).padding(e.padding)(fu(r).sum((function(t){return Q(t.children)?e.ignoreParentValue?0:t[n]-u(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))),a=i[0],l=i[1];return o.each((function(t){var e,n;t[a]=[t.x0,t.x1,t.x1,t.x0],t[l]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===i.indexOf(e)&&delete t[e]}))})),nu(o)}var lc,sc={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function uc(t,e){var n,i=(e=X({},sc,e)).as;if(!S(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=eu(e)}catch(f){console.warn(f)}var r,o,a,l=(r=e.tile,o=e.ratio,"treemapSquarify"===r?rc[r].ratio(o):rc[r]),s=(a=t,nc().tile(l).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(fu(a).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))),u=i[0],c=i[1];return s.each((function(t){t[u]=[t.x0,t.x1,t.x1,t.x0],t[c]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===i.indexOf(e)&&delete t[e]}))})),nu(s)}function cc(t){var e=t.data,n=t.colorField,i=t.rawFields,r=t.hierarchyConfig,o=void 0===r?{}:r,a=o.activeDepth,l={partition:ac,treemap:uc},s=t.seriesField,u=t.type||"partition",c=l[u](e,kt(kt({field:s||"value"},L(o,["activeDepth"])),{type:"hierarchy."+u,as:["x","y"]})),f=[];return c.forEach((function(t){var e,r,l,u,c,d;if(0===t.depth)return null;if(a>0&&t.depth>a)return null;for(var p=t.data.name,h=kt({},t);h.depth>1;)p=(null===(r=h.parent.data)||void 0===r?void 0:r.name)+" / "+p,h=h.parent;var g=kt(kt(kt({},Yt(t.data,Ft(i||[],[o.field]))),((e={}).path=p,e["ancestor-node"]=h.data.name,e)),t);s&&(g[s]=t.data[s]||(null===(u=null===(l=t.parent)||void 0===l?void 0:l.data)||void 0===u?void 0:u[s])),n&&(g[n]=t.data[n]||(null===(d=null===(c=t.parent)||void 0===c?void 0:c.data)||void 0===d?void 0:d[n])),g.ext=o,g["hierarchy-data-transform-params"]={hierarchyConfig:o,colorField:n,rawFields:i},f.push(g)})),f}function fc(t){var e,n=t.chart,i=t.options,r=i.color,o=i.colorField,a=void 0===o?"ancestor-node":o,l=i.sunburstStyle,s=i.rawFields,u=void 0===s?[]:s,c=cc(i);return n.data(c),l&&(e=function(t){return fe({},{fillOpacity:Math.pow(.85,t.depth)},m(l)?l(t):l)}),Cn(fe({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:C(Ft(iu,u)),polygon:{color:r,style:e}}})),t}function dc(t){return t.chart.axis(!1),t}function pc(t){var e=t.chart,n=t.options.label,i=Jt(e,"polygon");if(n){var r=n.fields,o=void 0===r?["name"]:r,a=n.callback,l=St(n,["fields","callback"]);i.label({fields:o,callback:a,cfg:re(l)})}else i.label(!1);return t}function hc(t){var e=t.chart,n=t.options,i=n.innerRadius,r=n.radius,o=n.reflect,a=e.coordinate({type:"polar",cfg:{innerRadius:i,radius:r}});return o&&a.reflect(o),t}function gc(t){var e,n=t.options,i=n.hierarchyConfig,r=n.meta;return Ht(wn({},((e={}).value=c(r,c(i,["field"],"value")),e)))(t)}function vc(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var i=n;c(n,"fields")||(i=fe({},{customItems:function(t){return t.map((function(t){var n=c(e.getOptions(),"scales"),i=c(n,["path","formatter"],(function(t){return t})),r=c(n,["value","formatter"],(function(t){return t}));return kt(kt({},t),{name:i(t.data.path),value:r(t.data.value)})}))}},i)),e.tooltip(i)}return t}function yc(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return(null==e?void 0:e.enabled)?fe({},t,{interactions:Ft(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:cc}}])}):t}function mc(t){var e=t.chart,n=t.options,i=n.drilldown;return gn({chart:e,options:yc(n)}),(null==i?void 0:i.enabled)&&(e.appendPadding=ke(e.appendPadding,c(i,["breadCrumb","position"]))),t}function xc(t){return Ht(yn,dn("sunburstStyle"),fc,dc,gc,pn,hc,vc,pc,mc,vn,Fn())(t)}function bc(t){var e=c(t,["event","data","data"],{});return S(e.children)&&e.children.length>0}function wc(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var i=t.event,r=i.x,o=i.y,a=e.center,l=a.x,s=a.y,u=e.getRadius()*n;return Math.sqrt(Math.pow(l-r,2)+Math.pow(s-o,2))<u}return!1}_("drill-down-action",au),B("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:bc},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:wc}],start:[{trigger:"element:click",isEnable:bc,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:wc,action:["drill-down-action:back"]}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}At(e,t),e.getDefaultOptions=function(){return ru},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xc},e.SUNBURST_ANCESTOR_FIELD="ancestor-node",e.SUNBURST_PATH_FIELD="path",e.NODE_ANCESTORS_FIELD="nodeAncestor"}(Ze);var Fc={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(lc={},lc.range={sync:"v"},lc.percent={sync:"v",tickCount:5,tickInterval:.2},lc),animation:!1};function kc(t){var e;return[(e={},e.percent=lt(t,0,1),e)]}function Ac(t,e){var n=c(e,["ticks"],[]);return function(t,e){return t.map((function(n,i){var r;return(r={}).range=n-(t[i-1]||0),r.type=""+i,r.percent=e,r})).filter((function(t){return!!t.range}))}(Q(n)?n:[0,lt(t,0,1),1],t)}function Sc(t){var e=t.chart,n=t.options,i=n.percent,r=n.range,o=n.radius,a=n.innerRadius,l=n.startAngle,s=n.endAngle,u=n.axis,c=n.indicator,f=n.gaugeStyle,d=n.type,p=n.meter,h=r.color,g=r.width;if(c){var v=kc(i),y=e.createView({id:"indicator-view"});y.data(v),y.point().position("percent*1").shape(c.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),y.coordinate("polar",{startAngle:l,endAngle:s,radius:a*o}),y.axis("percent",u),y.scale("percent",Yt(u,Ke))}var m=Ac(i,n.range),b=e.createView({id:"range-view"});return b.data(m),zn({chart:b,options:{xField:"1",yField:"range",seriesField:"type",rawFields:["percent"],isStack:!0,interval:{color:x(h)?[h,"#f0f0f0"]:h,style:f,shape:"meter"===d?"meter-gauge":null},args:{zIndexReversed:!0},minColumnWidth:g,maxColumnWidth:g}}).ext.geometry.customInfo({meter:p}),b.coordinate("polar",{innerRadius:a,radius:o,startAngle:l,endAngle:s}).transpose(),t}function Mc(t){var e;return Ht(wn(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}}).percent={},e)))(t)}function Dc(t,e){var n=t.chart,i=t.options,r=i.statistic,o=i.percent;if(n.getController("annotation").clear(!0),r){var a=r.content,l=void 0;a&&(l=fe({},{content:(100*o).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},a)),function(t,e,n){var i=e.statistic;[i.title,i.content].forEach((function(e){if(e){var i=m(e.style)?e.style(n):e.style;t.annotation().html(kt({position:["50%","100%"],html:function(t,r){var o=r.getCoordinate(),a=r.views[0].getCoordinate(),l=a.getCenter(),s=a.getRadius(),u=Math.max(Math.sin(a.startAngle),Math.sin(a.endAngle))*s,f=l.y+u-o.y.start-parseFloat(c(i,"fontSize",0)),d=o.getRadius()*o.innerRadius*2;he(t,kt({width:d+"px",transform:"translate(-50%, "+f+"px)"},pe(i)));var p=r.getData();if(e.customHtml)return e.customHtml(t,r,n,p);var h=e.content;return e.formatter&&(h=e.formatter(n,p)),h?x(h)?h:""+h:"<div></div>"}},Yt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))}(n,{statistic:kt(kt({},r),{content:l})},{percent:o})}return e&&n.render(!0),t}function Oc(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}function Ec(t){return Ht(yn,vn,Sc,Mc,Dc,gn,Fn(),Oc)(t)}U("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,i=n.indicator,r=n.defaultColor,o=i,a=o.pointer,l=o.pin,s=e.addGroup(),u=this.parsePoint({x:0,y:0});return a&&s.addShape("line",{name:"pointer",attrs:kt({x1:u.x,y1:u.y,x2:t.x,y2:t.y,stroke:r},a.style)}),l&&s.addShape("circle",{name:"pin",attrs:kt({x:u.x,y:u.y,stroke:r},l.style)}),s}}),U("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,i=void 0===n?{}:n,r=i.steps,o=void 0===r?50:r,a=i.stepRatio,l=void 0===a?.5:a;o=o<1?1:o,l=lt(l,0,1);var s=this.coordinate,u=s.startAngle,c=s.endAngle,f=0;l>0&&l<1&&(f=(c-u)/o/(l/(1-l)+1-1/o));for(var d=f/(1-l)*l,p=e.addGroup(),h=this.coordinate.getCenter(),g=this.coordinate.getRadius(),v=O.getAngle(t,this.coordinate),y=v.startAngle,m=v.endAngle,x=y;x<m;){var b=void 0,w=(x-u)%(d+f);b=w<d?x+(d-w):(x+=d+f-w)+d;var F=O.getSectorPath(h.x,h.y,g,x,Math.min(b,m),g*this.coordinate.innerRadius);p.addShape("path",{name:"meter-gauge",attrs:{path:F,fill:t.color,stroke:t.color,lineWidth:.5}}),x=b+f}return p}});var $c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return At(e,t),e.getDefaultOptions=function(){return Fc},e.prototype.changeData=function(t){this.chart.emit(H.BEFORE_CHANGE_DATA,Y.fromData(this.chart,H.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return"indicator-view"===t.id}));e&&e.data(kc(t));var n=this.chart.views.find((function(t){return"range-view"===t.id}));n&&n.data(Ac(t,this.options.range)),Dc({chart:this.chart,options:this.options},!0),this.chart.emit(H.AFTER_CHANGE_DATA,Y.fromData(this.chart,H.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ec},e}(Ze),zc="$$yField$$",Cc={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function Pc(e,n,i,r){var o=function(e,n,i,r,o){var a,l=[];if(u(e,(function(e,n){var o;Zt(t.WARN,w(n[i]),n[i]+" is not a valid number");var a=mt(n[i])?null:n[i];return l.push(kt(kt({},n),((o={})[r]=[e,e+a],o))),e+a}),0),l.length&&o){var s=c(l,[[e.length-1],r,[1]]);l.push(((a={})[n]=o.label,a[i]=s,a[r]=[0,s],a))}return l}(e,n,i,zc,r);return o.map((function(t,n){var i;return E(t)?kt(kt({},t),((i={}).$$absoluteField$$=t.$$yField$$[1],i.$$diffField$$=t.$$yField$$[1]-t.$$yField$$[0],i.$$isTotal$$=n===e.length,i)):t}))}function Ic(t){var e=t.options,n=e.locale,i=e.total,r=Oe(n).get(["waterfall","total"]);return i&&"string"!=typeof i.label&&r&&(t.options.total.label=r),t}function Rc(t){var e=t.chart,n=t.options,i=n.data,r=n.xField,o=n.yField,a=n.total,l=n.leaderLine,s=n.columnWidthRatio,u=n.waterfallStyle,f=n.risingFill,d=n.fallingFill,p=n.color;return e.data(Pc(i,r,o,a)),zn(fe({},t,{options:{xField:r,yField:zc,seriesField:r,rawFields:[o,"$$diffField$$","$$isTotal$$",zc],widthRatio:s,interval:{style:u,shape:"waterfall",color:p||function(t){return c(t,["$$isTotal$$"])?c(a,["style","fill"],""):c(t,[zc,1])-c(t,[zc,0])>0?f:d}}}})).ext.geometry.customInfo({leaderLine:l}),t}function Tc(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,a=i.xField,l=i.yField,s=i.meta,u=fe({},{alias:l},c(s,l));return Ht(wn(((e={})[a]=r,e[l]=o,e.$$yField$$=o,e),fe({},s,((n={}).$$yField$$=u,n.$$diffField$$=u,n.$$absoluteField$$=u,n))))(t)}function _c(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField;return!1===i?e.axis(o,!1):e.axis(o,i),!1===r?(e.axis(a,!1),e.axis(zc,!1)):(e.axis(a,r),e.axis(zc,r)),t}function Bc(t){var e=t.chart,n=t.options,i=n.legend,r=n.total,o=n.risingFill,a=n.fallingFill,l=Oe(n.locale);if(!1===i)e.legend(!1);else{var s=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:o}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:a}}}];r&&s.push({name:r.label||"",value:"total",marker:{symbol:"square",style:fe({},{r:5},c(r,"style"))}}),e.legend(fe({},{custom:!0,position:"top",items:s},i)),e.removeInteraction("legend-filter")}return t}function Wc(t){var e=t.chart,n=t.options,i=n.label,r=n.labelMode,o=n.xField,a=Jt(e,"interval");if(i){var l=i.callback,s=St(i,["callback"]);a.label({fields:"absolute"===r?["$$absoluteField$$",o]:["$$diffField$$",o],callback:l,cfg:re(s)})}else a.label(!1);return t}function Lc(t){var e=t.chart,n=t.options,i=n.tooltip,r=n.xField,o=n.yField;if(!1!==i){e.tooltip(kt({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[o]},i));var a=e.geometries[0];(null==i?void 0:i.formatter)?a.tooltip(r+"*"+o,i.formatter):a.tooltip(o)}else e.tooltip(!1);return t}function Nc(t){return Ht(Ic,yn,Rc,Tc,_c,Bc,Lc,Wc,mn,gn,vn,Fn())(t)}function jc(t,e,n){var i=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),r=i.length>0?Math.max.apply(Math,i):0,o=Math.abs(t)%360;return o?360*r/o:r}function Vc(t){var e=t.chart,n=t.options,i=n.barStyle,r=n.color,o=n.tooltip,a=n.colorField,l=n.type,s=n.xField,u=n.yField,c=we(n.data,u);return e.data(c),zn(fe({},t,{options:{tooltip:o,seriesField:a,interval:{style:i,color:r,shape:"line"===l?"line":"intervel"},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===l&&$n({chart:e,options:{xField:s,yField:u,seriesField:a,point:{shape:"circle",color:r}}}),t}function Gc(t){var e,n=t.options,i=n.yField,r=n.xField,o=n.data,a=n.isStack,l=n.isGroup,s=n.colorField,u=n.maxAngle,c=a&&!l&&s?function(t,e,n){var i=[];return t.forEach((function(t){var r=i.find((function(n){return n[e]===t[e]}));r?r[n]+=t[n]||null:i.push(kt({},t))})),i}(o,r,i):o,f=we(c,i);return Ht(wn(((e={})[i]={min:0,max:jc(u,i,f)},e)))(t)}function qc(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:i,innerRadius:r,startAngle:o,endAngle:a}}).transpose(),t}function Hc(t){var e=t.chart,n=t.options,i=n.xField,r=n.xAxis;return e.axis(i,r),t}function Yc(t){var e=t.chart,n=t.options,i=n.label,r=n.yField,o=Jt(e,"interval");if(i){var a=i.callback,l=St(i,["callback"]);o.label({fields:[r],callback:a,cfg:kt(kt({},re(l)),{type:"polar"})})}else o.label(!1);return t}function Xc(t){return Ht(dn("barStyle"),Vc,Gc,Hc,qc,gn,vn,yn,hn,pn,Fn(),Yc)(t)}U("interval","waterfall",{draw:function(t,e){var n=t.customInfo,i=t.points,r=t.nextPoints,o=e.addGroup(),a=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(i){var r=0===n?"M":"L";e.push([r,i.x,i.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(i)),l=function(t){return fe({},t.defaultStyle,t.style,{fill:t.color})}(t);o.addShape("path",{attrs:kt(kt({},l),{path:a})});var s=c(n,"leaderLine");if(s&&r){var u=[["M",i[2].x,i[2].y],["L",r[0].x,r[0].y]];i[2].y===r[1].y&&(u[1]=["L",r[1].x,r[1].y]),u=this.parsePath(u),o.addShape("path",{attrs:kt({path:u},s.style||{})})}return o}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}At(e,t),e.getDefaultOptions=function(){return Cc},e.prototype.changeData=function(t){var e=this.options,n=e.xField,i=e.yField,r=e.total;this.updateOption({data:t}),this.chart.changeData(Pc(t,n,i,r))},e.prototype.getSchemaAdaptor=function(){return Nc},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ze);var Uc=fe({},Ze.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}At(e,t),e.getDefaultOptions=function(){return Uc},e.prototype.changeData=function(t){this.updateOption({data:t}),Gc({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Xc}}(Ze);function Zc(t,e,n,i,r){var o=[];e.forEach((function(e){i.forEach((function(i){var r,a=((r={})[t]=i[t],r[n]=e,r[e]=i[e],r);o.push(a)}))}));var a=Object.values(ot(o,n)),l=a[0],s=void 0===l?[]:l,u=a[1],c=void 0===u?[]:u;return r?[s.reverse(),c.reverse()]:[s,c]}function Kc(t){return"vertical"!==t}function Jc(t,e,n){var i=e[0],r=e[1],o=i.autoPadding,a=r.autoPadding,l=t.__axisPosition,s=l.layout,u=l.position;if(Kc(s)&&"top"===u&&(i.autoPadding=n.instance(o.top,0,o.bottom,o.left),r.autoPadding=n.instance(a.top,o.left,a.bottom,0)),Kc(s)&&"bottom"===u&&(i.autoPadding=n.instance(o.top,o.right/2+5,o.bottom,o.left),r.autoPadding=n.instance(a.top,a.right,a.bottom,o.right/2+5)),!Kc(s)&&"bottom"===u){var c=o.left>=a.left?o.left:a.left;i.autoPadding=n.instance(o.top,o.right,o.bottom/2+5,c),r.autoPadding=n.instance(o.bottom/2+5,a.right,a.bottom,c)}if(!Kc(s)&&"top"===u){c=o.left>=a.left?o.left:a.left;i.autoPadding=n.instance(o.top,o.right,0,c),r.autoPadding=n.instance(0,a.right,o.top,c)}}function Qc(t){var e,n,i=t.chart,r=t.options,o=r.data,a=r.xField,l=r.yField,s=r.color,u=r.barStyle,c=r.widthRatio,f=r.legend,d=r.layout,p=Zc(a,l,"series-field-key",o,Kc(d));f?i.legend("series-field-key",f):!1===f&&i.legend(!1);var h=p[0],g=p[1];return Kc(d)?((e=i.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:"first-axes-view"})).coordinate().transpose().reflect("x"),(n=i.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:"second-axes-view"})).coordinate().transpose(),e.data(h),n.data(g)):(e=i.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:"first-axes-view"}),(n=i.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:"second-axes-view"})).coordinate().reflect("y"),e.data(h),n.data(g)),zn(fe({},t,{chart:e,options:{widthRatio:c,xField:a,yField:l[0],seriesField:"series-field-key",interval:{color:s,style:u}}})),zn(fe({},t,{chart:n,options:{xField:a,yField:l[1],seriesField:"series-field-key",widthRatio:c,interval:{color:s,style:u}}})),t}function tf(t){var e,n,i,r=t.options,o=t.chart,a=r.xAxis,l=r.yAxis,s=r.xField,u=r.yField,f=ee(o,"first-axes-view"),d=ee(o,"second-axes-view"),p={};return xt((null==r?void 0:r.meta)||{}).map((function(t){c(null==r?void 0:r.meta,[t,"alias"])&&(p[t]=r.meta[t].alias)})),o.scale(((e={})["series-field-key"]={sync:!0,formatter:function(t){return c(p,t,t)}},e)),wn(((n={})[s]=a,n[u[0]]=l[u[0]],n))(fe({},t,{chart:f})),wn(((i={})[s]=a,i[u[1]]=l[u[1]],i))(fe({},t,{chart:d})),t}function ef(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,a=n.yField,l=n.layout,s=ee(e,"first-axes-view"),u=ee(e,"second-axes-view");return"bottom"===(null==i?void 0:i.position)?u.axis(o,kt(kt({},i),{label:{formatter:function(){return""}}})):u.axis(o,!1),!1===i?s.axis(o,!1):s.axis(o,kt({position:Kc(l)?"top":"bottom"},i)),!1===r?(s.axis(a[0],!1),u.axis(a[1],!1)):(s.axis(a[0],r[a[0]]),u.axis(a[1],r[a[1]])),e.__axisPosition={position:s.getOptions().axes[o].position,layout:l},t}function nf(t){var e=t.chart;return gn(fe({},t,{chart:ee(e,"first-axes-view")})),gn(fe({},t,{chart:ee(e,"second-axes-view")})),t}function rf(t){var e=t.chart,n=t.options,i=n.yField,r=n.yAxis;return kn(fe({},t,{chart:ee(e,"first-axes-view"),options:{yAxis:r[i[0]]}})),kn(fe({},t,{chart:ee(e,"second-axes-view"),options:{yAxis:r[i[1]]}})),t}function of(t){var e=t.chart;return yn(fe({},t,{chart:ee(e,"first-axes-view")})),yn(fe({},t,{chart:ee(e,"second-axes-view")})),t}function af(t){var e=t.chart;return vn(fe({},t,{chart:ee(e,"first-axes-view")})),vn(fe({},t,{chart:ee(e,"second-axes-view")})),t}function lf(t){var e,n,i=this,r=t.chart,o=t.options,a=o.label,l=o.yField,s=o.layout,u=ee(r,"first-axes-view"),c=ee(r,"second-axes-view"),f=Jt(u,"interval"),d=Jt(c,"interval");if(a){var p=a.callback,h=St(a,["callback"]);h.position||(h.position="middle"),void 0===h.offset&&(h.offset=2);var g=kt({},h);if(Kc(s)){var v=(null===(e=g.style)||void 0===e?void 0:e.textAlign)||("middle"===h.position?"center":"left");h.style=fe({},h.style,{textAlign:v});g.style=fe({},g.style,{textAlign:{left:"right",right:"left",center:"center"}[v]})}else{var y={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof h.position?h.position=y[h.position]:"function"==typeof h.position&&(h.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y[h.position.apply(i,t)]});var m=(null===(n=g.style)||void 0===n?void 0:n.textBaseline)||"bottom";g.style=fe({},g.style,{textBaseline:m});h.style=fe({},h.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[m]})}f.label({fields:[l[0]],callback:p,cfg:re(g)}),d.label({fields:[l[1]],callback:p,cfg:re(h)})}else f.label(!1),d.label(!1);return t}function sf(t){return Ht(Qc,tf,ef,rf,of,lf,hn,nf,af)(t)}function uf(t,e){if(S(t))return t.find((function(t){return t.type===e}))}function cf(t,e){var n=uf(t,e);return n&&!1!==n.enable}function ff(t){var e=t.interactions,n=t.drilldown;return c(n,"enabled")||cf(e,"treemap-drill-down")}function df(t){var e=t.data,n=t.colorField,i=t.enableDrillDown,r=t.hierarchyConfig,o=uc(e,kt(kt({},r),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),a=[];return o.forEach((function(t){if(0===t.depth)return null;if(i&&1!==t.depth)return null;if(!i&&t.children)return null;var o=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),l=i&&S(e.path)?o.concat(e.path.slice(1)):o,s=Object.assign({},t.data,kt({x:t.x,y:t.y,depth:t.depth,value:t.value,path:l},t));if(!t.data[n]&&t.parent){var u=t.ancestors().find((function(t){return t.data[n]}));s[n]=null==u?void 0:u.data[n]}else s[n]=t.data[n];s["hierarchy-data-transform-params"]={hierarchyConfig:r,colorField:n,enableDrillDown:i},a.push(s)})),a}function pf(t){var e=t.options.colorField;return fe({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function hf(t){var e=t.chart,n=t.options,i=n.color,r=n.colorField,o=n.rectStyle,a=n.hierarchyConfig,l=n.rawFields,s=df({data:n.data,colorField:n.colorField,enableDrillDown:ff(n),hierarchyConfig:a});return e.data(s),Cn(fe({},t,{options:{xField:"x",yField:"y",seriesField:r,rawFields:l,polygon:{color:i,style:o}}})),e.coordinate().reflect("y"),t}function gf(t){return t.chart.axis(!1),t}function vf(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return ff(t)?fe({},t,{interactions:Ft(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:df}}])}):t}function yf(t){var e=t.chart,n=t.options,i=n.interactions,r=n.drilldown;gn({chart:e,options:vf(n)});var o=uf(i,"view-zoom");return o&&(!1!==o.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),ff(n)&&(e.appendPadding=ke(e.appendPadding,c(r,["breadCrumb","position"]))),t}function mf(t){return Ht(pf,yn,dn("rectStyle"),hf,gf,pn,hn,yf,vn,Fn())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}At(e,t),e.getDefaultOptions=function(){return fe({},t.getDefaultOptions.call(this),{syncViewPadding:Jc})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(H.BEFORE_CHANGE_DATA,Y.fromData(this.chart,H.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=Zc(e.xField,e.yField,"series-field-key",t,Kc(e.layout)),i=n[0],r=n[1],o=ee(this.chart,"first-axes-view"),a=ee(this.chart,"second-axes-view");o.data(i),a.data(r),this.chart.render(!0),this.chart.emit(H.AFTER_CHANGE_DATA,Y.fromData(this.chart,H.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sf},e.SERIES_FIELD_KEY="series-field-key"}(Ze);var xf={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};function bf(t){return t.target.depth}function wf(t,e){return t.sourceLinks.length?t.depth:e-1}function Ff(t){return function(){return t}}function kf(t,e){for(var n=0,i=0;i<t.length;i++)n+=e(t[i]);return n}function Af(t,e){for(var n=-1/0,i=0;i<t.length;i++)n=Math.max(e(t[i]),n);return n}function Sf(t,e){return Df(t.source,e.source)||t.index-e.index}function Mf(t,e){return Df(t.target,e.target)||t.index-e.index}function Df(t,e){return t.y0-e.y0}function Of(t){return t.value}function Ef(t){return t.index}function $f(t){return t.nodes}function zf(t){return t.links}function Cf(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Pf(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var i=n[e],r=i.y0,o=r,a=0,l=i.sourceLinks;a<l.length;a++){(c=l[a]).y0=r+c.width/2,r+=c.width}for(var s=0,u=i.targetLinks;s<u.length;s++){var c;(c=u[s]).y1=o+c.width/2,o+=c.width}}}function If(){var t,e,n,i,r=0,o=0,a=1,l=1,s=24,u=8,c=Ef,f=wf,d=$f,p=zf,h=6;function g(g){var m={nodes:d(g),links:p(g)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var r=new Map(e.map((function(t){return[c(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,i=t.target;"object"!=typeof n&&(n=t.source=Cf(r,n)),"object"!=typeof i&&(i=t.target=Cf(r,i)),n.sourceLinks.push(t),i.targetLinks.push(t)})),null!=i)for(var o=0,a=e;o<a.length;o++){var l=a[o],s=l.sourceLinks,u=l.targetLinks;s.sort(i),u.sort(i)}}(m),function(t){for(var e=t.nodes,n=0,i=e;n<i.length;n++){var r=i[n];r.value=void 0===r.fixedValue?Math.max(kf(r.sourceLinks,Of),kf(r.targetLinks,Of)):r.fixedValue}}(m),function(t){var n=t.nodes,i=n.length,r=new Set(n),o=new Set,a=0;for(;r.size;){if(r.forEach((function(t){t.depth=a;for(var e=0,n=t.sourceLinks;e<n.length;e++){var i=n[e].target;o.add(i)}})),++a>i)throw new Error("circular link");r=o,o=new Set}if(e)for(var l=Math.max(Af(n,(function(t){return t.depth}))+1,0),s=void 0,u=0;u<n.length;u++)(s=n[u]).depth=e.call(null,s,l)}(m),function(t){var e=t.nodes,n=e.length,i=new Set(e),r=new Set,o=0;for(;i.size;){if(i.forEach((function(t){t.height=o;for(var e=0,n=t.targetLinks;e<n.length;e++){var i=n[e].source;r.add(i)}})),++o>n)throw new Error("circular link");i=r,r=new Set}}(m),function(e){var i=function(t){for(var e=t.nodes,i=Math.max(Af(e,(function(t){return t.depth}))+1,0),o=(a-r-s)/(i-1),l=new Array(i).fill(0).map((function(){return[]})),u=0,c=e;u<c.length;u++){var d=c[u],p=Math.max(0,Math.min(i-1,Math.floor(f.call(null,d,i))));d.layer=p,d.x0=r+p*o,d.x1=d.x0+s,l[p]?l[p].push(d):l[p]=[d]}if(n)for(var h=0,g=l;h<g.length;h++){g[h].sort(n)}return l}(e);t=Math.min(u,(l-o)/(Af(i,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,i=0;i<t.length;i++)n=Math.min(e(t[i]),n);return n}(e,(function(e){return(l-o-(e.length-1)*t)/kf(e,Of)})),i=0,r=e;i<r.length;i++){for(var a=r[i],s=o,u=0,c=a;u<c.length;u++){(g=c[u]).y0=s,g.y1=s+g.value*n,s=g.y1+t;for(var f=0,d=g.sourceLinks;f<d.length;f++){var p=d[f];p.width=p.value*n}}s=(l-s+t)/(a.length+1);for(var h=0;h<a.length;++h){var g;(g=a[h]).y0+=s*(h+1),g.y1+=s*(h+1)}F(a)}}(i);for(var c=0;c<h;++c){var d=Math.pow(.99,c),p=Math.max(1-d,(c+1)/h);y(i,d,p),v(i,d,p)}}(m),Pf(m),m}function v(t,e,i){for(var r=1,o=t.length;r<o;++r){for(var a=t[r],l=0,s=a;l<s.length;l++){for(var u=s[l],c=0,f=0,d=0,p=u.targetLinks;d<p.length;d++){var h=p[d],g=h.source,v=h.value*(u.layer-g.layer);c+=k(g,u)*v,f+=v}if(f>0){var y=(c/f-u.y0)*e;u.y0+=y,u.y1+=y,w(u)}}void 0===n&&a.sort(Df),a.length&&m(a,i)}}function y(t,e,i){for(var r=t.length-2;r>=0;--r){for(var o=t[r],a=0,l=o;a<l.length;a++){for(var s=l[a],u=0,c=0,f=0,d=s.sourceLinks;f<d.length;f++){var p=d[f],h=p.target,g=p.value*(h.layer-s.layer);u+=A(s,h)*g,c+=g}if(c>0){var v=(u/c-s.y0)*e;s.y0+=v,s.y1+=v,w(s)}}void 0===n&&o.sort(Df),o.length&&m(o,i)}}function m(e,n){var i=e.length>>1,r=e[i];b(e,r.y0-t,i-1,n),x(e,r.y1+t,i+1,n),b(e,l,e.length-1,n),x(e,o,0,n)}function x(e,n,i,r){for(;i<e.length;++i){var o=e[i],a=(n-o.y0)*r;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function b(e,n,i,r){for(;i>=0;--i){var o=e[i],a=(o.y1-n)*r;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function w(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===i){for(var r=0,o=n;r<o.length;r++){o[r].source.sourceLinks.sort(Mf)}for(var a=0,l=e;a<l.length;a++){l[a].target.targetLinks.sort(Sf)}}}function F(t){if(void 0===i)for(var e=0,n=t;e<n.length;e++){var r=n[e],o=r.sourceLinks,a=r.targetLinks;o.sort(Mf),a.sort(Sf)}}function k(e,n){for(var i=e.y0-(e.sourceLinks.length-1)*t/2,r=0,o=e.sourceLinks;r<o.length;r++){var a=o[r],l=a.target,s=a.width;if(l===n)break;i+=s+t}for(var u=0,c=n.targetLinks;u<c.length;u++){var f=c[u];l=f.source,s=f.width;if(l===e)break;i-=s}return i}function A(e,n){for(var i=n.y0-(n.targetLinks.length-1)*t/2,r=0,o=n.targetLinks;r<o.length;r++){var a=o[r],l=a.source,s=a.width;if(l===e)break;i+=s+t}for(var u=0,c=e.sourceLinks;u<c.length;u++){var f=c[u];l=f.target,s=f.width;if(l===n)break;i-=s}return i}return g.update=function(t){return Pf(t),t},g.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:Ff(t),g):c},g.nodeAlign=function(t){return arguments.length?(f="function"==typeof t?t:Ff(t),g):f},g.nodeDepth=function(t){return arguments.length?(e=t,g):e},g.nodeSort=function(t){return arguments.length?(n=t,g):n},g.nodeWidth=function(t){return arguments.length?(s=+t,g):s},g.nodePadding=function(e){return arguments.length?(u=t=+e,g):u},g.nodes=function(t){return arguments.length?(d="function"==typeof t?t:Ff(t),g):d},g.links=function(t){return arguments.length?(p="function"==typeof t?t:Ff(t),g):p},g.linkSort=function(t){return arguments.length?(i=t,g):i},g.size=function(t){return arguments.length?(r=o=0,a=+t[0],l=+t[1],g):[a-r,l-o]},g.extent=function(t){return arguments.length?(r=+t[0][0],a=+t[1][0],o=+t[0][1],l=+t[1][1],g):[[r,o],[a,l]]},g.iterations=function(t){return arguments.length?(h=+t,g):h},g}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}At(e,t),e.getDefaultOptions=function(){return xf},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,i=e.interactions,r=e.hierarchyConfig;this.updateOption({data:t});var o,a,l=df({data:t,colorField:n,enableDrillDown:cf(i,"treemap-drill-down"),hierarchyConfig:r});this.chart.changeData(l),o=this.chart,(a=o.interactions["drill-down"])&&a.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return mf}}(Ze);var Rf={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?bt(t.sourceLinks,bf)-1:0},justify:wf},Tf={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function _f(t,e){var n=function(t){return X({},Tf,t)}(t),i=n.nodeId,r=n.nodeSort,o=n.nodeAlign,a=n.nodeWidth,l=n.nodePadding,s=n.nodeDepth,u=If().nodeSort(r).nodeWidth(a).nodePadding(l).nodeDepth(s).nodeAlign(function(t){return(x(t)?Rf[t]:m(t)?t:null)||wf}(o)).extent([[0,0],[1,1]]).nodeId(i),c=u(e);return c.nodes.forEach((function(t){var e=t.x0,n=t.x1,i=t.y0,r=t.y1;t.x=[e,n,n,e],t.y=[i,i,r,r]})),c.links.forEach((function(t){var e=t.source,n=t.target,i=e.x1,r=n.x0;t.x=[i,i,r,r];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})),c}function Bf(t,e,n){if(!S(t))return[];var i=[],r=function(t,e,n){var i=[];return t.forEach((function(t){var r=t[e],o=t[n];i.includes(r)||i.push(r),i.includes(o)||i.push(o)})),i}(t,e,n),o=function(t,e,n,i){var r={};return e.forEach((function(t){r[t]={},e.forEach((function(e){r[t][e]=0}))})),t.forEach((function(t){r[t[n]][t[i]]=1})),r}(t,r,e,n),a={};function l(t){a[t]=1,r.forEach((function(e){if(0!=o[t][e])if(1==a[e])i.push(t+"_"+e);else{if(-1==a[e])return;l(e)}})),a[t]=-1}return r.forEach((function(t){a[t]=0})),r.forEach((function(t){-1!=a[t]&&l(t)})),0!==i.length&&console.warn("sankey data contains circle, "+i.length+" records removed.",i),t.filter((function(t){return i.findIndex((function(i){return i===t[e]+"_"+t[n]}))<0}))}function Wf(t,e,n){return me(t)?t/n:e}function Lf(t,e,n){return me(t)?t/n:e}function Nf(t,e,n){var i,r=t.dataType,o=t.data,a=t.sourceField,l=t.targetField,s=t.weightField,u=t.nodeAlign,c=t.nodeSort,f=t.nodePadding,d=t.nodePaddingRatio,p=t.nodeWidth,h=t.nodeWidthRatio,g=t.nodeDepth,v=t.rawFields,y=void 0===v?[]:v;i=function(t){return"node-link"===t}(r)?o:be(Bf(o,a,l),a,l,s,y);var m=_f({nodeAlign:u,nodePadding:Lf(f,d,n),nodeWidth:Wf(p,h,e),nodeSort:c,nodeDepth:g},i),x=m.nodes,b=m.links;return{nodes:x.map((function(t){return kt(kt({},Yt(t,Ft(["x","y","name"],y))),{isNode:!0})})),edges:b.map((function(t){return kt(kt({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Yt(t,Ft(["x","y","value"],y))),{isNode:!1})}))}}function jf(t){var e=t.options.rawFields,n=void 0===e?[]:e;return fe({},{options:{tooltip:{fields:C(Ft(["name","source","target","value","isNode"],n))},label:{fields:C(Ft(["x","name"],n))}}},t)}function Vf(t){var e=t.chart,n=t.options,i=n.color,r=n.nodeStyle,o=n.edgeStyle,a=n.label,l=n.tooltip,s=n.nodeState,u=n.edgeState;e.legend(!1),e.tooltip(l),e.axis(!1),e.coordinate().reflect("y");var c=Nf(n,e.width,e.height),f=c.nodes,d=c.edges,p=e.createView({id:"edges"});p.data(d),Pn({chart:p,options:{xField:"x",yField:"y",seriesField:"name",edge:{color:i,style:o,shape:"arc"},tooltip:l,state:u}});var h=e.createView({id:"nodes"});return h.data(f),Cn({chart:h,options:{xField:"x",yField:"y",seriesField:"name",polygon:{color:i,style:r},label:a,tooltip:l,state:s}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function Gf(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),Ft(e.views[0].geometries,e.views[1].geometries).forEach((function(t){t.animate(n)})),t}function qf(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function Hf(t){return Ht(jf,Vf,gn,qf,Gf,yn)(t)}_("sankey-node-drag",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return At(e,t),e.prototype.isNodeElement=function(){var t=c(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return ee(this.context.view,"nodes")},e.prototype.getEdgeView=function(){return ee(this.context.view,"edges")},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:c(this.context,"event.x"),y:c(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:c(this.context,"event.x"),y:c(this.context,"event.y")},n=e.x-this.prevPoint.x,i=e.y-this.prevPoint.y,r=this.getNodeView(),o=r.geometries[0].elements[this.currentElementIdx];if(o&&o.getModel()){var a=o.getModel().data,l=r.getOptions().data,s=r.getCoordinate(),u={x:n/s.getWidth(),y:i/s.getHeight()},f=kt(kt({},a),{x:a.x.map((function(t){return t+u.x})),y:a.y.map((function(t){return t+u.y}))}),d=Ft(l);d[this.currentElementIdx]=f,r.data(d);var p=a.name,h=this.getEdgeView(),g=h.getOptions().data;g.forEach((function(t){t.source===p&&(t.x[0]+=u.x,t.x[1]+=u.x,t.y[0]+=u.y,t.y[1]+=u.y),t.target===p&&(t.x[2]+=u.x,t.x[3]+=u.x,t.y[2]+=u.y,t.y[3]+=u.y)})),h.data(g),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(T)),B("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}At(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!c(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Nf(this.options,this.chart.width,this.chart.height),n=e.nodes,i=e.edges,r=ee(this.chart,"nodes"),o=ee(this.chart,"edges");r.changeData(n),o.changeData(i)},e.prototype.getSchemaAdaptor=function(){return Hf},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ze);var Yf={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function Xf(t,e){var n=function(t){return X({},Yf,t)}(t),i={},r=e.nodes,o=e.links;r.forEach((function(t){var e=n.id(t);i[e]=t})),function(t,e,n){b(t,(function(t,i){t.inEdges=e.filter((function(t){return""+n.target(t)==""+i})),t.outEdges=e.filter((function(t){return""+n.source(t)==""+i})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(i,o,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return(""+e.id(t)).localeCompare(""+e.id(n))}}[e.sortBy];!n&&m(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(r,n);var a=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var i=e.nodePaddingRatio;if(i<0||i>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var r=i/(2*n),o=e.nodeWidthRatio;if(o<=0||o>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var a=0;t.forEach((function(t){a+=t.value})),t.forEach((function(t){t.weight=t.value/a,t.width=t.weight*(1-i),t.height=o})),t.forEach((function(n,i){for(var a=0,l=i-1;l>=0;l--)a+=t[l].width+2*r;var s=n.minX=r+a,u=n.maxX=n.minX+n.width,c=n.minY=e.y-o/2,f=n.maxY=c+o;n.x=[s,u,u,s],n.y=[c,c,f,f]}))}else{var l=1/n;t.forEach((function(t,n){t.x=(n+.5)*l,t.y=e.y}))}return t}(r,n),l=function(t,e,n){if(n.weight){var i={};b(t,(function(t,e){i[e]=t.value})),e.forEach((function(e){var r=n.source(e),o=n.target(e),a=t[r],l=t[o];if(a&&l){var s=i[r],u=n.sourceWeight(e),c=a.minX+(a.value-s)/a.value*a.width,f=c+u/a.value*a.width;i[r]-=u;var d=i[o],p=n.targetWeight(e),h=l.minX+(l.value-d)/l.value*l.width,g=h+p/l.value*l.width;i[o]-=p;var v=n.y;e.x=[c,f,h,g],e.y=[v,v,v,v],e.source=a,e.target=l}}))}else e.forEach((function(e){var i=t[n.source(e)],r=t[n.target(e)];i&&r&&(e.x=[i.x,r.x],e.y=[i.y,r.y],e.source=i,e.target=r)}));return e}(i,o,n);return{nodes:a,links:l}}var Uf={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!c(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Zf(t){var e=t.options,n=e.data,i=e.sourceField,r=e.targetField,o=e.weightField,a=e.nodePaddingRatio,l=e.nodeWidthRatio,s=e.rawFields,u=void 0===s?[]:s,c=Xf({weight:!0,nodePaddingRatio:a,nodeWidthRatio:l},be(n,i,r,o)),f=c.nodes,d=c.links,p=f.map((function(t){return kt(kt({},Yt(t,Ft(["id","x","y","name"],u))),{isNode:!0})})),h=d.map((function(t){return kt(kt({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Yt(t,Ft(["x","y","value"],u))),{isNode:!1})}));return kt(kt({},t),{ext:kt(kt({},t.ext),{chordData:{nodesData:p,edgesData:h}})})}function Kf(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}}).name={sync:"color"},e.source={sync:"color"},e)),t}function Jf(t){return t.chart.axis(!1),t}function Qf(t){return t.chart.legend(!1),t}function td(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function ed(t){return t.chart.coordinate("polar").reflect("y"),t}function nd(t){var e=t.chart,n=t.options,i=t.ext.chordData.nodesData,r=n.nodeStyle,o=n.label,a=n.tooltip,l=e.createView();return l.data(i),Cn({chart:l,options:{xField:"x",yField:"y",seriesField:"name",polygon:{style:r},label:o,tooltip:a}}),t}function id(t){var e=t.chart,n=t.options,i=t.ext.chordData.edgesData,r=n.edgeStyle,o=n.tooltip,a=e.createView();return a.data(i),Pn({chart:a,options:{xField:"x",yField:"y",seriesField:"source",edge:{style:r,shape:"arc"},tooltip:o}}),t}function rd(t){var e,n=t.chart,i=t.options.animation;return"boolean"==typeof i?n.animate(i):n.animate(!0),b(c(e=n,["views","length"],0)<=0?e.geometries:u(e.views,(function(t,e){return t.concat(e.geometries)}),e.geometries),(function(t){t.animate(i)})),t}function od(t){return Ht(yn,Zf,ed,Kf,Jf,Qf,td,id,nd,gn,mn,rd)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}At(e,t),e.getDefaultOptions=function(){return Uf},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return od}}(Ze);var ad={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function ld(t){var e=t.data,n=t.hierarchyConfig,i=t.rawFields,r=void 0===i?[]:i,o=t.enableDrillDown,a=function(t,e){var n,i=(e=X({},ad,e)).as;if(!S(i)||3!==i.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=eu(e)}catch(u){console.warn(u)}var r,o=(r=t,Ru().size(e.size).padding(e.padding)(fu(r).sum((function(t){return t[n]})).sort(e.sort))),a=i[0],l=i[1],s=i[2];return o.each((function(t){t[a]=t.x,t[l]=t.y,t[s]=t.r})),nu(o)}(e,kt(kt({},n),{field:"value",as:["x","y","r"]})),l=[];return a.forEach((function(t){for(var e,i=t.data.name,a=kt({},t);a.depth>1;)i=(null===(e=a.parent.data)||void 0===e?void 0:e.name)+" / "+i,a=a.parent;if(o&&t.depth>2)return null;var s=fe({},t.data,kt(kt(kt({},Yt(t.data,r)),{path:i}),t));s.ext=n,s["hierarchy-data-transform-params"]={hierarchyConfig:n,rawFields:r,enableDrillDown:o},l.push(s)})),l}function sd(t,e,n){var i=Ae([t,e]),r=i[0],o=i[1],a=i[2],l=i[3],s=n.width-(l+o),u=n.height-(r+a),c=Math.min(s,u),f=(s-c)/2,d=(u-c)/2;return{finalPadding:[r+d,o+f,a+d,l+f],finalSize:c<0?0:c}}var ud=["x","y","r","name","value","path","depth"],cd={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function fd(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return fe({options:{size:function(t){return t.r*n}}},t)}function dd(t){var e=t.options,n=t.chart,i=n.viewBBox,r=e.padding,o=e.appendPadding,a=e.drilldown,l=o;(null==a?void 0:a.enabled)&&(l=Ae([ke(n.appendPadding,c(a,["breadCrumb","position"])),o]));var s=sd(r,l,i).finalPadding;return n.padding=s,n.appendPadding=0,t}function pd(t){var e=t.chart,n=t.options,i=e.padding,r=e.appendPadding,o=n.color,a=n.colorField,l=n.pointStyle,s=n.hierarchyConfig,u=n.sizeField,c=n.rawFields,f=void 0===c?[]:c,d=n.drilldown,p=ld({data:n.data,hierarchyConfig:s,enableDrillDown:null==d?void 0:d.enabled,rawFields:f});e.data(p);var h=sd(i,r,e.viewBBox).finalSize,g=function(t){return t.r*h};return u&&(g=function(t){return t[u]*h}),$n(fe({},t,{options:{xField:"x",yField:"y",seriesField:a,sizeField:u,rawFields:Ft(ud,f),point:{color:o,style:l,shape:"circle",size:g}}})),t}function hd(t){return Ht(wn({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function gd(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var i=n;c(n,"fields")||(i=fe({},{customItems:function(t){return t.map((function(t){var n=c(e.getOptions(),"scales"),i=c(n,["name","formatter"],(function(t){return t})),r=c(n,["value","formatter"],(function(t){return t}));return kt(kt({},t),{name:i(t.data.name),value:r(t.data.value)})}))}},i)),e.tooltip(i)}return t}function vd(t){return t.chart.axis(!1),t}function yd(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return(null==e?void 0:e.enabled)?fe({},t,{interactions:Ft(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:ld,enableDrillDown:!0}}])}):t}function md(t){return gn({chart:t.chart,options:yd(t.options)}),t}function xd(t){return Ht(dn("pointStyle"),fd,dd,yn,hd,pd,vd,pn,gd,md,vn,Fn())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}At(e,t),e.getDefaultOptions=function(){return cd},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xd},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Ze),function(t){function e(e,n,i,r){var o=t.call(this,e,fe({},r,n))||this;return o.type="g2-plot",o.defaultOptions=r,o.adaptor=i,o}At(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(Ze);var bd={line:jn,pie:Vi,column:yi,bar:Si,area:Zn,gauge:Ec,"tiny-line":Go,"tiny-column":Yo,"tiny-area":jo,"ring-progress":va,progress:da,scatter:Jr,histogram:oa,funnel:zs},wd={line:Gn,pie:Gi,column:xi,bar:Di,area:Jn,gauge:$c,"tiny-line":qo,"tiny-column":Uo,"tiny-area":Ko,"ring-progress":ma,progress:pa,scatter:ro,histogram:aa,funnel:Cs},Fd={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function kd(t,e,n){var i=wd[t];i?(0,bd[t])({chart:e,options:fe({},i.getDefaultOptions(),c(Fd,t,{}),n)}):console.error("could not find "+t+" plot")}function Ad(t){var e=t.chart,n=t.options,i=n.views,r=n.legend;return b(i,(function(t){var n=t.region,i=t.data,r=t.meta,o=t.axes,a=t.coordinate,l=t.interactions,s=t.annotations,u=t.tooltip,c=t.geometries,f=e.createView({region:n});f.data(i);var d={};o&&b(o,(function(t,e){d[e]=Yt(t,Ke)})),d=fe({},r,d),f.scale(d),o?b(o,(function(t,e){f.axis(e,t)})):f.axis(!1),f.coordinate(a),b(c,(function(t){var e=Dn({chart:f,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),b(l,(function(t){!1===t.enable?f.removeInteraction(t.type):f.interaction(t.type,t.cfg)})),b(s,(function(t){f.annotation()[t.type](kt({},t))})),"boolean"==typeof t.animation?f.animate(!1):(f.animate(!0),b(f.geometries,(function(e){e.animate(t.animation)}))),u&&(f.interaction("tooltip"),f.tooltip(u))})),r?b(r,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function Sd(t){var e=t.chart,n=t.options.plots;return b(n,(function(t){var n=t.type,i=t.region,r=t.options,o=void 0===r?{}:r,a=o.tooltip,l=e.createView(kt({region:i},Yt(o,Ue)));a&&l.interaction("tooltip"),kd(n,l,o)})),t}function Md(t){return Ht(vn,Ad,Sd,gn,vn,yn,hn)(t)}_("association",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.getAssociationItems=function(t,e){var n,i=this.context.event,r=e||{},o=r.linkField,a=r.dim,l=[];if(null===(n=i.data)||void 0===n?void 0:n.data){var s=i.data.data;b(t,(function(t){var e,n,i=o;if("x"===a?i=t.getXScale().field:"y"===a?i=null===(e=t.getYScales().find((function(t){return t.field===i})))||void 0===e?void 0:e.field:i||(i=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),i){var r=W(Qt(t),(function(e){var n=!1,r=!1,o=S(s)?c(s[0],i):c(s,i);return function(t,e){var n=t.getModel().data;return S(n)?n[0][e]:n[e]}(e,i)===o?n=!0:r=!0,{element:e,view:t,active:n,inactive:r}}));l.push.apply(l,r)}}))}return l},e.prototype.showTooltip=function(t){var e=ie(this.context.view),n=this.getAssociationItems(e,t);b(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=ie(this.context.view);b(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=ne(this.context.view),n=this.getAssociationItems(e,t);b(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=ne(this.context.view),n=this.getAssociationItems(e,t);b(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=ne(this.context.view),n=this.getAssociationItems(e,t);b(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=ne(this.context.view);b(t,(function(t){var e;e=Qt(t),b(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}))},e}(T)),B("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),B("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),B("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),B("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var Dd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return At(e,t),e.prototype.getSchemaAdaptor=function(){return Md},e}(Ze);function Od(t){var e=t.chart,n=t.options,i=n.type,r=n.data,o=n.fields,a=n.eachView,l=L(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(r),e.facet(i,kt(kt({},l),{fields:o,eachView:function(t,e){var n=a(t,e);if(n.geometries)!function(t,e){var n=e.data,i=e.coordinate,r=e.interactions,o=e.annotations,a=e.animation,l=e.tooltip,s=e.axes,u=e.meta,c=e.geometries;n&&t.data(n);var f={};s&&b(s,(function(t,e){f[e]=Yt(t,Ke)})),f=fe({},u,f),t.scale(f),i&&t.coordinate(i),!1===s?t.axis(!1):b(s,(function(e,n){t.axis(n,e)})),b(c,(function(e){var n=Dn({chart:t,options:e}).ext,i=e.adjust;i&&n.geometry.adjust(i)})),b(r,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),b(o,(function(e){t.annotation()[e.type](kt({},e))})),"boolean"==typeof a?t.animate(!1):(t.animate(!0),b(t.geometries,(function(t){t.animate(a)}))),l?(t.interaction("tooltip"),t.tooltip(l)):!1===l&&t.removeInteraction("tooltip")}(t,n);else{var i=n,r=i.options;r.tooltip&&t.interaction("tooltip"),kd(i.type,t,r)}}})),t}function Ed(t){var e=t.chart,n=t.options,i=n.axes,r=n.meta,o=n.tooltip,a=n.coordinate,l=n.theme,s=n.legend,u=n.interactions,c=n.annotations,f={};return i&&b(i,(function(t,e){f[e]=Yt(t,Ke)})),f=fe({},r,f),e.scale(f),e.coordinate(a),i?b(i,(function(t,n){e.axis(n,t)})):e.axis(!1),o?(e.interaction("tooltip"),e.tooltip(o)):!1===o&&e.removeInteraction("tooltip"),e.legend(s),l&&e.theme(l),b(u,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),b(c,(function(t){e.annotation()[t.type](kt({},t))})),t}function $d(t){return Ht(yn,Od,Ed)(t)}var zd,Cd,Pd={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}At(e,t),e.getDefaultOptions=function(){return Pd},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $d}}(Ze),(Cd=zd||(zd={})).DEV="DEV",Cd.BETA="BETA",Cd.STABLE="STABLE",function(){function t(){}Object.defineProperty(t,"MultiView",{get:function(){var t,e;return t=zd.STABLE,e="MultiView",console.warn(t===zd.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":t===zd.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":t===zd.STABLE?"Plot '"+e+"' is in STABLE stage, import it by \"import { "+e+" } from '@antv/g2plot'\".":"invalid Stage type."),Dd},enumerable:!1,configurable:!0})}(),De("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),De("zh-CN",{locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}});const Id=(t,e)=>{const n=new Hs(t,{percent:.26,radius:.8,height:128,statistic:{title:{formatter:()=>e,style:({percent:t})=>({fill:t>.65?"white":"rgba(44,53,66,0.85)"})},content:{style:({percent:t})=>({fontSize:60,lineHeight:1,fill:t>.65?"white":"rgba(44,53,66,0.85)"}),customHtml:(t,e,{percent:n})=>{const{width:i,height:r}=t.getBoundingClientRect(),o=Math.sqrt(Math.pow(i/2,2)+Math.pow(r/2,2)),a=`占比 ${(100*n).toFixed(0)}%`,l=ye(a,{fontSize:60}),s=Math.min(o/l,1);return`<div style="width:${o}px;display:flex;align-items:center;justify-content:center;font-size:${s}em;line-height:${s<=1?1:"inherit"}">${a}</div>`}}},liquidStyle:({percent:t})=>({fill:t>.45?"#5B8FF9":"#FAAD14",stroke:t>.45?"#5B8FF9":"#FAAD14"}),color:()=>"#5B8FF9"});n.render();let i=.25;const r=setInterval((()=>{i+=Math.min(.1*Math.random(),.1),i<.75?n.changeData(i):clearInterval(r)}),500)};const Rd=Dt({name:"Analysis",setup(){const t=Ot(),e=Ot(),n=Ot(),u=Ot(),c=Ot(),f=Ot(),d=Ot(),p=Ot(),h=Et({cardItems:[{id:1,itemName:"我的项目数",name:"totalNum",itemCount:25,background:"#bdc6cf",icon:"el-icon-data-board"},{id:2,itemName:"在线项目数",name:"onlineNum",itemCount:5,background:"#7dc855",icon:"ic ic-flashlight"},{id:3,itemName:"草稿项目数",name:"draftNum",itemCount:3,background:"#838cc7",icon:"ic ic-brush"},{id:4,itemName:"下线项目数",name:"offlineNum",itemCount:6,background:"#ffbe0b",icon:"el-icon-bell"},{id:5,itemName:"我的模板",name:"templateNum",itemCount:10,background:"#358ed7",icon:"el-icon-wind-power"},{id:6,itemName:"页面总访问数",name:"viewsPV",itemCount:100,background:"#53bbb3",icon:"ic ic-group"},{id:7,itemName:"页面独立访问数",name:"viewsUV",itemCount:1009,background:"#39add1",icon:"el-icon-s-data"}]});return $t((()=>{var i;Id(t.value,"盈利率"),Id(e.value,"今日UV"),Id(n.value,"今日PV"),Id(u.value,"净增长"),(t=>{const e=new M({container:t,autoFit:!0,height:500});e.data([{type:"一线城市",value:.19},{type:"二线城市",value:.21},{type:"三线城市",value:.27},{type:"四线及以下",value:.33}]),e.coordinate("theta",{radius:.75}),e.tooltip({showMarkers:!1}),e.interval().adjust("stack").position("value").color("type",["#063d8a","#1770d6","#47abfc","#38c060"]).style({opacity:.4}).state({active:{style:t=>{const{shape:e}=t;return{matrix:O.zoom(e,1.1)}}}}).label("type",(t=>({offset:-30,style:{opacity:"四线及以下"===t?1:.5,fill:"white",fontSize:12,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},content:t=>`${t.type}\n${t.value}%`}))),e.interaction("element-single-selected"),e.render()})(c.value),i=f.value,new Di(i,{data:[{action:"浏览网站",pv:5e4},{action:"放入购物车",pv:35e3},{action:"生成订单",pv:25e3},{action:"支付订单",pv:15e3},{action:"完成交易",pv:8500}],xField:"pv",yField:"action",conversionTag:{},theme:"default"}).render(),(t=>{const e=(new wt).createView().source({nodes:[{name:"首次打开"},{name:"结果页"},{name:"验证页"},{name:"我的"},{name:"朋友"},{name:"其他来源"},{name:"首页 UV"},{name:"我的"},{name:"扫一扫"},{name:"服务"},{name:"蚂蚁森林"},{name:"跳失"},{name:"借呗"},{name:"花呗"},{name:"其他流向"}],links:[{source:0,target:6,value:160},{source:1,target:6,value:40},{source:2,target:6,value:10},{source:3,target:6,value:10},{source:4,target:6,value:8},{source:5,target:6,value:27},{source:6,target:7,value:30},{source:6,target:8,value:40},{source:6,target:9,value:35},{source:6,target:10,value:25},{source:6,target:11,value:10},{source:6,target:12,value:30},{source:6,target:13,value:40},{source:6,target:14,value:45}]},{type:"graph",edges:t=>t.links});e.transform({type:"diagram.sankey",nodeWidth:.008,nodePadding:.03,sort:(t,e)=>t.value>e.value?0:t.value<e.value?-1:0});const n=e.edges.map((t=>({source:t.source.name,target:t.target.name,name:"首页 UV"===t.source.name?t.target.name:t.source.name,x:t.x,y:t.y,value:t.value}))),i=e.nodes.map((t=>({x:t.x,y:t.y,name:t.name}))),r=new M({container:t,autoFit:!0,height:500,appendPadding:16,syncViewPadding:!0});r.legend(!1),r.tooltip({showTitle:!1,showMarkers:!1}),r.axis(!1),r.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},source:{sync:"color"},name:{sync:"color"}});const o=r.createView();o.data(i),o.polygon().position("x*y").color("name").label("x*name",((t,e)=>{const n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8,content:e}})).tooltip(!1).style("name",(t=>"跳失"===t?{fill:"#FF6010",stroke:"#FF6010"}:"首页 UV"===t?{fill:"#5D7092",stroke:"#5D7092"}:{}));const a=r.createView();a.data(n),console.log(n),a.edge().position("x*y").shape("arc").color("name").tooltip("target*source*value",((t,e,n)=>({name:`${e} to ${t}`,value:n}))).style("source*target",((t,e)=>t.includes("其他")||e.includes("其他")?{lineWidth:0,opacity:.4,fill:"#CCC",stroke:"#CCC"}:"跳失"===e?{lineWidth:0,opacity:.4,fill:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2",stroke:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2"}:{opacity:.2,lineWidth:0})).state({active:{style:{opacity:.8,lineWidth:0}}}),r.interaction("element-active"),r.render()})(d.value),(t=>{const e=[{type:"未知",value:654,percent:.02},{type:"17 岁以下",value:654,percent:.02},{type:"18-24 岁",value:4400,percent:.2},{type:"25-29 岁",value:5300,percent:.24},{type:"30-39 岁",value:6200,percent:.28},{type:"40-49 岁",value:3300,percent:.14},{type:"50 岁以上",value:1500,percent:.06}],n=new M({container:t,autoFit:!0,height:500,padding:[50,20,50,20]});n.data(e),n.scale("value",{alias:"销售额(万)"}),n.axis("type",{tickLine:{alignTick:!1}}),n.axis("value",!1),n.tooltip({showMarkers:!1}),n.interval().position("type*value"),n.interaction("element-active"),e.forEach((t=>{n.annotation().text({position:[t.type,t.value],content:t.value,style:{textAlign:"center"},offsetY:-30}).text({position:[t.type,t.value],content:`${(100*t.percent).toFixed(0)}%`,style:{textAlign:"center"},offsetY:-12})})),n.render()})(p.value)})),g=((t,e)=>{for(var n in e||(e={}))a.call(e,n)&&s(t,n,e[n]);if(o)for(var n of o(e))l.call(e,n)&&s(t,n,e[n]);return t})({plot1Ref:t,plot2Ref:e,plot3Ref:n,plot4Ref:u,chartRef:c,barRef:f,indicatorRef:d},zt(h)),i(g,r({ageRef:p}));var g}}),Td={class:"analysis-info"},_d={class:"info"},Bd=(t=>(Vt("data-v-6f2ba6b0"),t=t(),Gt(),t))((()=>Rt("span",{style:{display:"block","font-size":"24px",margin:"24px 0"}},"数据可视化",-1))),Wd={style:{"text-align":"left"}},Ld=qt("数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息，"),Nd=qt("AntV G2 让数据栩栩如生"),jd={class:"card-info"},Vd={class:"info-left"},Gd={class:"img-avatar bg-gray-light-o img-avatar-48"},qd={class:"info-right"},Hd={class:"name font-weight-light"},Yd={class:"count"},Xd=qt(" 经营状况 "),Ud={ref:"plot1Ref"},Zd={ref:"plot2Ref"},Kd={ref:"plot3Ref"},Jd={ref:"plot4Ref"},Qd=qt(" 转化率 "),tp={ref:"barRef"},ep=qt(" 城市分布 "),np={ref:"chartRef"},ip=qt(" 指标转化桑基图 "),rp={ref:"indicatorRef"},op=qt(" 用户年龄分布 "),ap={ref:"ageRef"};var lp=Mt(Rd,[["render",function(t,e,n,i,r,o){const a=Ct("el-link"),l=Ct("el-card"),s=Ct("el-col"),u=Ct("el-row");return Pt(),It("div",Td,[Rt("div",_d,[Bd,Rt("span",Wd,[Ld,Tt(a,{type:"primary",href:"https://g2.antv.vision/zh/examples/"},{default:_t((()=>[Nd])),_:1})])]),Tt(l,null,{default:_t((()=>[Tt(u,{gutter:20,type:"flex"},{default:_t((()=>[(Pt(!0),It(Bt,null,Wt(t.cardItems,(t=>(Pt(),Lt(s,{key:t.id,xs:12,sm:8,md:6,lg:5,xl:4},{default:_t((()=>[Tt(l,{shadow:"always","body-style":{cursor:"pointer",padding:"16px","background-color":t.background}},{default:_t((()=>[Rt("div",jd,[Rt("div",Vd,[Rt("span",Gd,[Rt("i",{class:Nt(t.icon)},null,2)])]),Rt("div",qd,[Rt("span",Hd,jt(t.itemName),1),Rt("h3",Yd,jt(t.itemCount),1)])])])),_:2},1032,["body-style"])])),_:2},1024)))),128))])),_:1})])),_:1}),Tt(u,{style:{margin:"15px"}},{default:_t((()=>[Tt(s,{span:16},{default:_t((()=>[Tt(u,null,{default:_t((()=>[Tt(s,{span:6},{default:_t((()=>[Xd])),_:1})])),_:1}),Tt(u,null,{default:_t((()=>[Tt(s,{span:6},{default:_t((()=>[Rt("div",Ud,null,512)])),_:1}),Tt(s,{span:6},{default:_t((()=>[Rt("div",Zd,null,512)])),_:1}),Tt(s,{span:6},{default:_t((()=>[Rt("div",Kd,null,512)])),_:1}),Tt(s,{span:6},{default:_t((()=>[Rt("div",Jd,null,512)])),_:1})])),_:1}),Tt(u,null,{default:_t((()=>[Tt(u,null,{default:_t((()=>[Tt(s,{span:24},{default:_t((()=>[Qd])),_:1})])),_:1}),Tt(s,{span:24},{default:_t((()=>[Rt("div",tp,null,512)])),_:1})])),_:1})])),_:1}),Tt(s,{span:8},{default:_t((()=>[Tt(u,null,{default:_t((()=>[ep])),_:1}),Rt("div",np,null,512)])),_:1})])),_:1}),Tt(u,{justify:"start"},{default:_t((()=>[ip])),_:1}),Tt(u,null,{default:_t((()=>[Tt(s,{span:24},{default:_t((()=>[Rt("div",rp,null,512)])),_:1})])),_:1}),Tt(u,{justify:"start"},{default:_t((()=>[op])),_:1}),Tt(u,null,{default:_t((()=>[Tt(s,{span:24},{default:_t((()=>[Rt("div",ap,null,512)])),_:1})])),_:1})])}],["__scopeId","data-v-6f2ba6b0"]]);export{lp as default};
