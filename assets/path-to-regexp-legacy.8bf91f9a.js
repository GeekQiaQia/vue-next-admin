!function(){function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}System.register([],(function(r){"use strict";return{execute:function(){r("c",(function(r,t){return function(r,t){void 0===t&&(t={});var n=function(e){return e&&e.sensitive?"":"i"}(t),i=t.encode,o=void 0===i?function(e){return e}:i,f=t.validate,a=void 0===f||f,u=r.map((function(r){if("object"===e(r))return new RegExp("^(?:"+r.pattern+")$",n)}));return function(e){for(var t="",n=0;n<r.length;n++){var i=r[n];if("string"!=typeof i){var f=e?e[i.name]:void 0,p="?"===i.modifier||"*"===i.modifier,s="*"===i.modifier||"+"===i.modifier;if(Array.isArray(f)){if(!s)throw new TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===f.length){if(p)continue;throw new TypeError('Expected "'+i.name+'" to not be empty')}for(var l=0;l<f.length;l++){var y=o(f[l],i);if(a&&!u[n].test(y))throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+y+'"');t+=i.prefix+y+i.suffix}}else if("string"!=typeof f&&"number"!=typeof f){if(!p){var c=s?"an array":"a string";throw new TypeError('Expected "'+i.name+'" to be '+c)}}else{y=o(String(f),i);if(a&&!u[n].test(y))throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+y+'"');t+=i.prefix+y+i.suffix}}else t+=i}return t}}(function(e,r){void 0===r&&(r={});var t=function(e){var r=[],t=0;for(;t<e.length;){var n=e[t];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)r.push({type:"CHAR",index:t,value:e[t++]});else{var i=1,o="";if("?"===e[a=t+1])throw new TypeError('Pattern cannot start with "?" at '+a);for(;a<e.length;)if("\\"!==e[a]){if(")"===e[a]){if(0===--i){a++;break}}else if("("===e[a]&&(i++,"?"!==e[a+1]))throw new TypeError("Capturing groups are not allowed at "+a);o+=e[a++]}else o+=e[a++]+e[a++];if(i)throw new TypeError("Unbalanced pattern at "+t);if(!o)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:o}),t=a}else{for(var f="",a=t+1;a<e.length;){var u=e.charCodeAt(a);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;f+=e[a++]}if(!f)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:f}),t=a}else r.push({type:"CLOSE",index:t,value:e[t++]});else r.push({type:"OPEN",index:t,value:e[t++]});else r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});else r.push({type:"MODIFIER",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}(e),n=r.prefixes,i=void 0===n?"./":n,o="[^"+function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}(r.delimiter||"/#?")+"]+?",f=[],a=0,u=0,p="",s=function(e){if(u<t.length&&t[u].type===e)return t[u++].value},l=function(e){var r=s(e);if(void 0!==r)return r;var n=t[u],i=n.type,o=n.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},y=function(){for(var e,r="";e=s("CHAR")||s("ESCAPED_CHAR");)r+=e;return r};for(;u<t.length;){var c=s("CHAR"),v=s("NAME"),E=s("PATTERN");if(v||E){var d=c||"";-1===i.indexOf(d)&&(p+=d,d=""),p&&(f.push(p),p=""),f.push({name:v||a++,prefix:d,suffix:"",pattern:E||o,modifier:s("MODIFIER")||""})}else{var h=c||s("ESCAPED_CHAR");if(h)p+=h;else if(p&&(f.push(p),p=""),s("OPEN")){d=y();var m=s("NAME")||"",x=s("PATTERN")||"",w=y();l("CLOSE"),f.push({name:m||(x?a++:""),pattern:m&&!x?o:x,prefix:d,suffix:w,modifier:s("MODIFIER")||""})}else l("END")}}return f}(r,t),t)}))}}}))}();
