!function(){function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var a=document.createElement("style");a.innerHTML=".analysis-info[data-v-6f2ba6b0]{color:#000;padding:0 20px}.analysis-info .indicators[data-v-6f2ba6b0]{font-family:PingFangSC-Regular;display:flex}.analysis-info .card-info[data-v-6f2ba6b0]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px}.analysis-info .card-info .info-left .bg-gray-light-o[data-v-6f2ba6b0]{background-color:rgba(0,20,35,.07)}.analysis-info .card-info .info-left .img-avatar[data-v-6f2ba6b0]{display:inline-block!important;width:64px;height:64px;line-height:64px;text-align:center;vertical-align:middle;border-radius:50%}.analysis-info .card-info .info-left .img-avatar i[data-v-6f2ba6b0]{color:#fff}.analysis-info .card-info .info-left .img-avatar.img-avatar-48[data-v-6f2ba6b0]{width:48px;height:48px;line-height:48px}.analysis-info .card-info .info-right .font-weight-light[data-v-6f2ba6b0]{font-weight:300!important}.analysis-info .card-info .info-right .count[data-v-6f2ba6b0]{color:#fff}.analysis-info .card-info .info-right .name[data-v-6f2ba6b0]{color:rgba(255,255,255,.7);font-size:14px}.analysis-info .indicators .indicator[data-v-6f2ba6b0]{padding:16px}.analysis-info .indicators .indicator .title[data-v-6f2ba6b0]{font-size:12px;color:#000;opacity:.65}.analysis-info .indicators .indicator .measure[data-v-6f2ba6b0]{margin-top:4px;display:flex;align-items:baseline}.analysis-info .indicators .indicator .measure .value[data-v-6f2ba6b0]{margin-right:12px;opacity:.85;font-family:Helvetica;font-size:24px;color:#000}.analysis-info .indicators .indicator .measure .unit[data-v-6f2ba6b0]{font-size:12px;color:#333;opacity:.65}.analysis-info .indicators .indicator .compare[data-v-6f2ba6b0]{display:flex;align-items:baseline}.analysis-info .indicators .indicator .compare .name[data-v-6f2ba6b0]{color:#666;margin-right:4px}.analysis-info .indicators .indicator .compare .icon[data-v-6f2ba6b0]{width:0;height:0;border-left:3.5px solid transparent;border-right:3.5px solid transparent;border-bottom:9px solid #000;margin-right:4px}.analysis-info .indicators .indicator .compare .icon.up[data-v-6f2ba6b0]{transform:rotate(0);color:#f5684a;border-bottom-color:#f5684a}.analysis-info .indicators .indicator .compare .icon.down[data-v-6f2ba6b0]{transform:rotate(180deg);color:#28a995;border-bottom-color:#28a995}.analysis-info .indicators .indicator .compare .value.up[data-v-6f2ba6b0]{color:#f5684a}.analysis-info .indicators .indicator .compare .value.down[data-v-6f2ba6b0]{color:#28a995}.analysis-info .info[data-v-6f2ba6b0]{text-align:left;margin-bottom:20px;font-size:12px}.analysis-info .echart-container .echart[data-v-6f2ba6b0]{background:#100c2a;border:1px solid #fff;margin:10px}.analysis-info .echart-container .bottom-chart[data-v-6f2ba6b0]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.el-card__body[data-v-6f2ba6b0]{padding:0!important}\n",document.head.appendChild(a),System.register(["./index-legacy.a7ff7c45.js","./tslib-legacy.be80471c.js","./index-legacy.734fe7e0.js","./vendor-legacy.2012c796.js"],(function(t){"use strict";var i,a,s,l,u,c,f,p,d,h,g,v,y,x,m,b,_,w,F,A,k,S,M,D,O,E,z,C,P,I,R,T,$,B,W,L,N,j,V,G,q,H,X,Y,U,Z,K,J,Q,tt,et,nt,rt,it,ot,at,st,lt,ut,ct,ft,pt,dt,ht,gt,vt,yt,xt,mt,bt,_t,wt,Ft,At,kt,St,Mt,Dt,Ot,Et,zt,Ct,Pt,It,Rt,Tt,$t,Bt;return{setters:[function(t){i=t.a,a=t.g,s=t.i,l=t.m,u=t.b,c=t.s,f=t.c,p=t.d,d=t.e,h=t.f,g=t.h,v=t.j,y=t.k,x=t.n,m=t.v,b=t.o,_=t.p,w=t.C,F=t.E,A=t.U,k=t.q,S=t.t,M=t.u,D=t.w,O=t.x,E=t.y,z=t.z,C=t.A,P=t.B,I=t.D,R=t.F,T=t.G,$=t.H,B=t.I,W=t.J,L=t.K,N=t.L,j=t.V,V=t.M,G=t.N,q=t.r,H=t.O,X=t.T,Y=t.P,U=t.Q,Z=t.R,K=t.S,J=t.W,Q=t.X,tt=t.Y,et=t.Z,nt=t._,rt=t.$,it=t.a0,ot=t.a1,at=t.a2,st=t.a3,lt=t.a4,ut=t.a5,ct=t.a6,ft=t.a7,pt=t.a8,dt=t.a9,ht=t.aa,gt=t.ab,vt=t.ac,yt=t.l},function(t){xt=t.t},function(t){mt=t._},function(t){bt=t.d,_t=t.r,wt=t.y,Ft=t.b,At=t.A,kt=t.j,St=t.e,Mt=t.c,Dt=t.g,Ot=t.s,Et=t.m,zt=t.F,Ct=t.t,Pt=t.k,It=t.n,Rt=t.v,Tt=t.p,$t=t.f,Bt=t.J}],execute:function(){var Wt,Lt,Nt=regeneratorRuntime.mark(Ku);function jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function Vt(t,e){var n={};return null!==t&&"object"===o(t)&&e.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function Gt(t,e){return e?i(e,(function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)}),t):t}!function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(Lt||(Lt={}));var qt="AntV/G2Plot";function Ht(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return qt+": "+t.replace(/%s/g,(function(){return""+e[r++]}))}function Xt(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e||console[t](Ht.apply(void 0,xt.exports.__spreadArrays([n],r)))}function Yt(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Ut(t,e){return t.geometries.find((function(t){return t.type===e}))}function Zt(t){return i(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function Kt(t){return a(t,["views","length"],0)<=0?Zt(t):i(t.views,(function(t,e){return t.concat(Kt(e))}),Zt(t))}function Jt(t,e){return t.views.find((function(t){return t.id===e}))}function Qt(t){var e=t.parent;return e?e.views:[]}function te(t){return Qt(t).filter((function(e){return e!==t}))}function ee(t){if(!s(t,"Object"))return t;var e=xt.exports.__assign({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}function ne(t,e,n){for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var s,h,g,v=function(t,e,n,r){var i,o,a,s,h=[],g=!!r;if(g){a=[1/0,1/0],s=[-1/0,-1/0];for(var v=0,y=t.length;v<y;v++){var x=t[v];a=l([0,0],a,x),s=u([0,0],s,x)}a=l([0,0],a,r[0]),s=u([0,0],s,r[1])}v=0;for(var m=t.length;v<m;v++){if(x=t[v],n)i=t[v?v-1:m-1],o=t[(v+1)%m];else{if(0===v||v===m-1){h.push(x);continue}i=t[v-1],o=t[v+1]}var b=[0,0];b=c(b,o,i),b=f(b,b,e);var _=p(x,i),w=p(x,o),F=_+w;0!==F&&(_/=F,w/=F);var A=f([0,0],b,-_),k=f([0,0],b,w),S=d([0,0],x,A),M=d([0,0],x,k);g&&(S=u([0,0],S,a),S=l([0,0],S,s),M=u([0,0],M,a),M=l([0,0],M,s)),h.push(S),h.push(M)}return n&&h.push(h.shift()),h}(i,.4,r,n),y=i.length,x=[];for(o=0;o<y-1;o++)s=v[2*o],h=v[2*o+1],g=i[o+1],x.push(["C",s[0],s[1],h[0],h[1],g[0],g[1]]);return r&&(s=v[y],h=v[y+1],g=i[0],x.push(["C",s[0],s[1],h[0],h[1],g[0],g[1]])),x}var re={}.toString,ie=function(t,e){return re.call(t)==="[object "+e+"]"},oe=function(t){return ie(t,"Array")},ae=function(t){if(!function(t){return"object"===o(t)&&null!==t}(t)||!ie(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},se=function t(e,n,r,i){for(var o in r=r||0,i=i||5,n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o];a?ae(a)?(ae(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):oe(a)?(e[o]=[],e[o]=e[o].concat(a)):e[o]=a:e[o]=a}},le=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)se(t,e[r]);return t};function ue(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function ce(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];a(t,"fill")&&(e.color=t.fill);var r=Vt(t,n),i=r.shadowColor,o=r.shadowBlur,s=void 0===o?0:o,l=r.shadowOffsetX,u=void 0===l?0:l,c=r.shadowOffsetY,f=void 0===c?0:c;e["text-shadow"]=""+[i,u+"px",f+"px",s+"px"].join(" ");var p=Vt(t,n),d=p.stroke,h=p.lineWidth,g=void 0===h?0:h;return e["-webkit-text-stroke"]=""+[g+"px",d].join(" "),v(t,(function(t,r){["fontSize"].includes(r)&&y(t)?e[ue(r)]=t+"px":r&&!n.includes(r)&&(e[ue(r)]=""+t)})),e}function fe(t,e){t.style["pointer-events"]="none",v(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var pe,de=function(t,e,n){var r=e.statistic,i=e.plotType,o=r.title,s=r.content;[o,s].forEach((function(e,r){if(e){var l="";l=0===r?s?"translate(-50%, -100%)":"translate(-50%, -50%)":o?"translate(-50%, 0)":"translate(-50%, -50%)";var u=h(e.style)?e.style(n):e.style;t.annotation().html(xt.exports.__assign({position:["50%","50%"],html:function(t,r){var o=r.getCoordinate(),s=0;if("pie"===i||"ring-progress"===i)s=o.getRadius()*o.innerRadius*2;else if("liquid"===i){var c=a(r.geometries,[0,"elements",0,"shape"]);if(c)s=c.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width}else s||(s=o.getWidth());fe(t,xt.exports.__assign({width:s+"px",transform:l},ce(u)));var f=r.getData();if(e.customHtml)return e.customHtml(t,r,n,f);var p=e.content;return e.formatter&&(p=e.formatter(n,f)),p?g(p)?p:""+p:"<div></div>"},key:(0===r?"top":"bottom")+"-statistic"},Vt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};function he(){return pe||(pe=document.createElement("canvas").getContext("2d")),pe}var ge=x((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=e.fontWeight,a=e.fontStyle,s=e.fontVariant,l=he();return l.font=[a,o,s,n+"px",i].join(" "),l.measureText(g(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),xt.exports.__spreadArrays([t],m(e)).join("")}));function ve(t){return"number"==typeof t&&!isNaN(t)}function ye(t,e){if(!t)return{};var n=t.filter((function(t){var n=a(t,[e]);return y(n)&&!isNaN(n)})),r=n.every((function(t){return a(t,[e])>=0})),i=n.every((function(t){return a(t,[e])<=0}));return r?{min:0}:i?{max:0}:{}}function xe(t,e,n,r,i){if(void 0===i&&(i=[]),!Array.isArray(t))return{nodes:[],links:[]};var o=[],a={},s=-1;return t.forEach((function(t){var l=t[e],u=t[n],c=t[r],f=Vt(t,i);a[l]||(a[l]=xt.exports.__assign({id:++s,name:l},f)),a[u]||(a[u]=xt.exports.__assign({id:++s,name:u},f)),o.push(xt.exports.__assign({source:a[l].id,target:a[u].id,value:c},f))})),{nodes:Object.values(a).sort((function(t,e){return t.id-e.id})),links:o}}function me(t,e){var n=b(t,(function(t){var n=t[e];return null===n||"number"==typeof n&&!isNaN(n)}));return Xt(Lt.WARN,n.length===t.length,"illegal data existed in chart data."),n}function be(t){if(y(t))return[t,t,t,t];if(_(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function _e(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var r=be(t),i=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+i[0],r[1]+i[1],r[2]+i[2],r[3]+i[3]]}function we(t){var e=t.map((function(t){return be(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(r,i){t+=e[i][n]})),t}))),n}var Fe="en-US",Ae={};function ke(t,e){Ae[t]=e}function Se(t){return{get:function(e,n){return Gt(a(Ae[t],e)||a(Ae[Fe],e)||a(Ae["en-US"],e)||e,n)}}}var Me={},De={},Oe={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1;t.default=function(){return"".concat(e++)}}(Oe);var Ee={},ze={},Ce={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(r,o)}),e)}}}(Ce);var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.SensorTabIndex=Pe.SensorClassName=Pe.SizeSensorId=void 0;Pe.SizeSensorId="size-sensor-id";Pe.SensorClassName="size-sensor-object";Pe.SensorTabIndex="-1",Object.defineProperty(ze,"__esModule",{value:!0}),ze.createSensor=void 0;var Ie,Re=(Ie=Ce)&&Ie.__esModule?Ie:{default:Ie},Te=Pe;ze.createSensor=function(t){var e=void 0,n=[],r=(0,Re.default)((function(){n.forEach((function(e){e(t)}))})),i=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",r),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(i){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",r),r()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",Te.SensorClassName),e.setAttribute("tabindex",Te.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(i)&&n.push(i)},destroy:i,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&i()}}};var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.createSensor=void 0;var Be=function(t){return t&&t.__esModule?t:{default:t}}(Ce);$e.createSensor=function(t){var e=void 0,n=[],r=(0,Be.default)((function(){n.forEach((function(e){e(t)}))})),i=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(i){var o;e||((o=new ResizeObserver(r)).observe(t),r(),e=o),-1===n.indexOf(i)&&n.push(i)},destroy:i,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&i()}}},Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.createSensor=void 0;var We=ze,Le="undefined"!=typeof ResizeObserver?$e.createSensor:We.createSensor;Ee.createSensor=Le,Object.defineProperty(De,"__esModule",{value:!0}),De.removeSensor=De.getSensor=void 0;var Ne=function(t){return t&&t.__esModule?t:{default:t}}(Oe),je=Ee,Ve=Pe;var Ge={};De.getSensor=function(t){var e=t.getAttribute(Ve.SizeSensorId);if(e&&Ge[e])return Ge[e];var n=(0,Ne.default)();t.setAttribute(Ve.SizeSensorId,n);var r=(0,je.createSensor)(t);return Ge[n]=r,r};De.removeSensor=function(t){var e=t.element.getAttribute(Ve.SizeSensorId);t.element.removeAttribute(Ve.SizeSensorId),t.destroy(),e&&Ge[e]&&delete Ge[e]},Object.defineProperty(Me,"__esModule",{value:!0}),Me.ver=Me.clear=He=Me.bind=void 0;var qe=De,He=Me.bind=function(t,e){var n=(0,qe.getSensor)(t);return n.bind(e),function(){n.unbind(e)}};Me.clear=function(t){var e=(0,qe.getSensor)(t);(0,qe.removeSensor)(e)};Me.ver="1.0.1";var Xe="data-chart-source-type",Ye=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Ue=function(t){function e(e,n){var r=t.call(this)||this;return r.container="string"==typeof e?document.getElementById(e):e,r.options=le({},r.getDefaultOptions(),n),r.createG2(),r.bindEvents(),r}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,r=t.defaultInteractions;this.chart=new w(xt.exports.__assign(xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),Vt(this.options,Ye)),{defaultInteractions:r})),this.container.setAttribute(Xe,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=Yt(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null==e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=le({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=Kt(this.chart);v(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=Kt(this.chart),e=[];return v(t,(function(t){var n=t.getData(),r=t.getStates();v(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t){var e=xt.exports.__spreadArrays(t),n=this.chart.getController("annotation"),r=n.getComponents().map((function(t){return t.extra}));n.clear(!0);for(var i=function(t){var i=r[t],o=e.findIndex((function(t){return t.id&&t.id===i.id}));-1!==o&&(i=le({},i,e[o]),e.splice(o,1)),n.annotation(i)},o=0;o<r.length;o++)i(o);e.forEach((function(t){return n.annotation(t)})),this.chart.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var r=function(r){var i=n[r];t.find((function(t){return t.id&&t.id===i.id}))||e.annotation(i)},i=0;i<n.length;i++)r(i);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(Xe)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,r=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=r,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=He(this.container,(function(){var e=Yt(t.container),n=e.width,r=e.height;n===t.chart.width&&r===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(F),Ze=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function Ke(){return"object"===("undefined"==typeof window?"undefined":o(window))?null===window||void 0===window?void 0:window.devicePixelRatio:2}function Je(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=Ke();return n.width=t*r,n.height=e*r,n.style.width=t+"px",n.style.height=e+"px",n.getContext("2d").scale(r,r),n}function Qe(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,o=e.opacity;t.globalAlpha=o,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()}function tn(t,e,n){var r=t+e;return n?2*r:r}function en(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]}function nn(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}var rn={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function on(t,e,n,r){var i=e.size,o=e.fill,a=e.lineWidth,s=e.stroke,l=e.fillOpacity;t.beginPath(),t.globalAlpha=l,t.fillStyle=o,t.strokeStyle=s,t.lineWidth=a,t.arc(n,r,i/2,0,2*Math.PI,!1),t.fill(),a&&t.stroke(),t.closePath()}var an={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function sn(t){var e=le({},an,t),n=e.spacing,r=e.rotation,i=e.lineWidth,o=n+i||1,a=n+i||1,s="\n            M 0 0 L "+o+" 0\n            M 0 "+a+" L "+o+" "+a+"\n            ",l=Je(o,a),u=l.getContext("2d");Qe(u,e,o,a),function(t,e,n){var r=e.stroke,i=e.lineWidth,o=e.strokeOpacity,a=new Path2D(n);t.globalAlpha=o,t.lineCap="square",t.strokeStyle=i?r:"transparent",t.lineWidth=i,t.stroke(a)}(u,e,s);var c=u.createPattern(l,"repeat");if(c){var f=nn(Ke(),r);c.setTransform(f)}return c}var ln={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function un(t,e,n,r){var i=e.stroke,o=e.size,a=e.fill,s=e.lineWidth,l=e.fillOpacity;t.globalAlpha=l,t.strokeStyle=i,t.lineWidth=s,t.fillStyle=a,t.strokeRect(n-o/2,r-o/2,o,o),t.fillRect(n-o/2,r-o/2,o,o)}function cn(t){var e,n=t.type,r=t.cfg;switch(n){case"dot":e=function(t){var e=le({},rn,t),n=e.size,r=e.padding,i=e.isStagger,o=e.rotation,a=tn(n,r,i),s=en(a,i),l=Je(a,a),u=l.getContext("2d");Qe(u,e,a);for(var c=0,f=s;c<f.length;c++){var p=f[c];on(u,e,p[0],p[1])}var d=u.createPattern(l,"repeat");if(d){var h=nn(Ke(),o);d.setTransform(h)}return d}(r);break;case"line":e=sn(r);break;case"square":e=function(t){var e=le({},ln,t),n=e.size,r=e.padding,i=e.isStagger,o=e.rotation,a=tn(n,r,i),s=en(a,i),l=Je(a,a),u=l.getContext("2d");Qe(u,e,a);for(var c=0,f=s;c<f.length;c++){var p=f[c];un(u,e,p[0],p[1])}var d=u.createPattern(l,"repeat");if(d){var h=nn(Ke(),o);d.setTransform(h)}return d}(r)}return e}function fn(t){var e=this;return function(n){var r,i=n.options,o=n.chart,s=i.pattern;if(!s)return n;return le({},n,{options:(r={},r[t]=function(n){for(var r,l,u,c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var p=o.getTheme().defaultColor,d=p,h=null===(l=null===(r=o.geometries)||void 0===r?void 0:r[0])||void 0===l?void 0:l.getAttribute("color");if(h){var g=h.getFields()[0],v=a(n,g);d=A.getMappingValue(h,v,(null===(u=h.values)||void 0===u?void 0:u[0])||p)}var y=s;"function"==typeof s&&(y=s.call(e,n,d)),y instanceof CanvasPattern==!1&&(y=cn(le({},{cfg:{backgroundColor:d}},y)));var x=i[t];return xt.exports.__assign(xt.exports.__assign({},"function"==typeof x?x.call.apply(x,xt.exports.__spreadArrays([e,n],c)):x||{}),{fill:y||d})},r)})}}function pn(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.seriesField;return!1===r?e.legend(!1):(i||o)&&e.legend(i||o,r),t}function dn(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function hn(t){var e=t.chart,n=t.options.interactions;return v(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function gn(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),v(e.geometries,(function(t){t.animate(n)})),t}function vn(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function yn(t){var e=t.chart,n=t.options.state;return n&&v(e.geometries,(function(t){t.state(n)})),t}function xn(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function mn(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function bn(t,e){return function(n){var r=n.chart,i=n.options,o={};return v(t,(function(t,e){o[e]=Vt(t,Ze)})),o=le({},e,i.meta,o),r.scale(o),n}}function _n(t){return function(e){var n=e.chart,r=e.options,i=n.getController("annotation");return v(xt.exports.__spreadArrays(r.annotations||[],t||[]),(function(t){i.annotation(t)})),e}}function wn(t){var e=t.chart,n=t.options,r=n.yAxis,i=n.limitInPlot,o=i;return k(r)&&S(i)&&(o=!!Object.values(Vt(r,["min","max","minLimit","maxLimit"])).some((function(t){return!S(t)}))),e.limitInPlot=o,t}function Fn(t,e){if(!1===t)return{fields:!1};var n=a(t,"fields"),r=a(t,"formatter");return r&&!n&&(n=e),{fields:n,formatter:r}}function An(t,e){var n=t.type,r=t.xField,i=t.yField,o=t.colorField,a=t.shapeField,s=t.sizeField,l=t.styleField,u=t.rawFields,c=void 0===u?[]:u,f=[];if("color"===e)f=xt.exports.__spreadArrays([o||r],c);else if("shape"===e)f=xt.exports.__spreadArrays([a||r],c);else if("size"===e)f=xt.exports.__spreadArrays([s||r],c);else{f=xt.exports.__spreadArrays([r,i,o,a,s,l],c);var p=["x","y","color","shape","size","style"].indexOf(e),d=f[p];f.splice(p,1),f.unshift(d)}var h=D(f.filter((function(t){return!!t}))),g="line"===n&&[r,i].includes(h.join("*"))?"":h.join("*");return{mappingFields:h,tileMappingField:g}}function kn(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};return t.forEach((function(t,e){i[t]=n[e]})),delete i[void 0],e(i)}}function Sn(t){var e=t.chart,n=t.options,r=n.type,i=n.args,o=n.mapping,a=n.xField,s=n.yField,l=n.colorField,u=n.shapeField,c=n.sizeField,f=n.tooltipFields,p=n.label,d=n.state,v=n.customInfo;if(!o)return t;var x=o.color,m=o.shape,b=o.size,_=o.style,w=o.tooltip,F=e[r](i).position(a+"*"+s);if(g(x))l?F.color(l,x):F.color(x);else if(h(x)){var A=An(n,"color"),S=A.mappingFields,D=A.tileMappingField;F.color(D,kn(S,x))}else l&&F.color(l,x);if(g(m))u?F.shape(u,[m]):F.shape(m);else if(h(m)){var O=An(n,"shape");S=O.mappingFields,D=O.tileMappingField;F.shape(D,kn(S,m))}else u&&F.shape(u,m);if(y(b))c?F.size(c,b):F.size(b);else if(h(b)){var E=An(n,"size");S=E.mappingFields,D=E.tileMappingField;F.size(D,kn(S,b))}else c&&F.size(c,b);if(h(_)){var z=An(n,"style");S=z.mappingFields,D=z.tileMappingField;F.style(D,kn(S,_))}else k(_)&&F.style(_);if(!1===f?F.tooltip(!1):M(f)||F.tooltip(f.join("*"),kn(f,w)),!1===p)F.label(!1);else if(p){var C=p.callback,P=p.fields,I=xt.exports.__rest(p,["callback","fields"]);F.label({fields:P||[s],callback:C,cfg:ee(I)})}return d&&F.state(d),v&&F.customInfo(v),[a,s].filter((function(t){return t!==l})).forEach((function(t){e.legend(t,!1)})),xt.exports.__assign(xt.exports.__assign({},t),{ext:{geometry:F}})}function Mn(t){var e=t.options,n=e.area,r=e.xField,i=e.yField,o=e.seriesField,a=e.smooth,s=Fn(e.tooltip,[r,i,o]),l=s.fields,u=s.formatter;return n?Sn(le({},t,{options:{type:"area",colorField:o,tooltipFields:l,mapping:xt.exports.__assign({shape:a?"smooth":"area",tooltip:u},n)}})):t}function Dn(t){var e=t.options,n=e.line,r=e.stepType,i=e.xField,o=e.yField,a=e.seriesField,s=e.smooth,l=e.connectNulls,u=Fn(e.tooltip,[i,o,a]),c=u.fields,f=u.formatter;return n?Sn(le({},t,{options:{type:"line",colorField:a,tooltipFields:c,mapping:O({shape:r||(s?"smooth":"line"),tooltip:f},n),args:{connectNulls:l}}})):t}function On(t){var e=t.options,n=e.point,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,s=e.shapeField,l=Fn(e.tooltip,[r,i,o,a,s]),u=l.fields,c=l.formatter;return n?Sn(le({},t,{options:{type:"point",colorField:o,shapeField:s,tooltipFields:u,mapping:xt.exports.__assign({tooltip:c},n)}})):t}function En(t){var e=t.options,n=e.xField,r=e.yField,i=e.interval,o=e.seriesField,a=e.tooltip,s=e.minColumnWidth,l=e.maxColumnWidth,u=e.columnBackground,c=e.dodgePadding,f=e.intervalPadding,p=Fn(a,[n,r,o]),d=p.fields,h=p.formatter,g=(i?Sn(le({},t,{options:{type:"interval",colorField:o,tooltipFields:d,mapping:xt.exports.__assign({tooltip:h},i),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:s,maxColumnWidth:l,background:u}}})):t).ext;return function(t){var e=t.chart,n=t.options,r=t.ext,i=n.seriesField,o=n.isGroup,a=n.isStack,s=n.marginRatio,l=n.widthRatio,u=n.groupField,c=n.theme,f=[];return i&&(o&&f.push({type:"dodge",dodgeBy:u||i,marginRatio:s}),a&&f.push({type:"stack",marginRatio:s})),f.length&&(null==r?void 0:r.geometry)&&(null==r?void 0:r.geometry).adjust(f),S(l)||e.theme(le({},k(c)?c:E(c),{columnWidthRatio:l})),t}(xt.exports.__assign(xt.exports.__assign({},t),{ext:g}))}function zn(t){var e=t.options,n=e.polygon,r=e.xField,i=e.yField,o=e.seriesField,a=Fn(e.tooltip,[r,i,o]),s=a.fields,l=a.formatter;return n?Sn(le({},t,{options:{type:"polygon",colorField:o,tooltipFields:s,mapping:xt.exports.__assign({tooltip:l},n)}})):t}function Cn(t){var e=t.options,n=e.edge,r=e.xField,i=e.yField,o=e.seriesField,a=Fn(e.tooltip,[r,i,o]),s=a.fields,l=a.formatter;return n?Sn(le({},t,{options:{type:"edge",colorField:o,tooltipFields:s,mapping:xt.exports.__assign({tooltip:l},n)}})):t}function Pn(t){var e=t.options,n=e.schema,r=e.xField,i=e.yField,o=e.seriesField,a=Fn(e.tooltip,[r,i,o]),s=a.fields,l=a.formatter;return n?Sn(le({},t,{options:{type:"schema",colorField:o,tooltipFields:s,mapping:xt.exports.__assign({tooltip:l},n)}})):t}function In(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.lineShape,s=n.point,l=n.area,u=n.seriesField,c=null==s?void 0:s.state,f=null==l?void 0:l.state;e.data(r);var p=le({},t,{options:{shapeField:u,line:{color:i,style:o,shape:a},point:s&&xt.exports.__assign({color:i,shape:"circle"},s),area:l&&xt.exports.__assign({color:i},l),label:void 0}}),d=le({},p,{options:{tooltip:!1,state:c}}),h=le({},p,{options:{tooltip:!1,state:f}});return Dn(p),On(d),Mn(h),t}function Rn(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,s=r.yField,l=r.data;return jt(bn(((e={})[a]=i,e[s]=o,e),((n={})[a]={type:"cat"},n[s]=ye(l,s),n)))(t)}function Tn(t){var e=t.chart,n=t.options.reflect;if(n){var r=n;_(r)||(r=[r]);var i=r.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:i})}return t}function $n(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function Bn(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function Wn(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=Ut(e,"line");if(r){var a=r.callback,s=xt.exports.__rest(r,["callback"]);o.label({fields:[i],callback:a,cfg:xt.exports.__assign({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ee(s))})}else o.label(!1);return t}function Ln(t){var e=t.chart;return t.options.isStack&&v(e.geometries,(function(t){t.adjust("stack")})),t}function Nn(t){return jt(In,Rn,Ln,vn,Tn,$n,Bn,dn,Wn,xn,hn,gn,_n(),wn)(t)}var jn=le({},Ue.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),Vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,r=t.geometries.filter((function(t){return"point"===t.type}));v(r,(function(t){v(t.elements,(function(t){var e=-1!==z(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));v(t,(function(t){v(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(C);P("marker-active",Vn),I("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return jn},e.prototype.changeData=function(t){this.updateOption({data:t});Rn({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Nn},e}(Ue);function qn(t,e,n,r){var o=i(t,(function(t,r){var i=r[n],o=t.has(i)?t.get(i):0,a=r[e];return o=ve(a)?o+a:o,t.set(i,o),t}),new Map);return R(t,(function(t){var i,a=t[e],s=t[n],l=ve(a)?a/o.get(s):0;return xt.exports.__assign(xt.exports.__assign({},t),((i={})[r]=l,i))}))}function Hn(t,e,n,r,i){return i?qn(t,e,n,r):t}function Xn(t){var e=t.chart,n=t.options,r=n.data,i=n.areaStyle,o=n.color,a=n.point,s=n.line,l=n.isPercent,u=n.xField,c=n.yField,f=n.tooltip,p=n.seriesField,d=n.startOnZero,h=null==a?void 0:a.state,g=Hn(r,c,u,c,l);e.data(g);var v=l?xt.exports.__assign({formatter:function(t){return{name:t[p]||t[u],value:(100*Number(t[c])).toFixed(2)+"%"}}},f):f,y=le({},t,{options:{area:{color:o,style:i},point:a&&xt.exports.__assign({color:o},a),tooltip:v,label:void 0,args:{startOnZero:d}}}),x={chart:e,options:le({line:{size:2}},T(n,["state"]),{line:s&&xt.exports.__assign({color:o},s),sizeField:p,state:null==s?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:d}})},m=le({},y,{options:{tooltip:!1,state:h}});return Mn(y),Dn(x),On(m),t}function Yn(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=Ut(e,"area");if(r){var a=r.callback,s=xt.exports.__rest(r,["callback"]);o.label({fields:[i],callback:a,cfg:xt.exports.__assign({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ee(s))})}else o.label(!1);return t}function Un(t){var e=t.chart,n=t.options,r=n.isStack,i=n.isPercent,o=n.seriesField;return(i||r)&&o&&v(e.geometries,(function(t){t.adjust("stack")})),t}function Zn(t){return jt(vn,fn("areaStyle"),Xn,Rn,Un,$n,Bn,dn,Yn,xn,_n(),hn,gn,wn)(t)}var Kn=le({},Ue.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),Jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Kn},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,i=e.yField;Rn({chart:this.chart,options:this.options}),this.chart.changeData(Hn(t,i,r,i,n))},e.prototype.getSchemaAdaptor=function(){return Zn},e}(Ue);function Qn(t,e){return y(t)&&y(e)?t===e?"100%":0===t?"∞":0===e?"-∞":(100*e/t).toFixed(2)+"%":"-"}function tr(t,e){return le({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:Qn}},t)}function er(t,e){return R(e.getModel().points,(function(e){return t.convertPoint(e)}))}function nr(t,e,n){!function(t,e,n){var r=t.view,i=t.geometry,o=t.group,a=t.options,s=t.horizontal,l=a.offset,u=a.size,c=a.arrow,f=r.getCoordinate(),p=er(f,e)[3],d=er(f,n)[0],h=d.y-p.y,g=d.x-p.x;if("boolean"!=typeof c){var v,y=c.headSize,x=a.spacing;s?(g-y)/2<x?(x=Math.max(1,(g-y)/2),v=[[p.x+x,p.y-l],[p.x+x,p.y-l-u],[d.x-x,d.y-l-u/2]]):v=[[p.x+x,p.y-l],[p.x+x,p.y-l-u],[d.x-x-y,d.y-l-u],[d.x-x,d.y-l-u/2],[d.x-x-y,d.y-l]]:(h-y)/2<x?(x=Math.max(1,(h-y)/2),v=[[p.x+l,p.y+x],[p.x+l+u,p.y+x],[d.x+l+u/2,d.y-x]]):v=[[p.x+l,p.y+x],[p.x+l+u,p.y+x],[d.x+l+u,d.y-x-y],[d.x+l+u/2,d.y-x],[d.x+l,d.y-x-y]],o.addShape("polygon",{id:r.id+"-conversion-tag-arrow-"+i.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:xt.exports.__assign(xt.exports.__assign({},c.style||{}),{points:v})})}}(t,e,n),function(t,e,n){var r,i,o,a=t.view,s=t.geometry,l=t.group,u=t.options,c=t.field,f=t.horizontal,p=u.offset,d=u.size;if("boolean"!=typeof u.text){var h=a.getCoordinate(),g=(null===(r=u.text)||void 0===r?void 0:r.formatter)&&(null===(i=u.text)||void 0===i?void 0:i.formatter(e.getData()[c],n.getData()[c])),v=er(h,e)[f?3:0],y=er(h,n)[f?0:3],x=l.addShape("text",{id:a.id+"-conversion-tag-text-"+s.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:xt.exports.__assign(xt.exports.__assign({},(null===(o=u.text)||void 0===o?void 0:o.style)||{}),{text:g,x:f?(v.x+y.x)/2:v.x+p+d/2,y:f?v.y-p-d/2:(v.y+y.y)/2})});if(f){var m=y.x-v.x,b=x.getBBox().width;if(b>m){var _=b/g.length,w=Math.max(1,Math.ceil(m/_)-1),F=g.slice(0,w)+"...";x.attr("text",F)}}}}(t,e,n)}var rr={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},ir=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};I(rr.hover,{start:ir(rr.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),I(rr.click,{start:ir(rr.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var or={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},ar=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=xt.exports.__assign({name:"button"},or),e}return xt.exports.__extends(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=a(t,["interactions","filter-action","cfg","buttonConfig"]);return le(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:xt.exports.__assign({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,r=this.getButtonCfg(),i=be(r.padding),o=t.addShape({type:"rect",name:"button-rect",attrs:xt.exports.__assign({x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2]},null===(n=r.buttonStyle)||void 0===n?void 0:n.default)});return o.toBack(),t.on("mouseenter",(function(){var t;o.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;o.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.default)})),o},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=A.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(C);function sr(t){return t.isInPlot()}function lr(t,e,n){var r=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:sr,action:["brush:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:sr,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:sr,action:["brush:filter","brush:end",r+"-mask:end",r+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null==n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:sr,action:["brush-x:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:sr,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:sr,action:["brush-x:filter","brush-x:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:sr,action:["brush-y:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:sr,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:sr,action:["brush-y:filter","brush-y:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}P("brush-reset-button",ar,{name:"brush-reset-button"}),I("filter-action",{}),I("brush",lr("brush")),I("brush-highlight",lr("brush-highlight")),I("brush-x",lr("brush-x","x-rect")),I("brush-y",lr("brush-y","y-rect")),I("brush-x-highlight",lr("brush-x-highlight","x-rect")),I("brush-y-highlight",lr("brush-y-highlight","y-rect"));var ur=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function cr(t){var e=t.options,n=e.brush,r=b(e.interactions||[],(function(t){return-1===ur.indexOf(t.type)}));return(null==n?void 0:n.enabled)&&(ur.forEach((function(t){var e,i=!1;switch(n.type){case"x-rect":i=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":i=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:i=t===("highlight"===n.action?"brush-highlight":"brush")}var o={type:t,enable:i};((null===(e=n.mask)||void 0===e?void 0:e.style)||n.type)&&(o.cfg=lr(t,n.type,n.mask)),r.push(o)})),"highlight"!==(null==n?void 0:n.action)&&r.push({type:"filter-action",cfg:{buttonConfig:n.button}})),le({},t,{options:{interactions:r}})}function fr(t){var e=t.options,n=e.legend,r=e.seriesField,i=e.isStack;return r?!1!==n&&(n=xt.exports.__assign({position:i?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function pr(t){var e=t.chart,n=t.options,r=n.data,o=n.columnStyle,a=n.color,s=n.columnWidthRatio,l=n.isPercent,u=n.isGroup,c=n.isStack,f=n.xField,p=n.yField,d=n.seriesField,h=n.groupField,g=n.tooltip,v=n.shape,y=l&&u&&c?function(t,e,n,r){var o=i(t,(function(t,r){var o=i(n,(function(t,e){return""+t+r[e]}),""),a=t.has(o)?t.get(o):0,s=r[e];return a=ve(s)?a+s:a,t.set(o,a),t}),new Map);return R(t,(function(t){var a,s=t[e],l=i(n,(function(e,n){return""+e+t[n]}),""),u=ve(s)?s/o.get(l):0;return xt.exports.__assign(xt.exports.__assign({},t),((a={})[r]=u,a))}))}(r,p,[f,h],p):Hn(r,p,f,p,l),x=[];c&&d&&!u?y.forEach((function(t){var e=x.find((function(e){return e[f]===t[f]&&e[d]===t[d]}));e?e[p]+=t[p]||0:x.push(xt.exports.__assign({},t))})):x=y,e.data(x);var m=l?xt.exports.__assign({formatter:function(t){return{name:u&&c?t[d]+" - "+t[h]:t[d]||t[f],value:(100*Number(t[p])).toFixed(2)+"%"}}},g):g,b=le({},t,{options:{data:x,widthRatio:s,tooltip:m,interval:{shape:v,style:o,color:a}}});return En(b),b}function dr(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,s=r.yField,l=r.data,u=r.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return jt(bn(((e={})[a]=i,e[s]=o,e),((n={})[a]={type:"cat"},n[s]=xt.exports.__assign(xt.exports.__assign({},ye(l,s)),u),n)))(t)}function hr(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function gr(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function vr(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=n.isRange,a=Ut(e,"interval");if(r){var s=r.callback,l=xt.exports.__rest(r,["callback"]);a.label({fields:[i],callback:s,cfg:xt.exports.__assign({layout:(null==l?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ee(o?xt.exports.__assign({content:function(t){var e;return null===(e=t[i])||void 0===e?void 0:e.join("-")}},l):l))})}else a.label(!1);return t}function yr(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.isGroup,o=n.isStack,a=n.groupField,s=n.data,l=n.xField,u=n.yField,c=n.seriesField;if(!1===r)e.tooltip(!1);else{var f=r;if(i&&o){var p=(null==f?void 0:f.formatter)||function(t){return{name:t[c]+" - "+t[a],value:t[u]}};f=xt.exports.__assign(xt.exports.__assign({},f),{customItems:function(t){var e=[];return v(t,(function(t){b(s,(function(e){return B(e,Vt(t.data,[l,c]))})).forEach((function(n){e.push(xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},t),{value:n[u],data:n,mappingData:{_origin:n}}),p(n)))}))})),e}})}e.tooltip(f)}return t}function xr(t,e){void 0===e&&(e=!1);var n,r=t.options,i=r.seriesField;return jt(fr,vn,fn("columnStyle"),yn,pr,dr,hr,gr,yr,xn,mn,vr,cr,hn,gn,_n(),function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(r){var i=r.options,o=r.chart,a=i.conversionTag,s=i.theme;return a&&!n&&(o.theme(le({},k(s)?s:E(s),{columnWidthRatio:1/3})),o.annotation().shape({render:function(n,r){var i=n.addGroup({id:o.id+"-conversion-tag-group",name:"conversion-tag-group"}),s=$(o.geometries,(function(t){return"interval"===t.type})),l={view:r,geometry:s,group:i,field:t,horizontal:e,options:tr(a,e)},u=s.elements;v(u,(function(t,e){e>0&&nr(l,u[e-1],t)}))}})),r}}(r.yField,!e,!!i),(void 0===(n=!r.isStack)&&(n=!1),function(t){var e=t.chart,r=t.options.connectedArea,i=function(){e.removeInteraction(rr.hover),e.removeInteraction(rr.click)};if(!n&&r){var o=r.trigger||"hover";i(),e.interaction(rr[o],{start:ir(o,r.style)})}else i();return t}),wn)(t)}var mr=le({},Ue.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),br=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return mr},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,i=e.isPercent;dr({chart:this.chart,options:this.options}),this.chart.changeData(Hn(t,n,r,n,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xr},e}(Ue);function _r(t){var e=t.options,n=e.xField,r=e.yField,i=e.xAxis,o=e.yAxis,a={left:"bottom",right:"top",top:"left",bottom:"right"},s=!1!==o&&xt.exports.__assign({position:a[(null==o?void 0:o.position)||"left"]},o),l=!1!==i&&xt.exports.__assign({position:a[(null==i?void 0:i.position)||"bottom"]},i);return xt.exports.__assign(xt.exports.__assign({},t),{options:xt.exports.__assign(xt.exports.__assign({},e),{xField:r,yField:n,xAxis:s,yAxis:l})})}function wr(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),le({},t,{options:{label:e}})}function Fr(t){var e=t.options,n=e.seriesField,r=e.isStack,i=e.legend;return n?!1!==i&&(i=xt.exports.__assign({position:r?"top-left":"right-top"},i||{})):i=!1,le({},t,{options:{legend:i}})}function Ar(t){return t.chart.coordinate({actions:[["transpose"],["reflect","y"]]}),t}function kr(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.barWidthRatio,o=n.minBarWidth,a=n.maxBarWidth,s=n.barBackground;return xr({chart:e,options:xt.exports.__assign(xt.exports.__assign({},n),{columnStyle:r,columnWidthRatio:i,minColumnWidth:o,maxColumnWidth:a,columnBackground:s})},!0)}function Sr(t){return jt(_r,wr,Fr,dn,Ar,kr)(t)}var Mr=le({},Ue.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),Dr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Mr},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,r=n.xField,i=n.yField,o=n.isPercent;dr({chart:e,options:xt.exports.__assign(xt.exports.__assign({},n),{xField:i,yField:r})}),e.changeData(Hn(t,r,i,r,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Sr},e}(Ue),Or=le({},Ue.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function Er(t,e){var n;switch(t){case"inner":return n="-30%",g(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,g(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function zr(t,e){return W(me(t,e),(function(t){return 0===t[e]}))}var Cr=[1,0,0,0,1,0,0,0,1];function Pr(t,e){var n=e?xt.exports.__spreadArrays(e):xt.exports.__spreadArrays(Cr);return A.transform(n,t)}var Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.getActiveElements=function(){var t=A.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,i=n.get("field");if(i)return e.geometries[0].elements.filter((function(t){return t.getModel().data[i]===r.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return L(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,r){var i=n[r],o=e.geometry.coordinate;if(o.isPolar&&o.isTransposed){var a=A.getAngle(e.getModel(),o),s=(a.startAngle+a.endAngle)/2,l=t,u=l*Math.cos(s),c=l*Math.sin(s);e.shape.setMatrix(Pr([["t",u,c]])),i.setMatrix(Pr([["t",u,c]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(C);var Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,r=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var i=a(r,["data","data"]);if(r.type.match("legend-item")){var s=A.getDelegationObject(this.context),l=n.getGroupedFields()[0];if(s&&l){var u=s.item;i=n.getData().find((function(t){return t[l]===u.value}))}}if(i){var c=a(t,"annotations",[]),f=a(t,"statistic",{});n.getController("annotation").clear(!0),v(c,(function(t){"object"===o(t)&&n.annotation()[t.type](t)})),de(n,{statistic:f,plotType:"pie"},i),n.render(!0)}var p,d,h,g=(p=this.context,(h=p.event.target)&&(d=h.get("element")),d);g&&g.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();v(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(C),Tr="pie-statistic";function $r(t){var e=t.chart,n=t.options,r=n.data,i=n.angleField,o=n.colorField,a=n.color,s=n.pieStyle,l=me(r,i);if(zr(l,i)){var u="$$percentage$$";l=l.map((function(t){var e;return xt.exports.__assign(xt.exports.__assign({},t),((e={}).$$percentage$$=1/l.length,e))})),e.data(l),En(le({},t,{options:{xField:"1",yField:u,seriesField:o,isStack:!0,interval:{color:a,style:s},args:{zIndexReversed:!0}}}))}else{e.data(l),En(le({},t,{options:{xField:"1",yField:i,seriesField:o,isStack:!0,interval:{color:a,style:s},args:{zIndexReversed:!0}}}))}return t}function Br(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.colorField,a=le({},i);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function Wr(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function Lr(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,o=n.angleField,a=e.geometries[0];if(r){var s=r.callback,l=ee(xt.exports.__rest(r,["callback"]));if(l.content){var u=l.content;l.content=function(t,n,r){var a=t[i],s=t[o],l=e.getScaleByField(o),c=null==l?void 0:l.scale(s);return h(u)?u(xt.exports.__assign(xt.exports.__assign({},t),{percent:c}),n,r):g(u)?Gt(u,{value:s,name:a,percentage:y(c)&&!S(s)?(100*c).toFixed(2)+"%":null}):u}}var c=l.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[l.type]:"pie-outer",f=l.layout?_(l.layout)?l.layout:[l.layout]:[];l.layout=(c?[{type:c}]:[]).concat(f),a.label({fields:i?[o,i]:[o],callback:s,cfg:xt.exports.__assign(xt.exports.__assign({},l),{offset:Er(l.type,l.offset),type:"pie"})})}else a.label(!1);return t}function Nr(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,i=t.colorField,o=t.meta,s=Se(t.locale);if(e&&n){var l=le({},Or.statistic,n),u=l.title,c=l.content;return!1!==u&&(u=le({},{formatter:function(t){return t?t[i]:S(u.content)?s.get(["statistic","total"]):u.content}},u)),!1!==c&&(c=le({},{formatter:function(t,e){var n=t?t[r]:function(t,e){var n=null;return v(t,(function(t){"number"==typeof t[e]&&(n+=t[e])})),n}(e,r),i=a(o,[r,"formatter"])||function(t){return t};return t||S(c.content)?i(n):c.content}},c)),le({},{statistic:{title:u,content:c}},t)}return t}function jr(t){var e=t.chart,n=Nr(t.options),r=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),jt(_n())(t),r&&i&&de(e,{statistic:i,plotType:"pie"}),t}function Vr(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.colorField,o=n.angleField,s=n.data;if(!1===r)e.tooltip(r);else if(e.tooltip(le({},r,{shared:!1})),zr(s,o)){var l=a(r,"fields"),u=a(r,"formatter");M(a(r,"fields"))&&(l=[i,o],u=u||function(t){return{name:t[i],value:N(t[o])}}),e.geometries[0].tooltip(l.join("*"),kn(l,u))}return t}function Gr(t){var e=t.chart,n=Nr(t.options),r=n.interactions,i=n.statistic,o=n.annotations;return v(r,(function(t){var n,r;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var a=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(a=[{trigger:"element:mouseenter",action:"pie-statistic:change",arg:{statistic:i,annotations:o}}]),v(null===(r=t.cfg)||void 0===r?void 0:r.start,(function(t){a.push(xt.exports.__assign(xt.exports.__assign({},t),{arg:{statistic:i,annotations:o}}))})),e.interaction(t.type,le({},t.cfg,{start:a}))}else e.interaction(t.type,t.cfg||{})})),t}function qr(t){return jt(fn("pieStyle"),$r,Br,vn,Wr,pn,Vr,Lr,yn,jr,Gr,gn)(t)}P(Tr,Rr),I("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),P("pie-legend",Ir),I("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var Hr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Or},e.prototype.changeData=function(t){this.chart.emit(j.BEFORE_CHANGE_DATA,V.fromData(this.chart,j.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,r=me(e.data,n),i=me(t,n);zr(r,n)||zr(i,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(i),jr({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(j.AFTER_CHANGE_DATA,V.fromData(this.chart,j.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return qr},e}(Ue);function Xr(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,o=n.color;return e.data(r),jt(En)(le({},t,{options:{marginRatio:1,interval:{style:i,color:o}}})),t}function Yr(t){var e=t.chart,n=t.options,r=n.label,i=n.xField,o=Ut(e,"interval");if(!1===r)o.label(!1);else if(k(r)){var a=r.callback,s=r.fields,l=xt.exports.__rest(r,["callback","fields"]),u=l.offset,c=l.layout;(void 0===u||u>=0)&&(c=c?_(c)?c:[c]:[],l.layout=b(c,(function(t){return"limit-in-shape"!==t.type})),l.layout.length||delete l.layout),o.label({fields:s||[i],callback:a,cfg:ee(l)})}else Xt(Lt.WARN,null===r,"the label option must be an Object."),o.label({fields:[i]});return t}function Ur(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return!1===r?e.legend(!1):i&&e.legend(i,r),t}function Zr(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function Kr(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return jt(bn(((e={})[o]=r,e[a]=i,e)))(t)}function Jr(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return r?e.axis(o,r):e.axis(o,!1),i?e.axis(a,i):e.axis(a,!1),t}function Qr(t){jt(fn("sectorStyle"),Xr,Kr,Yr,Zr,Jr,Ur,dn,hn,gn,vn,_n(),yn)(t)}var ti=le({},Ue.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right"},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return ti},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Qr}}(Ue);var ei={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function ni(t,e){return function(t,e){var n=function(){var t=[256,256],e=ai,n=li,r=si,i=ui,o=ci,a=gi,s=Math.random,l=[],u=1/0,c=oi,f=si,p=yi,d={};function h(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=ii/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function g(e,n,r){for(var i,o,l,u=n.x,c=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),p=a(t),d=s()<.5?1:-1,h=-d;(i=p(h+=d))&&(o=~~i[0],l=~~i[1],!(Math.min(Math.abs(o),Math.abs(l))>=f));)if(n.x=u+o,n.y=c+l,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!pi(n,e,t[0]))&&(!r||hi(n,r))){for(var g=n.sprite,v=n.width>>5,y=t[0]>>5,x=n.x-(v<<4),m=127&x,b=32-m,_=n.y1-n.y0,w=void 0,F=(n.y+n.y0)*y+(x>>5),A=0;A<_;A++){w=0;for(var k=0;k<=v;k++)e[F+k]|=w<<b|(k<v?(w=g[A*v+k])>>>m:0);F+=y}return delete n.sprite,!0}return!1}return d.start=function(){var a=t[0],v=t[1],y=h(p()),x=d.board?d.board:vi((t[0]>>5)*t[1]),m=l.length,b=[],_=l.map((function(t,a,s){return t.text=c.call(this,t,a,s),t.font=e.call(this,t,a,s),t.style=f.call(this,t,a,s),t.weight=r.call(this,t,a,s),t.rotate=i.call(this,t,a,s),t.size=~~n.call(this,t,a,s),t.padding=o.call(this,t,a,s),t})).sort((function(t,e){return e.size-t.size})),w=-1,F=d.board?[{x:0,y:0},{x:a,y:v}]:null;function A(){for(var e=Date.now();Date.now()-e<u&&++w<m;){var n=_[w];n.x=a*(s()+.5)>>1,n.y=v*(s()+.5)>>1,fi(y,n,_,w),n.hasText&&g(x,n,F)&&(b.push(n),F?d.hasImage||di(F,n):F=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}d._tags=b,d._bounds=F}return A(),d},d.createMask=function(e){var n=document.createElement("canvas"),r=t[0],i=t[1];if(r&&i){var o=r>>5,a=vi((r>>5)*i);n.width=r,n.height=i;var s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var l=s.getImageData(0,0,r,i).data,u=0;u<i;u++)for(var c=0;c<r;c++){var f=o*u+(c>>5),p=u*r+c<<2,h=l[p]>=250&&l[p+1]>=250&&l[p+2]>=250?1<<31-c%32:0;a[f]|=h}d.board=a,d.hasImage=!0}},d.timeInterval=function(t){u=null==t?1/0:t},d.words=function(t){l=t},d.size=function(e){t=[+e[0],+e[1]]},d.font=function(t){e=xi(t)},d.fontWeight=function(t){r=xi(t)},d.rotate=function(t){i=xi(t)},d.spiral=function(t){a=mi[t]||t},d.fontSize=function(t){n=xi(t)},d.padding=function(t){o=xi(t)},d.random=function(t){s=xi(t)},d}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){S(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var r=n.start()._tags;r.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var i=e.size,o=i[0],a=i[1];return r.push({text:"",value:0,x:0,y:0,opacity:0}),r.push({text:"",value:0,x:o,y:a,opacity:0}),r}(t,e=G({},ei,e))}var ri=Math.PI/180,ii=2048;function oi(t){return t.text}function ai(){return"serif"}function si(){return"normal"}function li(t){return t.value}function ui(){return 90*~~(2*Math.random())}function ci(){return 1}function fi(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,ii/o);var a=0,s=0,l=0,u=n.length;for(--r;++r<u;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var c=i.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var p=Math.sin(e.rotate*ri),d=Math.cos(e.rotate*ri),h=c*d,g=c*p,v=f*d,y=f*p;c=Math.max(Math.abs(h+y),Math.abs(h-y))+31>>5<<5,f=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else c=c+31>>5<<5;if(f>l&&(l=f),a+c>=2048&&(a=0,s+=l,l=0),s+f>=ii)break;i.translate((a+(c>>1))/o,(s+(f>>1))/o),e.rotate&&i.rotate(e.rotate*ri),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=c,e.height=f,e.xoff=a,e.yoff=s,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=c}for(var x=i.getImageData(0,0,2048/o,ii/o).data,m=[];--r>=0;)if((e=n[r]).hasText){for(var b=(c=e.width)>>5,_=(f=e.y1-e.y0,0);_<f*b;_++)m[_]=0;if(null==(a=e.xoff))return;s=e.yoff;for(var w=0,F=-1,A=0;A<f;A++){for(_=0;_<c;_++){var k=b*A+(_>>5),S=x[2048*(s+A)+(a+_)<<2]?1<<31-_%32:0;m[k]|=S,w|=S}w?F=A:(e.y0++,f--,A--,s++)}e.y1=e.y0+F,e.sprite=m.slice(0,(e.y1-e.y0)*b)}}}function pi(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,l=32-s,u=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<u;f++){r=0;for(var p=0;p<=o;p++)if((r<<l|(p<o?(r=i[f*o+p])>>>s:0))&e[c+p])return!0;c+=n}return!1}function di(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function hi(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function gi(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function vi(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function yi(){return document.createElement("canvas")}function xi(t){return h(t)?t:function(){return t}}var mi={archimedean:gi,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};function bi(t){var e=t.options,n=t.chart,r=n,i=r.width,o=r.height,a=r.padding,s=r.appendPadding,l=r.ele,u=e.data,c=e.imageMask,f=e.wordField,p=e.weightField,d=e.colorField,g=e.wordStyle,v=e.timeInterval,y=e.random,x=e.spiral,m=e.autoFit,b=void 0===m||m,_=e.placementStrategy;if(!u||!u.length)return[];var w,F=g.fontFamily,A=g.fontWeight,k=g.padding,S=g.fontSize,M=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"==typeof t&&!isNaN(t)}))}(u,p),D=[(w=M,Math.min.apply(Math,w)),Ai(M)],O=u.map((function(t){return{text:t[f],value:t[p],color:t[d],datum:t}})),E={imageMask:c,font:F,fontSize:wi(S,D),fontWeight:A,size:_i({width:i,height:o,padding:a,appendPadding:s,autoFit:b,container:l}),padding:k,timeInterval:v,random:y,spiral:x,rotate:Fi(e)};if(h(_)){var z=O.map((function(t,e,r){return xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},t),{hasText:!!t.text,font:xi(E.font)(t,e,r),weight:xi(E.fontWeight)(t,e,r),rotate:xi(E.rotate)(t,e,r),size:xi(E.fontSize)(t,e,r),style:"normal"}),_.call(n,t,e,r))}));return z.push({text:"",value:0,x:0,y:0,opacity:0}),z.push({text:"",value:0,x:E.size[0],y:E.size[1],opacity:0}),z}return ni(O,E)}function _i(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,o=t.padding,a=t.appendPadding;if(i){var s=Yt(r);e=s.width,n=s.height}e=e||400,n=n||400;var l=function(t){var e=be(t.padding),n=be(t.appendPadding),r=e[0]+n[0],i=e[1]+n[1],o=e[2]+n[2],a=e[3]+n[3];return[r,i,o,a]}({padding:o,appendPadding:a}),u=l[0],c=l[1],f=l[2];return[e-(l[3]+c),n-(u+f)]}function wi(t,e){if(h(t))return t;if(_(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var i=e[0],o=e[1];return o===i?function(){return(r+n)/2}:function(t){var e=t.value;return(r-n)/(o-i)*(e-i)+n}}return function(){return t}}function Fi(t){var e=function(t){var e=t.wordStyle.rotationSteps;e<1&&(Xt(Lt.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1);return{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,r=e.rotationSteps;if(!_(n))return n;var i=n[0],o=n[1],a=1===r?0:(o-i)/(r-1);return function(){return o===i?o:Math.floor(Math.random()*r)*a}}function Ai(t){return Math.max.apply(Math,t)}var ki="color",Si=le({},Ue.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",ki],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function Mi(t){var e=t.chart,n=t.options,r=n.colorField,i=n.color,o=bi(t);return e.data(o),On(le({},t,{options:{xField:"x",yField:"y",seriesField:r&&ki,rawFields:h(i)&&xt.exports.__spreadArrays(a(n,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function Di(t){return jt(bn({x:{nice:!1},y:{nice:!1}}))(t)}function Oi(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField;return!1===r?e.legend(!1):i&&e.legend(ki,r),t}function Ei(t){jt(Mi,Di,dn,Oi,hn,gn,vn,yn)(t)}function zi(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}function Ci(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Pi(t,e,n,r){t=t.filter((function(t,r){var i=e(t,r),o=n(t,r);return null!=i&&isFinite(i)&&null!=o&&isFinite(o)})),r&&t.sort((function(t,n){return e(t)-e(n)}));for(var i,o,a,s=t.length,l=new Float64Array(s),u=new Float64Array(s),c=0,f=0,p=0;p<s;)a=t[p],l[p]=i=+e(a,p,t),u[p]=o=+n(a,p,t),c+=(i-c)/++p,f+=(o-f)/p;for(var d=0;d<s;++d)l[d]-=c,u[d]-=f;return[l,u,c,f]}function Ii(t,e,n,r){for(var i=0,o=0,a=t.length;o<a;o++){var s=t[o],l=+e(s,o,t),u=+n(s,o,t);null!=l&&isFinite(l)&&null!=u&&isFinite(u)&&r(l,u,i++)}}function Ri(t,e,n,r,i){var o=0,a=0;return Ii(t,e,n,(function(t,e){var n=e-i(t),s=e-r;o+=n*n,a+=s*s})),1-o/a}function Ti(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function $i(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Bi(t,e,n){for(var r=Math.log(e-t)*Math.LOG10E+1|0,i=1*Math.pow(10,-r/2-1),o=[s(t),s(e)],a=0;l(o)&&a<1e4;);return o;function s(t){return[t,n(t)]}function l(t){a++;for(var e=t.length,n=!1,r=0;r<e-1;r++){var o=t[r],l=$i([o,t[r+1]]),u=s(l[0]),c=Ti([o,l]),f=Ti([o,u]);Math.abs(c-f)>i&&(t.splice(r+1,0,u),n=!0)}return n}}function Wi(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function Li(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function r(r){var i=0,o=0,a=0,s=0,l=0,u=t?+t[0]:1/0,c=t?+t[1]:-1/0;Ii(r,e,n,(function(e,n){++i,o+=(e-o)/i,a+=(n-a)/i,s+=(e*n-s)/i,l+=(e*e-l)/i,t||(e<u&&(u=e),e>c&&(c=e))}));var f=Ci(Wi(o,a,s,l),2),p=f[0],d=f[1],h=function(t){return d*t+p},g=[[u,h(u)],[c,h(c)]];return g.a=d,g.b=p,g.predict=h,g.rSquared=Ri(r,e,n,a,h),g}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r}function Ni(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}q("point","word-cloud",{draw:function(t,e){var n=t.x,r=t.y,i=e.addShape("text",{attrs:xt.exports.__assign(xt.exports.__assign({},zi(t)),{x:n,y:r})}),o=t.data.rotate;return"number"==typeof o&&A.rotate(i,o*Math.PI/180),i}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Si},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(bi({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var r=e.options.imageMask;if(!r)return t.prototype.render.call(e),void n();var i,o=function(r){e.options=xt.exports.__assign(xt.exports.__assign({},e.options),{imageMask:r||null}),t.prototype.render.call(e),n()};(i=r,new Promise((function(t,e){if(i instanceof HTMLImageElement)t(i);else{if(g(i)){var n=new Image;return n.crossOrigin="anonymous",n.src=i,n.onload=function(){t(n)},void(n.onerror=function(){Xt(Lt.ERROR,!1,"image %s load failed !!!",i),e()})}Xt(Lt.WARN,void 0===i,"The type of imageMask option must be String or HTMLImageElement."),e()}}))).then(o).catch(o)}))},e.prototype.getSchemaAdaptor=function(){return Ei},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))}}(Ue);function ji(t){return(t=1-t*t*t)*t*t}function Vi(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}function Gi(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function r(r){var i,o,a,s,l=Ci(Pi(r,e,n),4),u=l[0],c=l[1],f=l[2],p=l[3],d=u.length,h=0,g=0,v=0,y=0,x=0;for(i=0;i<d;)o=u[i],a=c[i++],h+=((s=o*o)-h)/i,g+=(s*o-g)/i,v+=(s*s-v)/i,y+=(o*a-y)/i,x+=(s*a-x)/i;var m=0,b=0,_=t?+t[0]:1/0,w=t?+t[1]:-1/0;Ii(r,e,n,(function(e,n){b++,m+=(n-m)/b,t||(e<_&&(_=e),e>w&&(w=e))}));var F=v-h*h,A=h*F-g*g,k=(x*h-y*g)/A,S=(y*F-x*g)/A,M=-k*h,D=function(t){return k*(t-=f)*t+S*t+M+p},O=Bi(_,w,D);return O.a=k,O.b=S-2*k*f,O.c=M-S*f+k*f*f+p,O.predict=D,O.rSquared=Ri(r,e,n,m,D),O}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r}var qi={exp:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function r(r){var i=0,o=0,a=0,s=0,l=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;Ii(r,e,n,(function(e,n){var r=Math.log(n),p=e*n;++i,o+=(n-o)/i,s+=(p-s)/i,u+=(e*p-u)/i,a+=(n*r-a)/i,l+=(p*r-l)/i,t||(e<c&&(c=e),e>f&&(f=e))}));var p=Ci(Wi(s/o,a/o,l/o,u/o),2),d=p[0],h=p[1];d=Math.exp(d);var g=function(t){return d*Math.exp(h*t)},v=Bi(c,f,g);return v.a=d,v.b=h,v.predict=g,v.rSquared=Ri(r,e,n,o,g),v}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},linear:Li,loess:function(){var t=function(t){return t[0]},e=function(t){return t[1]},n=.3;function r(r){for(var i=Ci(Pi(r,t,e,!0),4),o=i[0],a=i[1],s=i[2],l=i[3],u=o.length,c=Math.max(2,~~(n*u)),f=new Float64Array(u),p=new Float64Array(u),d=new Float64Array(u).fill(1),h=-1;++h<=2;){for(var g=[0,c-1],v=0;v<u;++v){for(var y=o[v],x=g[0],m=g[1],b=y-o[x]>o[m]-y?x:m,_=0,w=0,F=0,A=0,k=0,S=1/Math.abs(o[b]-y||1),M=x;M<=m;++M){var D=o[M],O=a[M],E=ji(Math.abs(y-D)*S)*d[M],z=D*E;_+=E,w+=z,F+=O*E,A+=O*z,k+=D*z}var C=Ci(Wi(w/_,F/_,A/_,k/_),2),P=C[0],I=C[1];f[v]=P+I*y,p[v]=Math.abs(a[v]-f[v]),Vi(o,v+1,g)}if(2===h)break;var R=Ni(p);if(Math.abs(R)<1e-12)break;for(var T,$,B=0;B<u;++B)T=p[B]/(6*R),d[B]=T>=1?1e-12:($=1-T*T)*$}return function(t,e,n,r){for(var i,o=t.length,a=[],s=0,l=0,u=[];s<o;++s)i=t[s]+n,u[0]===i?u[1]+=(e[s]-u[1])/++l:(l=0,u[1]+=r,u=[i,e[s]],a.push(u));return u[1]+=r,a}(o,f,s,l)}return r.bandwidth=function(t){return arguments.length?(n=t,r):n},r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(t){return arguments.length?(e=t,r):e},r},log:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},r=Math.E;function i(i){var o=0,a=0,s=0,l=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0,p=Math.log(r);Ii(i,e,n,(function(e,n){var r=Math.log(e)/p;++o,a+=(r-a)/o,s+=(n-s)/o,l+=(r*n-l)/o,u+=(r*r-u)/o,t||(e<c&&(c=e),e>f&&(f=e))}));var d=Ci(Wi(a,s,l,u),2),h=d[0],g=d[1],v=function(t){return g*Math.log(t)/p+h},y=Bi(c,f,v);return y.a=g,y.b=h,y.predict=v,y.rSquared=Ri(i,e,n,s,v),y}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i.base=function(t){return arguments.length?(r=t,i):r},i},poly:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},r=3;function i(i){if(1===r){var o=Li().x(e).y(n).domain(t)(i);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(2===r){var a=Gi().x(e).y(n).domain(t)(i);return a.coefficients=[a.c,a.b,a.a],delete a.a,delete a.b,delete a.c,a}var s,l,u,c,f,p=Ci(Pi(i,e,n),4),d=p[0],h=p[1],g=p[2],v=p[3],y=d.length,x=[],m=[],b=r+1,_=0,w=0,F=t?+t[0]:1/0,A=t?+t[1]:-1/0;for(Ii(i,e,n,(function(e,n){++w,_+=(n-_)/w,t||(e<F&&(F=e),e>A&&(A=e))})),s=0;s<b;++s){for(u=0,c=0;u<y;++u)c+=Math.pow(d[u],s)*h[u];for(x.push(c),f=new Float64Array(b),l=0;l<b;++l){for(u=0,c=0;u<y;++u)c+=Math.pow(d[u],s+l);f[l]=c}m.push(f)}m.push(x);var k=function(t){var e,n,r,i,o,a=t.length-1,s=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*s[r];s[n]=(t[a][n]-o)/t[n][n]}return s}(m),S=function(t){t-=g;var e=v+k[0]+k[1]*t+k[2]*t*t;for(s=3;s<b;++s)e+=k[s]*Math.pow(t,s);return e},M=Bi(F,A,S);return M.coefficients=function(t,e,n,r){var i,o,a,s,l=Array(t);for(i=0;i<t;++i)l[i]=0;for(i=t-1;i>=0;--i)for(a=e[i],s=1,l[i]+=a,o=1;o<=i;++o)s*=(i+1-o)/o,l[i-o]+=a*Math.pow(n,o)*s;return l[0]+=r,l}(b,k,-g,v),M.predict=S,M.rSquared=Ri(i,e,n,_,S),M}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i.order=function(t){return arguments.length?(r=t,i):r},i},pow:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function r(r){var i=0,o=0,a=0,s=0,l=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;Ii(r,e,n,(function(e,n){var r=Math.log(e),p=Math.log(n);++i,o+=(r-o)/i,a+=(p-a)/i,s+=(r*p-s)/i,l+=(r*r-l)/i,u+=(n-u)/i,t||(e<c&&(c=e),e>f&&(f=e))}));var p=Ci(Wi(o,a,s,l),2),d=p[0],h=p[1];d=Math.exp(d);var g=function(t){return d*Math.pow(t,h)},v=Bi(c,f,g);return v.a=d,v.b=h,v.predict=g,v.rSquared=Ri(r,e,n,u,g),v}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},quad:Gi};var Hi=function(t,e){var n=e.view,r=e.options,i=r.xField,o=r.yField,a=n.getScaleByField(i),s=n.getScaleByField(o);return function(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(r.push(l.x),r.push(l.y),o=l)}var u=ne(r,e,n||[[0,0],[1,1]]);return u.unshift(["M",i.x,i.y]),u}(t.map((function(t){return n.getCoordinate().convert({x:a.scale(t[0]),y:s.scale(t[1])})})),!1)};function Xi(t){var e=t.data,n=void 0===e?[]:e,r=t.xField,i=t.yField;if(n.length){for(var o=!0,s=!0,l=n[0],u=void 0,c=1;c<n.length&&(u=n[c],l[r]!==u[r]&&(o=!1),l[i]!==u[i]&&(s=!1),o||s);c++)l=u;var f=[];o&&f.push(r),s&&f.push(i);var p=Vt(function(t){var e,n=t.meta,r=void 0===n?{}:n,i=t.xField,o=t.yField,s=t.data,l=s[0][i],u=s[0][o],c=l>0,f=u>0;function p(t,e){var n=a(r,[t]);function i(t){return a(n,t)}var o={};return"x"===e?(y(l)&&(y(i("min"))||(o.min=c?0:2*l),y(i("max"))||(o.max=c?2*l:0)),o):(y(u)&&(y(i("min"))||(o.min=f?0:2*u),y(i("max"))||(o.max=f?2*u:0)),o)}return xt.exports.__assign(xt.exports.__assign({},r),((e={})[i]=xt.exports.__assign(xt.exports.__assign({},r[i]),p(i,"x")),e[o]=xt.exports.__assign(xt.exports.__assign({},r[o]),p(o,"y")),e))}(t),f);return le({},t,{meta:p})}return t}function Yi(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.color,a=n.shape,s=n.pointStyle,l=n.shapeField,u=n.colorField,c=n.xField,f=n.yField,p=n.sizeField,d=n.size,h=n.tooltip;p&&(d||(d=[2,8]),y(d)&&(d=[d,d])),h&&!h.fields&&(h=xt.exports.__assign(xt.exports.__assign({},h),{fields:[c,f,u,p,l]})),e.data(r),On(le({},t,{options:{seriesField:u,point:{color:o,shape:a,size:d,style:s},tooltip:h}}));var g=Ut(e,"point");return i&&g.adjust(i),t}function Ui(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,s=Xi(n);return jt(bn(((e={})[o]=r,e[a]=i,e)))(le({},t,{options:s}))}function Zi(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,r),e.axis(a,i),t}function Ki(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.shapeField,a=n.sizeField,s=n.shapeLegend,l=n.sizeLegend,u=!1!==r;return i&&e.legend(i,!!u&&r),o&&(s?e.legend(o,s):e.legend(o,!1!==s&&r)),a&&e.legend(a,l||!1),u||s||l||e.legend(!1),t}function Ji(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=Ut(e,"point");if(r){var a=r.callback,s=xt.exports.__rest(r,["callback"]);o.label({fields:[i],callback:a,cfg:ee(s)})}else o.label(!1);return t}function Qi(t){var e=t.options.quadrant,n=[];if(e){var r=e.xBaseline,i=void 0===r?0:r,o=e.yBaseline,a=void 0===o?0:o,s=e.labels,l=e.regionStyle,u=e.lineStyle,c=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(i,a);new Array(4).join(",").split(",").forEach((function(t,e){n.push(xt.exports.__assign(xt.exports.__assign({type:"region",top:!1},c.regionStyle[e].position),{style:le({},c.regionStyle[e].style,null==l?void 0:l[e])}),xt.exports.__assign({type:"text",top:!0},le({},c.labelStyle[e],null==s?void 0:s[e])))})),n.push({type:"line",top:!1,start:["min",a],end:["max",a],style:le({},c.lineStyle,u)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:le({},c.lineStyle,u)})}return jt(_n(n))(t)}function to(t){var e=t.options,n=t.chart,r=e.regressionLine;if(r){var i=r.style,o=r.top,a=void 0!==o&&o,s={stroke:"#9ba29a",lineWidth:2,opacity:.5};n.annotation().shape({top:a,render:function(t,r){var o=t.addGroup({id:n.id+"-regression-line",name:"regression-line-group"}),a=function(t){var e,n=t.options,r=n.xField,i=n.yField,o=n.data,a=n.regressionLine,s=a.type,l=void 0===s?"linear":s,u=a.algorithm;return e=u?_(u)?u:u(o):qi[l]().x((function(t){return t[r]})).y((function(t){return t[i]}))(o),Hi(e,t)}({view:r,options:e});o.addShape("path",{name:"regression-line",attrs:xt.exports.__assign(xt.exports.__assign({path:a},s),i)})}})}return t}function eo(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function no(t){return jt(Yi,Ui,Zi,Ki,eo,Ji,cr,hn,Qi,gn,vn,to)(t)}var ro=le({},Ue.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});I("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var io=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="scatter",r.on(j.BEFORE_RENDER,(function(t){var e,n,i=r,o=i.options,a=i.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===H.FILTER){var s=r.chart.filterData(r.chart.getData());Ui({chart:a,options:xt.exports.__assign(xt.exports.__assign({},o),{data:s})})}(null===(n=t.data)||void 0===n?void 0:n.source)===H.RESET&&Ui({chart:a,options:o})})),r}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return ro},e.prototype.changeData=function(t){this.updateOption(Xi(le({},this.options,{data:t})));var e=this.options;Ui({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return no},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ue);function oo(t){var e=t.chart,n=t.options,r=n.data,i=n.lineStyle,o=n.color,a=n.point,s=n.area;e.data(r);var l=le({},t,{options:{line:{style:i,color:o},point:a?xt.exports.__assign({color:o},a):a,area:s?xt.exports.__assign({color:o},s):s,label:void 0}}),u=le({},l,{options:{tooltip:!1}}),c=(null==a?void 0:a.state)||n.state,f=le({},l,{options:{tooltip:!1,state:c}});return Dn(l),On(f),Mn(u),t}function ao(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return jt(bn(((e={})[o]=r,e[a]=i,e)))(t)}function so(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:o}),t}function lo(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(r,i),e.axis(o,a),t}function uo(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=Ut(e,"line");if(r){var a=r.callback,s=xt.exports.__rest(r,["callback"]);o.label({fields:[i],callback:a,cfg:ee(s)})}else o.label(!1);return t}function co(t){return jt(oo,ao,vn,so,lo,pn,dn,uo,hn,gn,_n())(t)}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),r=n.shared,i=n.title,o=t.prototype.getTooltipItems.call(this,e);if(o.length>0){var a=this.view.geometries[0],s=a.dataArray,l=o[0].name,u=[];return s.forEach((function(t){t.forEach((function(t){var e=A.getTooltipItems(t,a)[0];if(!r&&e&&e.name===l){var n=S(i)?l:i;u.push(xt.exports.__assign(xt.exports.__assign({},e),{name:e.title,title:n}))}else if(r&&e){n=S(i)?e.name||l:i;u.push(xt.exports.__assign(xt.exports.__assign({},e),{name:e.title,title:n}))}}))})),u}return[]},e}(X);Y("radar-tooltip",fo);var po,ho,go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(C);P("radar-tooltip",go),I("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}xt.exports.__extends(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return le({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return co}}(Ue),function(t){t.Left="Left",t.Right="Right"}(po||(po={})),function(t){t.Line="line",t.Column="column"}(ho||(ho={}));var vo="left-axes-view",yo="right-axes-view",xo={nice:!0,label:{autoHide:!0,autoRotate:!1}},mo=xt.exports.__assign(xt.exports.__assign({},xo),{position:"left"}),bo=xt.exports.__assign(xt.exports.__assign({},xo),{position:"right",grid:null});function _o(t){return a(t,"geometry")===ho.Line}function wo(t){return a(t,"geometry")===ho.Column}function Fo(t,e,n){return wo(n)?le({},{geometry:ho.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):xt.exports.__assign({geometry:ho.Line},n)}function Ao(t,e){var n=t[0],r=t[1];return _(e)?[e[0],e[1]]:[a(e,n),a(e,r)]}function ko(t,e){return e===po.Left?!1!==t&&le({},mo,t):e===po.Right?!1!==t&&le({},bo,t):t}function So(t){var e=t.view,n=t.geometryOption,r=t.yField,o=t.legend,s=a(o,"marker"),l=Ut(e,_o(n)?"line":"interval");if(!n.seriesField){var u=a(e,"options.scales."+r+".alias")||r,c=l.getAttribute("color"),f=e.getTheme().defaultColor;return c&&(f=A.getMappingValue(c,u,a(c,["values",0],f))),[{value:r,name:u,marker:(h(s)?s:!M(s)&&le({},{style:{stroke:f,fill:f}},s))||(_o(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:f}}:{symbol:"square",style:{fill:f}}),isGeometry:!0,viewId:e.id}]}var p=l.getGroupAttributes();return i(p,(function(t,n){var r=A.getLegendItems(e,l,n,e.getTheme(),s);return t.concat(r)}),[])}var Mo=function(t,e){var n=e[0],r=e[1],i=t.getOptions().data,o=t.getXScale(),a=U(i);if(o&&a){var s=Z(i,o.field),l=U(s),u=Math.floor(n*(l-1)),c=Math.floor(r*(l-1));t.filter(o.field,(function(t){var e=s.indexOf(t);return!(e>-1)||function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}(e,u,c)})),t.render(!0)}};function Do(t){var e,n=t.options,r=n.geometryOptions,i=void 0===r?[]:r,o=n.xField,a=n.yField,s=W(i,(function(t){var e=t.geometry;return e===ho.Line||void 0===e}));return le({},{options:{geometryOptions:[],meta:(e={},e[o]={type:"cat",sync:!0,range:s?[0,1]:void 0},e),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:Ao(a,n.yAxis),geometryOptions:[Fo(0,a[0],i[0]),Fo(0,a[1],i[1])],annotations:Ao(a,n.annotations)}})}function Oo(t){var e,n,r=t.chart,i=t.options.geometryOptions,o={line:0,column:1};return[{type:null===(e=i[0])||void 0===e?void 0:e.geometry,id:vo},{type:null===(n=i[1])||void 0===n?void 0:n.geometry,id:yo}].sort((function(t,e){return-o[t.type]+o[e.type]})).forEach((function(t){return r.createView({id:t.id})})),t}function Eo(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.geometryOptions,a=n.data,s=n.tooltip;return[xt.exports.__assign(xt.exports.__assign({},o[0]),{id:vo,data:a[0],yField:i[0]}),xt.exports.__assign(xt.exports.__assign({},o[1]),{id:yo,data:a[1],yField:i[1]})].forEach((function(t){var n=t.id,i=t.data,o=t.yField,a=wo(t)&&t.isPercent,l=a?qn(i,o,r,o):i,u=Jt(e,n).data(l),c=a?xt.exports.__assign({formatter:function(e){return{name:e[t.seriesField]||o,value:(100*Number(e[o])).toFixed(2)+"%"}}},s):s;!function(t){var e=t.options,n=t.chart,r=e.geometryOption,i=r.isStack,o=r.color,a=r.seriesField,s=r.groupField,l=r.isGroup,u=["xField","yField"];if(_o(r)){Dn(le({},t,{options:xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},Vt(e,u)),r),{line:{color:r.color,style:r.lineStyle}})})),On(le({},t,{options:xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},Vt(e,u)),r),{point:r.point&&xt.exports.__assign({color:o,shape:"circle"},r.point)})}));var c=[];l&&c.push({type:"dodge",dodgeBy:s||a,customOffset:0}),i&&c.push({type:"stack"}),c.length&&v(n.geometries,(function(t){t.adjust(c)}))}wo(r)&&xr(le({},t,{options:xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},Vt(e,u)),r),{widthRatio:r.columnWidthRatio,interval:xt.exports.__assign(xt.exports.__assign({},Vt(r,["color"])),{style:r.columnStyle})})}))}({chart:u,options:{xField:r,yField:o,tooltip:c,geometryOption:t}})})),t}function zo(t){var e,n=t.chart,r=t.options.geometryOptions,i=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],o=0;return n.once("beforepaint",(function(){v(r,(function(t,e){var r=Jt(n,0===e?vo:yo);if(!t.color){var s=r.getGroupScales(),l=a(s,[0,"values","length"],1),u=i.slice(o,o+l).concat(0===e?[]:i);r.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,u):e.color(u[0])})),o+=l}})),n.render(!0)})),t}function Co(t){var e,n,r=t.chart,i=t.options,o=i.xAxis,a=i.yAxis,s=i.xField,l=i.yField;return bn(((e={})[s]=o,e[l[0]]=a[0],e))(le({},t,{chart:Jt(r,vo)})),bn(((n={})[s]=o,n[l[1]]=a[1],n))(le({},t,{chart:Jt(r,yo)})),t}function Po(t){var e=t.chart,n=t.options,r=Jt(e,vo),i=Jt(e,yo),o=n.xField,a=n.yField,s=n.xAxis,l=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),r.axis(o,s),r.axis(a[0],ko(l[0],po.Left)),i.axis(o,!1),i.axis(a[1],ko(l[1],po.Right)),t}function Io(t){var e=t.chart,n=t.options.tooltip,r=Jt(e,vo),i=Jt(e,yo);return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function Ro(t){var e=t.chart;return hn(le({},t,{chart:Jt(e,vo)})),hn(le({},t,{chart:Jt(e,yo)})),t}function To(t){var e=t.chart,n=t.options.annotations,r=a(n,[0]),i=a(n,[1]);return _n(r)(le({},t,{chart:Jt(e,vo),options:{annotations:r}})),_n(i)(le({},t,{chart:Jt(e,yo),options:{annotations:i}})),t}function $o(t){var e=t.chart;return vn(le({},t,{chart:Jt(e,vo)})),vn(le({},t,{chart:Jt(e,yo)})),vn(t),t}function Bo(t){var e=t.chart;return gn(le({},t,{chart:Jt(e,vo)})),gn(le({},t,{chart:Jt(e,yo)})),t}function Wo(t){var e=t.chart,n=t.options.yAxis;return wn(le({},t,{chart:Jt(e,vo),options:{yAxis:n[0]}})),wn(le({},t,{chart:Jt(e,yo),options:{yAxis:n[1]}})),t}function Lo(t){var e=t.chart,n=t.options,r=n.legend,i=n.geometryOptions,o=n.yField,s=n.data,l=Jt(e,vo),u=Jt(e,yo);if(!1===r)e.legend(!1);else if(k(r)&&!0===r.custom)e.legend(r);else{var c=a(i,[0,"legend"],r),f=a(i,[1,"legend"],r);e.once("beforepaint",(function(){var t=s[0].length?So({view:l,geometryOption:i[0],yField:o[0],legend:c}):[],n=s[1].length?So({view:u,geometryOption:i[1],yField:o[1],legend:f}):[];e.legend(le({},r,{custom:!0,items:t.concat(n)}))})),i[0].seriesField&&l.legend(i[0].seriesField,c),i[1].seriesField&&u.legend(i[1].seriesField,f),e.on("legend-item:click",(function(t){var n=a(t,"gEvent.delegateObject",{});if(n&&n.item){var r=n.item,i=r.value,s=r.isGeometry,l=r.viewId;if(s){if(z(o,(function(t){return t===i}))>-1){var u=a(Jt(e,l),"geometries");v(u,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var c=a(e.getController("legend"),"option.items",[]);v(e.views,(function(t){var n=t.getGroupScales();v(n,(function(e){e.values&&e.values.indexOf(i)>-1&&t.filter(e.field,(function(t){return!$(c,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function No(t){var e=t.chart,n=t.options.slider,r=Jt(e,vo),i=Jt(e,yo);return n&&(r.option("slider",n),r.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,r=e.originValue;L(n,r)||Mo(i,n)})),e.once("afterpaint",(function(){if(!K(n)){var t=n.start,e=n.end;(t||e)&&Mo(i,[t,e])}}))),t}function jo(t){return jt(Do,Oo,$o,Eo,Co,Po,Wo,Io,Ro,To,Bo,zo,Lo,No)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}xt.exports.__extends(e,t),e.prototype.getDefaultOptions=function(){return le({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return jo}}(Ue);var Vo="x",Go="y",qo={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+a(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},Ho={appendPadding:2,tooltip:xt.exports.__assign({},qo),animation:{}};function Xo(t){return R(t||[],(function(t,e){return{x:""+e,y:t}}))}function Yo(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.areaStyle,a=n.point,s=n.line,l=null==a?void 0:a.state,u=Xo(r);e.data(u);var c=le({},t,{options:{xField:Vo,yField:Go,area:{color:i,style:o},line:s,point:a}}),f=le({},c,{options:{tooltip:!1}}),p=le({},c,{options:{tooltip:!1,state:l}});return Mn(c),Dn(f),On(p),e.axis(!1),e.legend(!1),t}function Uo(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=Xo(r.data);return jt(bn(((e={}).x=i,e.y=o,e),((n={}).x={type:"cat"},n.y=ye(a,Go),n)))(t)}function Zo(t){return jt(fn("areaStyle"),Yo,Uo,dn,vn,gn,_n())(t)}function Ko(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.point,s=null==a?void 0:a.state,l=Xo(r);e.data(l);var u=le({},t,{options:{xField:Vo,yField:Go,line:{color:i,style:o},point:a}}),c=le({},u,{options:{tooltip:!1,state:s}});return Dn(u),On(c),e.axis(!1),e.legend(!1),t}function Jo(t){return jt(Ko,Uo,vn,dn,gn,_n())(t)}var Qo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Ho},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;Uo({chart:e,options:this.options}),e.changeData(Xo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Jo},e}(Ue);function ta(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.columnStyle,a=n.columnWidthRatio,s=Xo(r);return e.data(s),En(le({},t,{options:{xField:Vo,yField:Go,widthRatio:a,interval:{style:o,color:i}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function ea(t){return jt(vn,fn("columnStyle"),ta,Uo,dn,gn,_n())(t)}var na={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+a(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},ra={appendPadding:2,tooltip:xt.exports.__assign({},na),animation:{}},ia=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return ra},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;Uo({chart:e,options:this.options}),e.changeData(Xo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ea},e}(Ue),oa={appendPadding:2,tooltip:xt.exports.__assign({},qo),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return oa},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;Uo({chart:e,options:this.options}),e.changeData(Xo(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Zo},e}(Ue);function sa(t,e,n){if(1===n)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}function la(t,e,n,r,i){var o=J(t);Q(o,e);var a=Z(o,e),s=tt(a),l=s.max-s.min,u=n;if(!n&&r&&(u=r>1?l/(r-1):s.max),!n&&!r){var c=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(a);u=l/c}var f={},p=et(o,i);M(p)?v(o,(function(t){var n=sa(t[e],u,r),i=n[0]+"-"+n[1];nt(f,i)||(f[i]={range:n,count:0}),f[i].count+=1})):Object.keys(p).forEach((function(t){v(p[t],(function(n){var o=sa(n[e],u,r),a=o[0]+"-"+o[1]+"-"+t;nt(f,a)||(f[a]={range:o,count:0},f[a][i]=t),f[a].count+=1}))}));var d=[];return v(f,(function(t){d.push(t)})),d}var ua="range",ca="count",fa=le({},Ue.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function pa(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,o=n.binNumber,a=n.binWidth,s=n.color,l=n.stackField,u=n.legend,c=n.columnStyle,f=la(r,i,a,o,l);return e.data(f),En(le({},t,{options:{xField:ua,yField:ca,seriesField:l,isStack:!0,interval:{color:s,style:c}}})),u&&l&&e.legend(l,u),t}function da(t){var e,n=t.options,r=n.xAxis,i=n.yAxis;return jt(bn(((e={}).range=r,e.count=i,e)))(t)}function ha(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis;return!1===r?e.axis(ua,!1):e.axis(ua,r),!1===i?e.axis(ca,!1):e.axis(ca,i),t}function ga(t){var e=t.chart,n=t.options.label,r=Ut(e,"interval");if(n){var i=n.callback,o=xt.exports.__rest(n,["callback"]);r.label({fields:[ca],callback:i,cfg:ee(o)})}else r.label(!1);return t}function va(t){return jt(vn,fn("columnStyle"),pa,da,ha,yn,ga,dn,hn,gn)(t)}var ya=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return fa},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,o=e.stackField;this.chart.changeData(la(t,n,i,r,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return va},e}(Ue),xa=["#FAAD14","#E8EDF3"],ma={percent:.2,color:xa,animation:{}};function ba(t){var e=rt(ve(t)?t:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]}function _a(t){var e=t.chart,n=t.options,r=n.percent,i=n.progressStyle,o=n.color,a=n.barWidthRatio;return e.data(ba(r)),En(le({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:a,interval:{style:i,color:g(o)?[o,xa[1]]:o},args:{zIndexReversed:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function wa(t){return t.chart.coordinate("rect").transpose(),t}function Fa(t){return jt(_a,bn({}),wa,gn,vn,_n())(t)}var Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return ma},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(ba(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Fa},e}(Ue);function ka(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius;return e.coordinate("theta",{innerRadius:r,radius:i}),t}function Sa(t,e){var n=t.chart,r=t.options,i=r.innerRadius,o=r.statistic,s=r.percent,l=r.meta;if(n.getController("annotation").clear(!0),i&&o){var u=a(l,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},c=o.content;c&&(c=le({},c,{content:S(c.content)?u(s):c.content})),de(n,{statistic:xt.exports.__assign(xt.exports.__assign({},o),{content:c}),plotType:"ring-progress"},{percent:s})}return e&&n.render(!0),t}function Ma(t){return jt(_a,bn({}),ka,Sa,gn,vn,_n())(t)}var Da={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Da},e.prototype.changeData=function(t){this.chart.emit(j.BEFORE_CHANGE_DATA,V.fromData(this.chart,j.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(ba(t)),Sa({chart:this.chart,options:this.options},!0),this.chart.emit(j.AFTER_CHANGE_DATA,V.fromData(this.chart,j.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ma},e}(Ue);function Ea(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.xField,s=n.yField,l=n.colorField,u=n.sizeField,c=n.sizeRatio,f=n.shape,p=n.color,d=n.tooltip,h=n.heatmapStyle;e.data(r);var g="polygon";"density"===i&&(g="heatmap");var v=Fn(d,[o,s,l]),y=v.fields,x=v.formatter,m=1;return(c||0===c)&&(f||u?c<0||c>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):m=c:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Sn(le({},t,{options:{type:g,colorField:l,tooltipFields:y,shapeField:u||"",label:void 0,mapping:{tooltip:x,shape:f&&(u?function(t){var e=r.map((function(t){return t[u]})),n=Math.min.apply(Math,e),i=Math.max.apply(Math,e);return[f,(a(t,u)-n)/(i-n),m]}:function(){return[f,1,m]}),color:p||l&&e.getTheme().sequenceColors.join("-"),style:h}}})),t}function za(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return jt(bn(((e={})[o]=r,e[a]=i,e)))(t)}function Ca(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function Pa(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.sizeField,a=n.sizeLegend,s=!1!==r;return i&&e.legend(i,!!s&&r),o&&e.legend(o,void 0===a?r:a),s||a||e.legend(!1),t}function Ia(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,o=Ut(e,"density"===n.type?"heatmap":"polygon");if(r){if(i){var a=r.callback,s=xt.exports.__rest(r,["callback"]);o.label({fields:[i],callback:a,cfg:ee(s)})}}else o.label(!1);return t}function Ra(t){var e=t.chart,n=t.options,r=n.coordinate,i=n.reflect;return r&&e.coordinate({type:r.type||"rect",cfg:r.cfg}),i&&e.coordinate().reflect(i),t}function Ta(t){return jt(vn,fn("heatmapStyle"),za,Ra,Ea,Ca,Pa,dn,Ia,_n(),hn,gn,yn)(t)}var $a,Ba=le({},Ue.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});q("polygon","circle",{draw:function(t,e){var n,r,i=t.x,o=t.y,a=this.parsePoints(t.points),s=Math.abs(a[2].x-a[1].x),l=Math.abs(a[1].y-a[0].y),u=Math.min(s,l)/2,c=Number(t.shape[1]),f=Number(t.shape[2]),p=u*Math.sqrt(f)*Math.sqrt(c),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("circle",{attrs:xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({x:i,y:o,r:p},t.defaultStyle),t.style),{fill:d})})}}),q("polygon","square",{draw:function(t,e){var n,r,i=t.x,o=t.y,a=this.parsePoints(t.points),s=Math.abs(a[2].x-a[1].x),l=Math.abs(a[1].y-a[0].y),u=Math.min(s,l),c=Number(t.shape[1]),f=Number(t.shape[2]),p=u*Math.sqrt(f)*Math.sqrt(c),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("rect",{attrs:xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({x:i-p/2,y:o-p/2,width:p,height:p},t.defaultStyle),t.style),{fill:d})})}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Ba},e.prototype.getSchemaAdaptor=function(){return Ta},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ue);var Wa="$$range$$",La="outliers_view",Na=le({},Ue.getDefaultOptions(),{meta:($a={},$a.$$range$$={min:0,alias:"low-q1-median-q3-high"},$a),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),ja=function(t,e){var n=t;if(Array.isArray(e)){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];n=R(t,(function(t){return t.$$range$$=[t[r],t[i],t[o],t[a],t[s]],t}))}return n};function Va(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.groupField,a=n.color,s=n.tooltip,l=n.boxStyle;e.data(ja(n.data,i));var u=_(i)?Wa:i,c=i?_(i)?i:[i]:[],f=s;!1!==f&&(f=le({},{fields:_(i)?i:[]},f));var p=Pn(le({},t,{options:{xField:r,yField:u,seriesField:o,tooltip:f,rawFields:c,label:!1,schema:{shape:"box",color:a,style:l}}})).ext;return o&&p.geometry.adjust("dodge"),t}function Ga(t){var e=t.chart,n=t.options,r=n.xField,i=n.data,o=n.outliersField,a=n.outliersStyle,s=n.padding,l=n.label;if(!o)return t;var u=e.createView({padding:s,id:La}),c=i.reduce((function(t,e){return e[o].forEach((function(n){var r;return t.push(xt.exports.__assign(xt.exports.__assign({},e),((r={})[o]=n,r)))})),t}),[]);return u.data(c),On({chart:u,options:{xField:r,yField:o,point:{shape:"circle",style:a},label:l}}),u.axis(!1),t}function qa(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,c=i.outliersField,f=Array.isArray(u)?Wa:u,p={};if(c){var d="$$y_outliers$$";(e={})[c]={sync:d,nice:!0},e[f]={sync:d,nice:!0},p=e}var h=le(p,o,((n={})[l]=Vt(a,Ze),n[f]=Vt(s,Ze),n));return r.scale(h),t}function Ha(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,s=Array.isArray(a)?Wa:a;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(Wa,!1):e.axis(s,i),t}function Xa(t){var e=t.chart,n=t.options,r=n.legend,i=n.groupField;return i?r?e.legend(i,r):e.legend(i,{position:"bottom"}):e.legend(!1),t}function Ya(t){return jt(Va,Ga,qa,Ha,Xa,dn,hn,gn,vn)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Na},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===La}));n&&n.data(t),this.chart.changeData(ja(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ya}}(Ue);var Ua,Za,Ka={exports:{}},Ja={exports:{}};Za=(Ua=Ja).exports,Ua.exports.isNumber=function(t){return"number"==typeof t},Ua.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},Ua.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},Ua.exports.findMinMulti=function(t){for(var e=Za.findMin(t[0]),n=1;n<t.length;n++)e=Math.min(e,Za.findMin(t[n]));return e},Ua.exports.findMaxMulti=function(t){for(var e=Za.findMax(t[0]),n=1;n<t.length;n++)e=Math.max(e,Za.findMax(t[n]));return e},Ua.exports.inside=function(t,e,n){return t<=n&&n<=e},function(t){var e=Math.log(2),n=t.exports,r=Ja.exports;function i(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return n.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,i=!1,o=r.isNumber(e.width)?e.width:2,a=r.isNumber(e.size)?e.size:50,s=r.isNumber(e.min)?e.min:(n=!0,r.findMinMulti(t)),l=r.isNumber(e.max)?e.max:(i=!0,r.findMaxMulti(t)),u=(l-s)/(a-1);return n&&(s-=2*o*u),i&&(l+=2*o*u),{min:s,max:l}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var o=r.isNumber(e.size)?e.size:50,a=r.isNumber(e.width)?e.width:2,s=n.getUnifiedMinMax(t,{size:o,width:a,min:e.min,max:e.max}),l=s.min,u=s.max-l,c=u/(o-1);if(0===u)return[{x:l,y:1}];for(var f=[],p=0;p<o;p++)f.push({x:l+p*c,y:0});var d=function(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}(i,a),h=d[a],g=d[a-1]-d[a-2],v=0;t.forEach((function(t){var e=function(t){return Math.floor((t-l)/c)}(t);if(!(e+a<0||e-a>=f.length)){var n=Math.max(e-a,0),i=e,o=Math.min(e+a,f.length-1),s=n-(e-a),u=e+a-o,p=d[-a-1+s]||0,y=d[-a-1+u]||0,x=h/(h-p-y);s>0&&(v+=x*(s-1)*g);var m=Math.max(0,e-a+1);r.inside(0,f.length-1,m)&&(f[m].y+=1*x*g),r.inside(0,f.length-1,i+1)&&(f[i+1].y-=2*x*g),r.inside(0,f.length-1,o+1)&&(f[o+1].y+=1*x*g)}}));var y=v,x=0,m=0;return f.forEach((function(t){x+=t.y,y+=x,t.y=y,m+=y})),m>0&&f.forEach((function(t){t.y/=m})),f},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length&&(r=i,!((n+=t[i].y)>=e));i++);return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var n=0;return t.forEach((function(t){var e=Math.log(t.y);isFinite(e)&&(n+=t.y*e)})),n=-n/e,Math.pow(2,n)}}}(Ka);var Qa=Ka.exports;function ts(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function es(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ns(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,o=e-n+1,a=Math.log(i),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(i-s)/i);o-i/2<0&&(l*=-1),ns(t,e,Math.max(n,Math.floor(e-o*s/i+l)),Math.min(r,Math.floor(e+(i-o)*s/i+l)))}var u=t[e],c=n,f=r;for(es(t,n,e),t[r]>u&&es(t,n,r);c<f;){for(es(t,c,f),c++,f--;t[c]<u;)c++;for(;t[f]>u;)f--}t[n]===u?es(t,n,f):es(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function rs(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(as(t.length,e[r]));n.push(t.length-1),n.sort(os);var i=[0,n.length-1];for(;i.length;){var o=Math.ceil(i.pop()),a=Math.floor(i.pop());if(!(o-a<=1)){var s=Math.floor((a+o)/2);is(t,n[s],Math.floor(n[a]),Math.ceil(n[o])),i.push(a,s,s,o)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=ts(n,e[i]);return r}return is(n,as(n.length,e),0,n.length-1),ts(n,e)}function is(t,e,n,r){e%1==0?ns(t,e,n,r):(ns(t,e=Math.floor(e),n,r),ns(t,e+1,e+1,r))}function os(t,e){return t-e}function as(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}var ss=function(t){return{low:it(t),high:ot(t),q1:rs(t,.25),q3:rs(t,.75),median:rs(t,[.5]),minMax:[it(t),ot(t)],quantile:[rs(t,.25),rs(t,.75)]}},ls=function(t,e){var n=Qa.create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},us=function(t){var e=t.xField,n=t.yField,r=t.seriesField,i=t.data,o=t.kde,a={min:o.min,max:o.max,size:o.sampleSize,width:o.width};if(!r){var s=et(i,e);return Object.keys(s).map((function(t){var e=s[t].map((function(t){return t[n]}));return xt.exports.__assign(xt.exports.__assign({x:t},ls(e,a)),ss(e))}))}var l=[],u=et(i,r);return Object.keys(u).forEach((function(t){var i=et(u[t],e);return Object.keys(i).forEach((function(e){var o,s=i[e].map((function(t){return t[n]}));l.push(xt.exports.__assign(xt.exports.__assign(((o={x:e})[r]=t,o),ls(s,a)),ss(s)))}))})),l},cs="x",fs="violinY",ps="minMax",ds="quantile",hs="median",gs="violin_view",vs=le({},Ue.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),ys=["low","high","q1","q3","median"],xs=[{type:"dodge",marginRatio:1/32}];function ms(t){var e=t.chart,n=t.options;return e.data(us(n)),t}function bs(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.shape,a=void 0===o?"violin":o,s=n.violinStyle,l=n.tooltip,u=n.state,c=e.createView({id:gs});return function(t){var e=t.options,n=e.violin,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,s=Fn(e.tooltip,[r,i,o,a]),l=s.fields,u=s.formatter;n&&Sn(le({},t,{options:{type:"violin",colorField:o,tooltipFields:l,mapping:xt.exports.__assign({tooltip:u},n)}}))}({chart:c,options:{xField:cs,yField:fs,seriesField:r||cs,sizeField:"violinSize",tooltip:xt.exports.__assign({fields:ys},l),violin:{style:s,color:i,shape:a},state:u}}),c.geometries[0].adjust(xs),t}function _s(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,a=n.tooltip,s=n.box;if(!1===s)return t;var l=e.createView({id:"min_max_view"});En({chart:l,options:{xField:cs,yField:ps,seriesField:r||cs,tooltip:xt.exports.__assign({fields:ys},a),state:"object"===o(s)?s.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),l.geometries[0].adjust(xs);var u=e.createView({id:"quantile_view"});En({chart:u,options:{xField:cs,yField:ds,seriesField:r||cs,tooltip:xt.exports.__assign({fields:ys},a),state:"object"===o(s)?s.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),u.geometries[0].adjust(xs);var c=e.createView({id:"median_view"});return On({chart:c,options:{xField:cs,yField:hs,seriesField:r||cs,tooltip:xt.exports.__assign({fields:ys},a),state:"object"===o(s)?s.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),c.geometries[0].adjust(xs),u.axis(!1),l.axis(!1),c.axis(!1),c.legend(!1),l.legend(!1),u.legend(!1),t}function ws(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.xAxis,a=r.yAxis,s=le({},i,((e={}).x=xt.exports.__assign(xt.exports.__assign({sync:!0},Vt(o,Ze)),{type:"cat"}),e.violinY=xt.exports.__assign({sync:!0},Vt(a,Ze)),e.minMax=xt.exports.__assign({sync:fs},Vt(a,Ze)),e.quantile=xt.exports.__assign({sync:fs},Vt(a,Ze)),e.median=xt.exports.__assign({sync:fs},Vt(a,Ze)),e));return n.scale(s),t}function Fs(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=Jt(e,gs);return!1===r?o.axis(cs,!1):o.axis(cs,r),!1===i?o.axis(fs,!1):o.axis(fs,i),e.axis(!1),t}function As(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField,o=n.shape;if(!1===r)e.legend(!1);else{var s=i||cs,l=T(r,["selected"]);o&&o.startsWith("hollow")||a(l,["marker","style","lineWidth"])||at(l,["marker","style","lineWidth"],0),e.legend(s,l),a(r,"selected")&&v(e.views,(function(t){return t.legend(s,r)}))}return t}function ks(t){var e=Jt(t.chart,gs);return _n()(xt.exports.__assign(xt.exports.__assign({},t),{chart:e})),t}function Ss(t){var e=t.chart,n=t.options.animation;return v(e.views,(function(t){"boolean"==typeof n?t.animate(n):t.animate(!0),v(t.geometries,(function(t){t.animate(n)}))})),t}function Ms(t){return jt(vn,ms,bs,_s,ws,dn,Fs,As,hn,ks,Ss)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return vs},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(us(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ms}}(Ue);var Ds={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function Os(t,e,n){void 0===n&&(n="normal");var r,i=(r=function(t){if(!Ds[t])throw new Error("unknown blend mode "+t);return Ds[t]}(n),function(t,e){var n=[];return n[0]=r(t[0],e[0]),n[1]=r(t[1],e[1]),n[2]=r(t[2],e[2]),n})(Es(t),Es(e)),o=Es(t),a=o[0],s=o[1],l=o[2],u=o[3],c=Es(e),f=c[0],p=c[1],d=c[2],h=c[3],g=Number((u+h*(1-u)).toFixed(2));return"rgba("+Math.round((u*(1-h)*(a/255)+u*h*(i[0]/255)+(1-u)*h*(f/255))/g*255)+", "+Math.round((u*(1-h)*(s/255)+u*h*(i[1]/255)+(1-u)*h*(p/255))/g*255)+", "+Math.round((u*(1-h)*(l/255)+u*h*(i[2]/255)+(1-u)*h*(d/255))/g*255)+", "+g+")"}function Es(t){var e,n=t.replace("/s+/g","");return"string"!=typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=st.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):st.rgb2arr(st.toRGB(n)).concat([1])}function zs(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function Cs(t,e){return zs(t).map((function(){return zs(e)}))}function Ps(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function Is(t){return Math.sqrt(Ps(t,t))}function Rs(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function Ts(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function $s(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,u=void 0!==n.rho?n.rho:1,c=void 0!==n.chi?n.chi:2,f=void 0!==n.psi?n.psi:-.5,p=void 0!==n.sigma?n.sigma:.5,d=e.length,h=new Array(d+1);h[0]=e,h[0].fx=t(e),h[0].id=0;for(var g=0;g<d;++g){var v=e.slice();v[g]=v[g]?v[g]*o:a,h[g+1]=v,h[g+1].fx=t(v),h[g+1].id=g+1}function y(t){for(var e=0;e<t.length;e++)h[d][e]=t[e];h[d].fx=t.fx}for(var x=function(t,e){return t.fx-e.fx},m=e.slice(),b=e.slice(),_=e.slice(),w=e.slice(),F=0;F<i;++F){if(h.sort(x),n.history){var A=h.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));A.sort((function(t,e){return t.id-e.id})),n.history.push({x:h[0].slice(),fx:h[0].fx,simplex:A})}for(r=0,g=0;g<d;++g)r=Math.max(r,Math.abs(h[0][g]-h[1][g]));if(Math.abs(h[0].fx-h[d].fx)<s&&r<l)break;for(g=0;g<d;++g){m[g]=0;for(var k=0;k<d;++k)m[g]+=h[k][g];m[g]/=d}var S=h[d];if(Ts(b,1+u,m,-u,S),b.fx=t(b),b.fx<h[0].fx)Ts(w,1+c,m,-c,S),w.fx=t(w),w.fx<b.fx?y(w):y(b);else if(b.fx>=h[d-1].fx){var M=!1;if(b.fx>S.fx?(Ts(_,1+f,m,-f,S),_.fx=t(_),_.fx<S.fx?y(_):M=!0):(Ts(_,1-f*u,m,f*u,S),_.fx=t(_),_.fx<b.fx?y(_):M=!0),M){if(p>=1)break;for(g=1;g<h.length;++g)Ts(h[g],1-p,h[0],p,h[g]),h[g].fx=t(h[g])}}else y(b)}return h.sort(x),{fx:h[0].fx,x:h[0]}}function Bs(t,e,n,r,i,o,a){var s=n.fx,l=Ps(n.fxprime,e),u=s,c=s,f=l,p=0;function d(c,p,d){for(var h=0;h<16;++h)if(i=(c+p)/2,Ts(r.x,1,n.x,i,e),u=r.fx=t(r.x,r.fxprime),f=Ps(r.fxprime,e),u>s+o*i*l||u>=d)p=i;else{if(Math.abs(f)<=-a*l)return i;f*(p-c)>=0&&(p=c),c=i,d=u}return 0}i=i||1,o=o||1e-6,a=a||.1;for(var h=0;h<10;++h){if(Ts(r.x,1,n.x,i,e),u=r.fx=t(r.x,r.fxprime),f=Ps(r.fxprime,e),u>s+o*i*l||h&&u>=c)return d(p,i,c);if(Math.abs(f)<=-a*l)return i;if(f>=0)return d(i,p,u);c=u,p=i,i*=2}return i}function Ws(t,e,n){var r,i,o,a={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},l=e.slice(),u=1;o=(n=n||{}).maxIterations||20*e.length,a.fx=t(a.x,a.fxprime),Rs(r=a.fxprime.slice(),a.fxprime,-1);for(var c=0;c<o;++c){if(u=Bs(t,r,a,s,u),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:u}),u){Ts(l,1,s.fxprime,-1,a.fxprime);var f=Ps(a.fxprime,a.fxprime);Ts(r,Math.max(0,Ps(l,s.fxprime)/f),r,-1,s.fxprime),i=a,a=s,s=i}else Rs(r,a.fxprime,-1);if(Is(a.fxprime)<=1e-5)break}return n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:u}),a}var Ls=1e-10;function Ns(t,e){var n,r=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=qs(t[n],t[r]),o=0;o<i.length;++o){var a=i[o];a.parentIndex=[n,r],e.push(a)}return e}(t),i=r.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(Vs(t,e[n])>e[n].radius+Ls)return!1;return!0}(e,t)})),o=0,a=0,s=[];if(i.length>1){var l=Hs(i);for(n=0;n<i.length;++n){var u=i[n];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}i.sort((function(t,e){return e.angle-t.angle}));var c=i[i.length-1];for(n=0;n<i.length;++n){var f=i[n];a+=(c.x+f.x)*(f.y-c.y);for(var p={x:(f.x+c.x)/2,y:(f.y+c.y)/2},d=null,h=0;h<f.parentIndex.length;++h)if(c.parentIndex.indexOf(f.parentIndex[h])>-1){var g=t[f.parentIndex[h]],v=Math.atan2(f.x-g.x,f.y-g.y),y=Math.atan2(c.x-g.x,c.y-g.y),x=y-v;x<0&&(x+=2*Math.PI);var m=y-x/2,b=Vs(p,{x:g.x+g.radius*Math.sin(m),y:g.y+g.radius*Math.cos(m)});b>2*g.radius&&(b=2*g.radius),(null===d||d.width>b)&&(d={circle:g,width:b,p1:f,p2:c})}null!==d&&(s.push(d),o+=js(d.circle.radius,d.width),c=f)}}else{var _=t[0];for(n=1;n<t.length;++n)t[n].radius<_.radius&&(_=t[n]);var w=!1;for(n=0;n<t.length;++n)if(Vs(t[n],_)>Math.abs(_.radius-t[n].radius)){w=!0;break}w?o=a=0:(o=_.radius*_.radius*Math.PI,s.push({circle:_,p1:{x:_.x,y:_.y+_.radius},p2:{x:_.x-Ls,y:_.y+_.radius},width:2*_.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=s,e.innerPoints=i,e.intersectionPoints=r),o+a}function js(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function Vs(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function Gs(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return js(t,t-(n*n-e*e+t*t)/(2*n))+js(e,r)}function qs(t,e){var n=Vs(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var o=(r*r-i*i+n*n)/(2*n),a=Math.sqrt(r*r-o*o),s=t.x+o*(e.x-t.x)/n,l=t.y+o*(e.y-t.y)/n,u=-(e.y-t.y)*(a/n),c=-(e.x-t.x)*(a/n);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function Hs(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}var Xs=1e-10;function Ys(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):function(t,e,n,r){var i=(r=r||{}).maxIterations||100,o=r.tolerance||1e-10,a=t(e),s=t(n),l=n-e;if(a*s>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===s)return n;for(var u=0;u<i;++u){var c=e+(l/=2),f=t(c);if(f*a>=0&&(e=c),Math.abs(l)<o||0===f)return c}return e+l}((function(r){return Gs(t,e,r)-n}),0,t+e)}function Us(t,e){var n=function(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:Zs,i={},o={},a=0;a<t.length;++a){var s=t[a];1==s.sets.length&&(n=s.sets[0],i[n]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},o[n]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(a=0;a<t.length;++a){var l=t[a],u=l.hasOwnProperty("weight")?l.weight:1,c=l.sets[0],f=l.sets[1];l.size+Xs>=Math.min(i[c].size,i[f].size)&&(u=0),o[c].push({set:f,size:l.size,weight:u}),o[f].push({set:c,size:l.size,weight:u})}var p=[];for(n in o)if(o.hasOwnProperty(n)){var d=0;for(a=0;a<o[n].length;++a)d+=o[n][a].size*o[n][a].weight;p.push({set:n,size:d})}function h(t,e){return e.size-t.size}p.sort(h);var g={};function v(t){return t.set in g}function y(t,e){i[e].x=t.x,i[e].y=t.y,g[e]=!0}y({x:0,y:0},p[0].set);for(a=1;a<p.length;++a){var x=p[a].set,m=o[x].filter(v);if(n=i[x],m.sort(h),0===m.length)throw"ERROR: missing pairwise overlap information";for(var b=[],_=0;_<m.length;++_){var w=i[m[_].set],F=Ys(n.radius,w.radius,m[_].size);b.push({x:w.x+F,y:w.y}),b.push({x:w.x-F,y:w.y}),b.push({y:w.y+F,x:w.x}),b.push({y:w.y-F,x:w.x});for(var A=_+1;A<m.length;++A)for(var k=i[m[A].set],S=Ys(n.radius,k.radius,m[A].size),M=qs({x:w.x,y:w.y,radius:F},{x:k.x,y:k.y,radius:S}),D=0;D<M.length;++D)b.push(M[D])}var O=1e50,E=b[0];for(_=0;_<b.length;++_){i[x].x=b[_].x,i[x].y=b[_].y;var z=r(i,t);z<O&&(O=z,E=b[_])}y(E,x)}return i}(t,e),r=e.lossFunction||Zs;if(t.length>=8){var i=function(t,e){var n,r=(e=e||{}).restarts||10,i=[],o={};for(n=0;n<t.length;++n){var a=t[n];1==a.sets.length&&(o[a.sets[0]]=i.length,i.push(a))}var s=function(t,e,n){var r=Cs(e.length,e.length),i=Cs(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var o=n[t.sets[0]],a=n[t.sets[1]],s=Ys(Math.sqrt(e[o].size/Math.PI),Math.sqrt(e[a].size/Math.PI),t.size);r[o][a]=r[a][o]=s;var l=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?l=1:t.size<=1e-10&&(l=-1),i[o][a]=i[a][o]=l})),{distances:r,constraints:i}}(t,i,o),l=s.distances,u=s.constraints,c=Is(l.map(Is))/l.length;l=l.map((function(t){return t.map((function(t){return t/c}))}));var f,p,d=function(t,e){return function(t,e,n,r){var i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var a=t[2*i],s=t[2*i+1],l=i+1;l<n.length;++l){var u=t[2*l],c=t[2*l+1],f=n[i][l],p=r[i][l],d=(u-a)*(u-a)+(c-s)*(c-s),h=Math.sqrt(d),g=d-f*f;p>0&&h<=f||p<0&&h>=f||(o+=2*g*g,e[2*i]+=4*g*(a-u),e[2*i+1]+=4*g*(s-c),e[2*l]+=4*g*(u-a),e[2*l+1]+=4*g*(c-s))}return o}(t,e,l,u)};for(n=0;n<r;++n){p=Ws(d,zs(2*l.length).map(Math.random),e),(!f||p.fx<f.fx)&&(f=p)}var h=f.x,g={};for(n=0;n<i.length;++n){var v=i[n];g[v.sets[0]]={x:h[2*n]*c,y:h[2*n+1]*c,radius:Math.sqrt(v.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)Rs(e.history[n].x,c);return g}(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function Zs(t,e){var n=0;for(var r=0;r<e.length;++r){var i=e[r],o=void 0;if(1!=i.sets.length){if(2==i.sets.length){var a=t[i.sets[0]],s=t[i.sets[1]];o=Gs(a.radius,s.radius,Vs(a,s))}else o=Ns(i.sets.map((function(e){return t[e]})));n+=(i.hasOwnProperty("weight")?i.weight:1)*(o-i.size)*(o-i.size)}}return n}function Ks(t,e,n,r){var i=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),i.push(t[a]));e-=2*r,n-=2*r;var s=function(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}(i),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(l.max-l.min),f=n/(u.max-u.min),p=Math.min(f,c),d=(e-(l.max-l.min)*p)/2,h=(n-(u.max-u.min)*p)/2,g={},v=0;v<i.length;++v){var y=i[v];g[o[v]]={radius:p*y.radius,x:r+d+(y.x-l.min)*p,y:r+h+(y.y-u.min)*p}}return g}function Js(t,e,n){var r,i,o=e[0].radius-Vs(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-Vs(e[r],t))<=o&&(o=i);for(r=0;r<n.length;++r)(i=Vs(n[r],t)-n[r].radius)<=o&&(o=i);return o}function Qs(t,e){var n,r=[];for(n=0;n<t.length;++n){var i=t[n];r.push({x:i.x,y:i.y}),r.push({x:i.x+i.radius/2,y:i.y}),r.push({x:i.x-i.radius/2,y:i.y}),r.push({x:i.x,y:i.y+i.radius/2}),r.push({x:i.x,y:i.y-i.radius/2})}var o=r[0],a=Js(r[0],t,e);for(n=1;n<r.length;++n){var s=Js(r[n],t,e);s>=a&&(o=r[n],a=s)}var l=$s((function(n){return-1*Js({x:n[0],y:n[1]},t,e)}),[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},c=!0;for(n=0;n<t.length;++n)if(Vs(u,t[n])>t[n].radius){c=!1;break}for(n=0;n<e.length;++n)if(Vs(u,e[n])<e[n].radius){c=!1;break}if(!c)if(1==t.length)u={x:t[0].x,y:t[0].y};else{var f={};Ns(t,f),u=0===f.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==f.arcs.length?{x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:e.length?Qs(t,[]):Hs(f.arcs.map((function(t){return t.p1})))}return u}function tl(t,e){for(var n={},r=function(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var o=t[n[i]],a=i+1;a<n.length;++a){var s=t[n[a]],l=Vs(o,s);l+s.radius<=o.radius+1e-10?e[n[a]].push(n[i]):l+o.radius<=s.radius+1e-10&&e[n[i]].push(n[a])}return e}(t),i=0;i<e.length;++i){for(var o=e[i].sets,a={},s={},l=0;l<o.length;++l){a[o[l]]=!0;for(var u=r[o[l]],c=0;c<u.length;++c)s[u[c]]=!0}var f=[],p=[];for(var d in t)d in a?f.push(t[d]):d in s||p.push(t[d]);var h=Qs(f,p);n[o]=h,h.disjoint&&e[i].size>0&&console.log("WARNING: area "+o+" not represented on screen")}return n}var el="id",nl={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},rl=x((function(t,e,n,r){var i=new Map,o=t.length;return e.forEach((function(e,a){if(1===e[r].length)i.set(e.id,t[(a+o)%o]);else{var s=e[r].map((function(t){return i.get(t)}));i.set(e.id,s.slice(1).reduce((function(t,e){return Os(t,e,n)}),s[0]))}})),i}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));function il(t,e,n,r){void 0===r&&(r=0);var i=t.data,o=t.setsField,a=t.sizeField;if(0===i.length)return Xt(Lt.WARN,!1,"warn: %s","数据不能为空"),[];var s=i.map((function(t){var e;return xt.exports.__assign(xt.exports.__assign({},t),((e={sets:t[o]||[],size:t[a]}).path="",e.id="",e))}));s.sort((function(t,e){return t.sets.length-e.sets.length}));var l=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||Us,r=e.lossFunction||Zs;t=function(t){t=t.slice();var e,n,r,i,o=[],a={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?o.push(s.sets[0]):2==s.sets.length&&(a[[r=s.sets[0],i=s.sets[1]]]=!0,a[[i,r]]=!0)}for(o.sort((function(t,e){return t>e?1:-1})),e=0;e<o.length;++e)for(r=o[e],n=e+1;n<o.length;++n)[r,i=o[n]]in a||t.push({sets:[r,i],size:0});return t}(t);var i,o=n(t,e),a=[],s=[];for(i in o)o.hasOwnProperty(i)&&(a.push(o[i].x),a.push(o[i].y),s.push(i));for(var l=$s((function(e){for(var n={},i=0;i<s.length;++i){var a=s[i];n[a]={x:e[2*i],y:e[2*i+1],radius:o[a].radius}}return r(n,t)}),a,e),u=l.x,c=0;c<s.length;++c)i=s[c],o[i].x=u[2*c],o[i].y=u[2*c+1];return o}(s),u=Ks(l,e,n,r),c=tl(u,s);return s.forEach((function(t){var e=t.sets,n=e.join(",");t.id=n;var r=e.map((function(t){return u[t]})),i=function(t){var e={};Ns(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return function(t,e,n){var r=[],i=t-n,o=e;return r.push("M",i,o),r.push("A",n,n,0,1,0,i+2*n,o),r.push("A",n,n,0,1,0,i,o),r.join(" ")}(r.x,r.y,r.radius)}for(var i=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var a=n[o],s=a.circle.radius,l=a.width>s;i.push("\nA",s,s,0,l?1:0,1,a.p1.x,a.p1.y)}return i.join(" ")}(r);/[zZ]$/.test(i)||(i+=" Z"),t.path=i;var o=c[n]||{x:0,y:0};G(t,o)})),s}q("schema","venn",{draw:function(t,e){var n=t.data,r=lt(n.path),i=function(t){return le({},t.defaultStyle,{fill:t.color},t.style)}(t),o=e.addGroup({name:"venn-shape"});o.addShape("path",{attrs:xt.exports.__assign(xt.exports.__assign({},i),{path:r}),name:"venn-path"});var a=t.customInfo,s=a.offsetX,l=a.offsetY,u=A.transform(null,[["t",s,l]]);return o.setMatrix(u),o},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.getLabelPoint=function(t,e,n){var r=t.data,i=r.x,o=r.y,a=t.customLabelInfo,s=a.offsetX,l=a.offsetY;return{content:t.content[n],x:i+s,y:o+l}},e}(ut);function al(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}ct("venn",ol);var sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.syncElementsPos=function(){al(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(ft("element-active")),ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.syncElementsPos=function(){al(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(ft("element-highlight")),ul=ft("element-selected"),cl=ft("element-single-selected"),fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.syncElementsPos=function(){al(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(ul),pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.syncElementsPos=function(){al(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(cl);P("venn-element-active",sl),P("venn-element-highlight",ll),P("venn-element-selected",fl),P("venn-element-single-selected",pl),I("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),I("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),I("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),I("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),I("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),I("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});function dl(t,e,n){var r=t.chart,i=t.options,o=i.blendMode,a=i.setsField,s=r.getTheme(),l=s.colors10,u=s.colors20,c=n;_(c)||(c=e.filter((function(t){return 1===t[a].length})).length<=10?l:u);var f=rl(c,e,o,a);return function(t){return f.get(t)||c[0]}}function hl(t){var e=t.chart,n=t.options,r=n.legend,i=n.appendPadding,o=n.padding,s=be(i);return!1!==r&&(s=_e(i,a(r,"position"),40)),e.appendPadding=we([s,o]),t}function gl(t){var e=t.options.data;e||(Xt(Lt.WARN,!1,"warn: %s","数据不能为空"),e=[]);var n=e.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),r=e.filter((function(t){var e=t.sets;return function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}(n,e)}));return L(r,e)||Xt(Lt.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),O({},t,{options:{data:r}})}function vl(t){var e=t.chart,n=t.options,r=n.pointStyle,i=n.setsField,o=n.sizeField,a=be(e.appendPadding),s=a[0],l=a[1],u=a[2],c=a[3],f={offsetX:c,offsetY:s},p=e.viewBBox,d=p.width,h=p.height,g=il(n,Math.max(d-(l+c),0),Math.max(h-(s+u),0),0);e.data(g);var v=Pn(le({},t,{options:{xField:"x",yField:"y",sizeField:o,seriesField:el,rawFields:[i,o],schema:{shape:"venn",style:r}}})).ext.geometry;v.customInfo(f);var y=function(t,e){var n=t.options.color;if("function"!=typeof n){var r=dl(t,e,"string"==typeof n?[n]:n);return function(t){return r(t.id)}}return n}(t,g);return"function"==typeof y&&v.color(el,(function(e){var n=g.find((function(t){return t.id===e})),r=dl(t,g)(e);return y(n,r)})),t}function yl(t){var e=t.chart,n=t.options.label,r=be(e.appendPadding),i=r[0],o={offsetX:r[3],offsetY:i},a=Ut(e,"schema");if(n){var s=n.callback,l=xt.exports.__rest(n,["callback"]);a.label({fields:["id"],callback:s,cfg:O({},ee(l),{type:"venn",customLabelInfo:o})})}else a.label(!1);return t}function xl(t){var e=t.chart,n=t.options,r=n.legend,i=n.sizeField;return e.legend(el,r),e.legend(i,!1),t}function ml(t){return t.chart.axis(!1),t}function bl(t){var e=t.options,n=t.chart,r=e.interactions;if(r){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};hn(le({},t,{options:{interactions:r.map((function(t){return xt.exports.__assign(xt.exports.__assign({},t),{type:i[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function _l(t){return jt(hl,vn,gl,vl,yl,bn({}),xl,ml,dn,bl,gn)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return nl},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _l},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Ue);var wl,Fl="$$stock-range$$",Al="trend",kl="down",Sl=le({},Ue.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;if("x"===t){var i=n[0];r=i?i.title:e}else r=e;return{position:"y"===t?"start":"end",content:r,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function Ml(t,e){return R(t,(function(t){if(_(e)){var n=e[0],r=e[1],i=e[2],o=e[3];t.trend=t[n]<=t[r]?"up":kl,t[Fl]=[t[n],t[r],t[i],t[o]]}return t}))}function Dl(t){var e=t.chart,n=t.options,r=n.yField,i=n.data,o=n.risingFill,a=n.fallingFill,s=n.tooltip,l=n.stockStyle;e.data(Ml(i,r));var u=s;return!1!==u&&(u=le({},{fields:r},u)),Pn(le({},t,{options:{schema:{shape:"candle",color:[o,a],style:l},yField:Fl,seriesField:Al,rawFields:r,tooltip:u}})),t}function Ol(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,s=i.yAxis,l=i.xField,u=((e={})[l]={type:"timeCat",tickCount:6},e.trend={values:["up",kl]},e),c=le(u,o,((n={})[l]=Vt(a,Ze),n[Fl]=Vt(s,Ze),n));return r.scale(c),t}function El(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(Fl,!1):e.axis(Fl,i),t}function zl(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function Cl(t){var e=t.chart,n=t.options.legend;return n?e.legend(Al,n):!1===n&&e.legend(!1),t}function Pl(t){jt(vn,Dl,Ol,El,zl,Cl,hn,gn,_n(),xn)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Sl},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Pl},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(Ml(t,e))}}(Ue);var Il="$$percentage$$",Rl="$$mappingValue$$",Tl="$$conversion$$",$l="$$totalPercentage$$",Bl="$$x$$",Wl="$$y$$",Ll={appendPadding:[0,80],minSize:0,maxSize:1,meta:(wl={},wl.$$mappingValue$$={min:0,max:1,nice:!1},wl),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function Nl(t,e,n){var r,i=n.yField,o=n.maxSize,s=n.minSize,l=a(pt(e,i),[i]),u=y(o)?o:1,c=y(s)?s:0;return r=R(t,(function(e,n){var r=(e[i]||0)/l;return e.$$percentage$$=r,e.$$mappingValue$$=(u-c)*r+c,e.$$conversion$$=[a(t,[n-1,i]),e[i]],e})),r}function jl(t){return function(e){var n=e.chart,r=e.options.conversionTag,i=n.getOptions().data;if(r){var o=r.formatter;i.forEach((function(e,a){if(!(a<=0||Number.isNaN(e.$$mappingValue$$))){var s=t(e,a,i,{top:!0,text:{content:h(o)?o(e,i):o,offsetX:r.offsetX,offsetY:r.offsetY,position:"end",autoRotate:!1,style:xt.exports.__assign({textAlign:"start",textBaseline:"middle"},r.style)}});n.annotation().line(s)}}))}return e}}function Vl(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=Nl(i,i,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(o),t}function Gl(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,s=n.label,l=n.shape,u=void 0===l?"funnel":l,c=n.funnelStyle,f=n.state,p=Fn(a,[r,i]),d=p.fields,h=p.formatter;return Sn({chart:e,options:{type:"interval",xField:r,yField:Rl,colorField:r,tooltipFields:_(d)&&d.concat([Il,Tl]),mapping:{shape:u,tooltip:h,color:o,style:c},label:s,state:f}}),Ut(t.chart,"interval").adjust("symmetric"),t}function ql(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function Hl(t){var e=t.options.maxSize;return jl((function(t,n,r,i){var o=e-(e-t.$$mappingValue$$)/2;return xt.exports.__assign(xt.exports.__assign({},i),{start:[n-.5,o],end:[n-.5,o+.05]})}))(t),t}function Xl(t){return jt(Vl,Gl,ql,Hl)(t)}function Yl(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function Ul(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,a=n.color,s=n.compareField,l=n.isTransposed,u=n.tooltip,c=n.maxSize,f=n.minSize,p=n.label,d=n.funnelStyle,h=n.state;return e.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],eachView:function(t,e){var n=l?e.rowIndex:e.columnIndex;l||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var g=Nl(e.data,r,{yField:o,maxSize:c,minSize:f});t.data(g);var v=Fn(u,[i,o,s]),y=v.fields,x=v.formatter,m=l?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};Sn({chart:t,options:{type:"interval",xField:i,yField:Rl,colorField:i,tooltipFields:_(y)&&y.concat([Il,Tl]),mapping:{shape:"funnel",tooltip:x,color:a,style:d},label:!1!==p&&le({},m,p),state:h}})}}),t}function Zl(t){var e=t.chart,n=t.options,r=n.conversionTag,i=n.isTransposed;return e.once("beforepaint",(function(){e.views.forEach((function(t,e){jl((function(t,n,o,a){var s=0===e?-1:1;return le({},a,{start:[n-.5,t.$$mappingValue$$],end:[n-.5,t.$$mappingValue$$+.05],text:i?{style:{textAlign:"start"}}:{offsetX:!1!==r?s*r.offsetX:0,style:{textAlign:0===e?"end":"start"}}})}))(le({},{chart:t,options:n}))}))})),t}function Kl(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function Jl(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.isTransposed;return e.facet("rect",{fields:[r],padding:[i?0:32,10,0,10],eachView:function(e,n){Xl(le({},t,{chart:e,options:{data:n.data}}))}}),t}function Ql(t){var e=t.chart,n=t.options,r=n.data,o=void 0===r?[]:r,s=n.yField,l=i(o,(function(t,e){return t+(e[s]||0)}),0),u=pt(o,s)[s],c=R(o,(function(t,e){var n=[],r=[];if(t.$$totalPercentage$$=(t[s]||0)/l,e){var i=o[e-1].$$x$$,c=o[e-1].$$y$$;n[0]=i[3],r[0]=c[3],n[1]=i[2],r[1]=c[2]}else n[0]=-.5,r[0]=1,n[1]=.5,r[1]=1;return r[2]=r[1]-t.$$totalPercentage$$,n[2]=(r[2]+1)/4,r[3]=r[2],n[3]=-n[2],t.$$x$$=n,t.$$y$$=r,t.$$percentage$$=(t[s]||0)/u,t.$$conversion$$=[a(o,[e-1,s]),t[s]],t}));return e.data(c),t}function tu(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,s=n.label,l=n.funnelStyle,u=n.state,c=Fn(a,[r,i]),f=c.fields,p=c.formatter;return Sn({chart:e,options:{type:"polygon",xField:Bl,yField:Wl,colorField:r,tooltipFields:_(f)&&f.concat([Il,Tl]),label:s,state:u,mapping:{tooltip:p,color:o,style:l}}}),t}function eu(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function nu(t){return jl((function(t,e,n,r){return xt.exports.__assign(xt.exports.__assign({},r),{start:[t.$$x$$[1],t.$$y$$[1]],end:[t.$$x$$[1]+.05,t.$$y$$[1]]})}))(t),t}function ru(t){var e,n=t.options,r=n.compareField,i=n.xField,o=n.yField,a=n.locale,s=n.funnelStyle,l=n.data,u=Se(a);return(r||s)&&(e=function(t){return le({},r&&{lineWidth:1,stroke:"#fff"},h(s)?s(t):s)}),le({options:{label:r?{fields:[i,o,r,Il,Tl],formatter:function(t){return""+t[o]}}:{fields:[i,o,Il,Tl],offset:0,position:"middle",formatter:function(t){return t[i]+" "+t[o]}},tooltip:{title:i,formatter:function(t){return{name:t[i],value:t[o]}}},conversionTag:{formatter:function(t){return u.get(["conversionTag","label"])+": "+Qn.apply(void 0,t.$$conversion$$)}}}},t,{options:{funnelStyle:e,data:J(l)}})}function iu(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?function(t){return jt(Kl,Jl)(t)}(t):n?function(t){return jt(Yl,Ul,Zl)(t)}(t):r?function(t){return jt(Ql,tu,eu,nu)(t)}(t):Xl(t)}function ou(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return jt(bn(((e={})[o]=r,e[a]=i,e)))(t)}function au(t){return t.chart.axis(!1),t}function su(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function lu(t){return jt(ru,iu,ou,au,dn,hn,su,gn,vn,_n())(t)}var uu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Ll},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lu},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=Kt(this.chart);v(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=Kt(this.chart),e=[];return v(t,(function(t){var n=t.getData(),r=t.getStates();v(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=Tl,e.PERCENT_FIELD=Il,e.TOTAL_PERCENT_FIELD=$l,e}(Ue);function cu(t){return[{percent:t,type:"liquid"}]}function fu(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,o=n.radius,a=n.outline,s=n.wave,l=n.shape;e.scale({percent:{min:0,max:1}}),e.data(cu(r));var u=n.color||e.getTheme().defaultColor,c=En(le({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:u,style:i,shape:"liquid-fill-gauge"}}})).ext.geometry,f={radius:o,outline:a,wave:s,shape:l,background:e.getTheme().background};return c.customInfo(f),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function pu(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent,s=r.meta;n.getController("annotation").clear(!0);var l=a(s,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},u=i.content;return u&&(u=le({},u,{content:S(u.content)?l(o):u.content})),de(n,{statistic:xt.exports.__assign(xt.exports.__assign({},i),{content:u}),plotType:"liquid"},{percent:o}),e&&n.render(!0),t}function du(t){return jt(vn,fn("liquidStyle"),fu,pu,bn({}),gn,hn)(t)}var hu={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function gu(t,e,n){return t+(e-t)*n}function vu(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function yu(t,e,n,r,i,o,a){for(var s=4*Math.ceil(2*t/n*4),l=[],u=r;u<2*-Math.PI;)u+=2*Math.PI;for(;u>0;)u-=2*Math.PI;var c=o-t+(u=u/Math.PI/2*n)-2*t;l.push(["M",c,e]);for(var f=0,p=0;p<s;++p){var d=vu(p*n/4,p%4,n,i);l.push(["C",d[0][0]+c,-d[0][1]+e,d[1][0]+c,-d[1][1]+e,d[2][0]+c,-d[2][1]+e]),p===s-1&&(f=d[2][0])}return l.push(["L",f+c,a+t]),l.push(["L",c,a+t]),l.push(["Z"]),l}function xu(t,e,n,r){var i=2*n/3,o=Math.max(i,r),a=i/2,s=t,l=a+e-o/2,u=Math.asin(a/(.85*(o-a))),c=Math.sin(u)*a,f=Math.cos(u)*a,p=s-f,d=l+c,h=t,g=l+a/Math.sin(u);return"\n      M "+p+" "+d+"\n      A "+a+" "+a+" 0 1 1 "+(p+2*f)+" "+d+"\n      Q "+h+" "+g+" "+t+" "+(e+o/2)+"\n      Q "+h+" "+g+" "+p+" "+d+"\n      Z \n    "}function mu(t,e,n,r){var i=n/2,o=r/2;return"\n      M "+t+" "+(e-o)+" \n      a "+i+" "+o+" 0 1 0 0 "+2*o+"\n      a "+i+" "+o+" 0 1 0 0 "+2*-o+"\n      Z\n    "}function bu(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+e+"\n      L "+t+" "+(e+i)+"\n      L "+(t-o)+" "+e+"\n      Z\n    "}function _u(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}function wu(t,e,n,r){var i=r/2,o=n/2*.618;return"\n      M "+(t-o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}q("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,r=n,o=r.radius,a=r.shape,s=r.background,l=n.outline,u=n.wave,c=l.border,f=l.distance,p=u.count,d=u.length,h=i(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),g=this.parsePoint({x:.5,y:.5}),v=this.parsePoint({x:h,y:.5}),x=g.x-v.x,m=Math.min(x,v.y*o),b=function(t){var e=xt.exports.__assign({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),_=function(t){var e=G({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),y(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}(G({},t,l)),w=m-c/2,F={pin:xu,circle:mu,diamond:bu,triangle:_u,rect:wu},A=("function"==typeof a?a:F[a]||F.circle)(g.x,g.y,2*w,2*w),k=e.addGroup({name:"waves"}),S=k.setClip({type:"path",attrs:{path:A}});return function(t,e,n,r,i,o,a,s,l){for(var u=i.fill,c=i.opacity,f=a.getBBox(),p=f.maxX-f.minX,d=f.maxY-f.minY,h=0;h<r;h++){var g=r<=1?0:h/(r-1),v=o.addShape("path",{name:"waterwave-path",attrs:{path:yu(s,f.minY+d*n,l,0,p/32,t,e),fill:u,opacity:gu(.2,.9,g)*c}});try{var y=Pr([["t",l,0]]);v.stopAnimate(),v.animate({matrix:y},{duration:gu(2500,5e3,g),repeat:!0})}catch(x){console.warn("off-screen group animate error!")}}}(g.x,g.y,1-t.points[1].y,p,b,k,S,2*m,d),e.addShape("path",{name:"distance",attrs:{path:A,fill:"transparent",lineWidth:c+2*f,stroke:"transparent"===s?"#fff":s}}),e.addShape("path",{name:"wrap",attrs:G(_,{path:A,fill:"transparent",lineWidth:c})}),e}});var Fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return hu},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(j.BEFORE_CHANGE_DATA,V.fromData(this.chart,j.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(cu(t)),pu({chart:this.chart,options:this.options},!0),this.chart.emit(j.AFTER_CHANGE_DATA,V.fromData(this.chart,j.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return du},e}(Ue);function Au(t){var e=t.data,n=t.xField,r=t.measureField,i=t.rangeField,o=t.targetField,a=t.layout,s=[],l=[];e.forEach((function(t,e){var a;t[i].sort((function(t,e){return t-e})),t[i].forEach((function(r,o){var a,l=0===o?r:t[i][o]-t[i][o-1];s.push(((a={rKey:i+"_"+o})[n]=n?t[n]:String(e),a[i]=l,a))})),t[r].forEach((function(i,o){var a;s.push(((a={mKey:t[r].length>1?r+"_"+o:""+r})[n]=n?t[n]:String(e),a[r]=i,a))})),s.push(((a={tKey:""+o})[n]=n?t[n]:String(e),a[o]=t[o],a)),l.push(t[i],t[r],t[o])}));var u=Math.min.apply(Math,l.flat(1/0)),c=Math.max.apply(Math,l.flat(1/0));return u=u>0?0:u,"vertical"===a&&s.reverse(),{min:u,max:c,ds:s}}function ku(t){var e=t.chart,n=t.options,r=n.bulletStyle,i=n.targetField,o=n.rangeField,s=n.measureField,l=n.xField,u=n.color,c=n.layout,f=n.size,p=n.label,d=Au(n),g=d.min,v=d.max,y=d.ds;e.data(y),En(le({},t,{options:{xField:l,yField:o,seriesField:"rKey",isStack:!0,label:a(p,"range"),interval:{color:a(u,"range"),style:a(r,"range"),size:a(f,"range")}}})),e.geometries[0].tooltip(!1),En(le({},t,{options:{xField:l,yField:s,seriesField:"mKey",isStack:!0,label:a(p,"measure"),interval:{color:a(u,"measure"),style:a(r,"measure"),size:a(f,"measure")}}}));var x=le({},t,{options:{xField:l,yField:i,seriesField:"tKey",label:a(p,"target"),point:{color:a(u,"target"),style:a(r,"target"),size:h(a(f,"target"))?function(t){return a(f,"target")(t)/2}:a(f,"target")/2,shape:"horizontal"===c?"line":"hyphen"}}});return On(x),"horizontal"===c&&e.coordinate().transpose(),xt.exports.__assign(xt.exports.__assign({},t),{ext:{data:{min:g,max:v}}})}function Su(t){var e,n,r=t.options,i=t.ext,o=r.xAxis,a=r.yAxis,s=r.targetField,l=r.rangeField,u=r.measureField,c=r.xField,f=i.data;return jt(bn(((e={})[c]=o,e[u]=a,e),((n={})[u]={min:null==f?void 0:f.min,max:null==f?void 0:f.max,sync:!0},n[s]={sync:""+u},n[l]={sync:""+u},n)))(t)}function Mu(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.measureField,s=n.rangeField,l=n.targetField;return e.axis(""+s,!1),e.axis(""+l,!1),!1===r?e.axis(""+o,!1):e.axis(""+o,r),!1===i?e.axis(""+a,!1):e.axis(""+a,i),t}function Du(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function Ou(t){var e=t.chart,n=t.options,r=n.label,i=n.measureField,o=n.targetField,s=n.rangeField,l=e.geometries,u=l[0],c=l[1],f=l[2];return a(r,"range")?u.label(""+s,xt.exports.__assign({layout:[{type:"limit-in-plot"}]},ee(r.range))):u.label(!1),a(r,"measure")?c.label(""+i,xt.exports.__assign({layout:[{type:"limit-in-plot"}]},ee(r.measure))):c.label(!1),a(r,"target")?f.label(""+o,xt.exports.__assign({layout:[{type:"limit-in-plot"}]},ee(r.target))):f.label(!1),t}function Eu(t){jt(ku,Su,Mu,Du,vn,Ou,dn,hn,gn)(t)}var zu=le({},Ue.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return zu},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Au(this.options),n=e.min,r=e.max,i=e.ds;Su({options:this.options,ext:{data:{min:n,max:r}},chart:this.chart}),this.chart.changeData(i)},e.prototype.getSchemaAdaptor=function(){return Eu},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ue);var Cu="nodeIndex",Pu="childNodeCount",Iu="nodeAncestor",Ru="Invalid field: it must be a string!";function Tu(t,e){var n=t.field,r=t.fields;if(g(n))return n;if(_(n))return console.warn(Ru),n[0];if(console.warn(Ru+" will try to get fields instead."),g(r))return r;if(_(r)&&r.length)return r[0];if(e)return e;throw new TypeError(Ru)}function $u(t){var e,n,r=[];t&&t.each?t.each((function(t){var i,o;t.parent!==e?(e=t.parent,n=0):n+=1;var a=b(((null===(i=t.ancestors)||void 0===i?void 0:i.call(t))||[]).map((function(t){return r.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t.nodeAncestor=a,t.childNodeCount=(null===(o=t.children)||void 0===o?void 0:o.length)||0,t.nodeIndex=n,r.push(t)})):t&&t.eachNode&&t.eachNode((function(t){r.push(t)}));return r}var Bu="ancestor-node",Wu="value",Lu="path",Nu=[Lu,Cu,Iu,Pu,"name","depth","height"],ju=le({},Ue.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),Vu="drilldown-bread-crumb",Gu={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},qu="hierarchy-data-transform-params",Hu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=Gu,e}return xt.exports.__extends(e,t),e.prototype.click=function(){var t=a(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),r=this.getButtonCfg().position,i={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(i={x:0,y:0}),"bottom-left"===r&&(i={x:t.start.x,y:t.start.y});var o=A.transform(null,[["t",i.x+0,i.y+n.height+5]]);e.setMatrix(o)}},e.prototype.back=function(){U(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=a(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),r=n(xt.exports.__assign({data:t.data},t[qu]));e.changeData(r);for(var i=[],o=t;o;){var s=o.data;i.unshift({id:s.name+"_"+o.height+"_"+o.depth,name:s.name,children:n(xt.exports.__assign({data:s},t[qu]))}),o=o.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(i)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=dt(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=a(t,["interactions","drill-down","cfg","drillDownConfig"]);return le(this.breadCrumbCfg,null==e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Vu});var r=0;n.forEach((function(i,o){var a=t.breadCrumbGroup.addShape({type:"text",id:i.id,name:Vu+"_"+i.name+"_text",attrs:xt.exports.__assign(xt.exports.__assign({text:0!==o||S(e.rootText)?i.name:e.rootText},e.textStyle),{x:r,y:0})}),s=a.getBBox();if(r+=s.width+4,a.on("click",(function(e){var r,i=e.target.get("id");if(i!==(null===(r=dt(n))||void 0===r?void 0:r.id)){var o=n.slice(0,n.findIndex((function(t){return t.id===i}))+1);t.backTo(o)}})),a.on("mouseenter",(function(t){var r;t.target.get("id")!==(null===(r=dt(n))||void 0===r?void 0:r.id)?a.attr(e.activeTextStyle):a.attr({cursor:"default"})})),a.on("mouseleave",(function(){a.attr(e.textStyle)})),o<n.length-1){var l=t.breadCrumbGroup.addShape({type:"text",name:e.name+"_"+i.name+"_divider",attrs:xt.exports.__assign(xt.exports.__assign({text:e.dividerText},e.textStyle),{x:r,y:0})}).getBBox();r+=l.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(C);function Xu(t,e){return t.parent===e.parent?1:2}function Yu(t,e){return t+e.x}function Uu(t,e){return Math.max(t,e.y)}function Zu(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ku(){var t,e,n,r,i,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),Nt,this)}function Ju(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=tc)):void 0===e&&(e=Qu);for(var n,r,i,o,a,s=new rc(t),l=[s];n=l.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new rc(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(nc)}function Qu(t){return t.children}function tc(t){return Array.isArray(t)?t[1]:null}function ec(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function nc(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function rc(t){this.data=t,this.depth=this.height=0,this.parent=null}function ic(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&sc(n,e)?++r:(n=uc(o=oc(o,e)),r=0);return n}function oc(t,e){var n,r;if(lc(e,t))return[e];for(n=0;n<t.length;++n)if(ac(e,t[n])&&lc(cc(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ac(cc(t[n],t[r]),e)&&ac(cc(t[n],e),t[r])&&ac(cc(t[r],e),t[n])&&lc(fc(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ac(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function sc(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function lc(t,e){for(var n=0;n<e.length;++n)if(!sc(t,e[n]))return!1;return!0}function uc(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return cc(t[0],t[1]);case 3:return fc(t[0],t[1],t[2])}var e}function cc(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+a+u/f*c)/2,r:(f+i+s)/2}}function fc(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,c=n.y,f=n.r,p=r-a,d=r-u,h=i-s,g=i-c,v=l-o,y=f-o,x=r*r+i*i-o*o,m=x-a*a-s*s+l*l,b=x-u*u-c*c+f*f,_=d*h-p*g,w=(h*b-g*m)/(2*_)-r,F=(g*v-h*y)/_,A=(d*m-p*b)/(2*_)-i,k=(p*y-d*v)/_,S=F*F+k*k-1,M=2*(o+w*F+A*k),D=w*w+A*A-o*o,O=-(S?(M+Math.sqrt(M*M-4*S*D))/(2*S):D/M);return{x:r+w+F*O,y:i+A+k*O,r:O}}function pc(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function dc(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function hc(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function gc(t){this._=t,this.next=null,this.previous=null}function vc(t){if(!(a=(e=t,t="object"===o(e)&&"length"in e?e:Array.from(e)).length))return 0;var e,n,r,i,a,s,l,u,c,f,p,d;if((n=t[0]).x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;pc(r,n,i=t[2]),n=new gc(n),r=new gc(r),i=new gc(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(u=3;u<a;++u){pc(n._,r._,i=t[u]),i=new gc(i),c=r.next,f=n.previous,p=r._.r,d=n._.r;do{if(p<=d){if(dc(c._,i._)){r=c,n.next=r,r.previous=n,--u;continue t}p+=c._.r,c=c.next}else{if(dc(f._,i._)){(n=f).next=r,r.previous=n,--u;continue t}d+=f._.r,f=f.previous}}while(c!==f.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=hc(n);(i=i.next)!==r;)(l=hc(i))<s&&(n=i,s=l);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=ic(n),u=0;u<a;++u)(n=t[u]).x-=i.x,n.y-=i.y;return i.r}function yc(t){return null==t?null:xc(t)}function xc(t){if("function"!=typeof t)throw new Error;return t}function mc(){return 0}function bc(t){return function(){return t}}function _c(t){return Math.sqrt(t.value)}function wc(){var t=null,e=1,n=1,r=mc;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(Fc(t)).eachAfter(Ac(r,.5)).eachBefore(kc(1)):i.eachBefore(Fc(_c)).eachAfter(Ac(mc,1)).eachAfter(Ac(r,i.r/Math.min(e,n))).eachBefore(kc(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=yc(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:bc(+t),i):r},i}function Fc(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ac(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=vc(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function kc(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Sc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Mc(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function Dc(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Mc(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(Sc),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}rc.prototype=Ju.prototype=n({constructor:rc,count:function(){return this.eachAfter(Zu)},each:function(t,e){var n,i=-1,o=r(this);try{for(o.s();!(n=o.n()).done;){var a=n.value;t.call(e,a,++i,this)}}catch(s){o.e(s)}finally{o.f()}return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){var n,i=-1,o=r(this);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(t.call(e,a,++i,this))return a}}catch(s){o.e(s)}finally{o.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ju(this).eachBefore(ec)}},Symbol.iterator,Ku);var Oc={depth:-1},Ec={};function zc(t){return t.id}function Cc(t){return t.parentId}function Pc(t,e){return t.parent===e.parent?1:2}function Ic(t){var e=t.children;return e?e[0]:t.t}function Rc(t){var e=t.children;return e?e[e.length-1]:t.t}function Tc(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $c(t,e,n){return t.a.parent===e.parent?t.a:n}function Bc(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Wc(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}Bc.prototype=Object.create(rc.prototype);var Lc=(1+Math.sqrt(5))/2;function Nc(t,e,n,r,i,o){for(var a,s,l,u,c,f,p,d,h,g,v,y=[],x=e.children,m=0,b=0,_=x.length,w=e.value;m<_;){l=i-n,u=o-r;do{c=x[b++].value}while(!c&&b<_);for(f=p=c,v=c*c*(g=Math.max(u/l,l/u)/(w*t)),h=Math.max(p/v,v/f);b<_;++b){if(c+=s=x[b].value,s<f&&(f=s),s>p&&(p=s),v=c*c*g,(d=Math.max(p/v,v/f))>h){c-=s;break}h=d}y.push(a={value:c,dice:l<u,children:x.slice(m,b)}),a.dice?Mc(a,n,r,i,w?r+=u*c/w:o):Wc(a,n,r,w?n+=l*c/w:i,o),w-=c,m=b}return y}var jc=function t(e){function n(t,n,r,i,o){Nc(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Lc);function Vc(){var t=jc,e=!1,n=1,r=1,i=[0],o=mc,a=mc,s=mc,l=mc,u=mc;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(Sc),t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,p=e.y1-n;f<r&&(r=f=(r+f)/2),p<c&&(c=p=(c+p)/2),e.x0=r,e.y0=c,e.x1=f,e.y1=p,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,c+=a(e)-n,(f-=s(e)-n)<r&&(r=f=(r+f)/2),(p-=l(e)-n)<c&&(c=p=(c+p)/2),t(e,r,c,f,p))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=xc(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:bc(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:bc(+t),c):a},c.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:bc(+t),c):s},c.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:bc(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:bc(+t),c):u},c}var Gc=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,l,u,c,f=-1,p=a.length,d=t.value;++f<p;){for(l=(s=a[f]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?Mc(s,n,r,i,d?r+=(o-r)*s.value/d:o):Wc(s,n,r,d?n+=(i-n)*s.value/d:i,o),d-=s.value}else t._squarify=a=Nc(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Lc),qc=Object.freeze((n(Wt={__proto__:null},Symbol.toStringTag,"Module"),n(Wt,"cluster",(function(){var t=Xu,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Yu,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Uu,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=s.x-t(s,l)/2,c=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i})),n(Wt,"hierarchy",Ju),n(Wt,"pack",wc),n(Wt,"packSiblings",(function(t){return vc(t),t})),n(Wt,"packEnclose",ic),n(Wt,"partition",Dc),n(Wt,"stratify",(function(){var t=zc,e=Cc;function n(n){var r,i,o,a,s,l,u,c=Array.from(n),f=c.length,p=new Map;for(i=0;i<f;++i)r=c[i],s=c[i]=new rc(r),null!=(l=t(r,i,n))&&(l+="")&&(u=s.id=l,p.set(u,p.has(u)?Ec:s)),null!=(l=e(r,i,n))&&(l+="")&&(s.parent=l);for(i=0;i<f;++i)if(l=(s=c[i]).parent){if(!(a=p.get(l)))throw new Error("missing: "+l);if(a===Ec)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Oc,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(nc),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=xc(e),n):t},n.parentId=function(t){return arguments.length?(e=xc(t),n):e},n})),n(Wt,"tree",(function(){var t=Pc,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new Bc(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Bc(r[i],i)),n.parent=e;return(a.parent=new Bc(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var u=i,c=i,f=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var p=u===c?1:t(u,c)/2,d=p-u.x,h=e/(c.x+p+d),g=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*h,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],u=o.m,c=a.m,f=s.m,p=l.m;s=Rc(s),o=Ic(o),s&&o;)l=Ic(l),(a=Rc(a)).a=e,(i=s.z+f-o.z-u+t(s._,o._))>0&&(Tc($c(s,e,r),e,i),u+=i,c+=i),f+=s.m,u+=o.m,p+=l.m,c+=a.m;s&&!Rc(a)&&(a.t=s,a.m+=f-c),o&&!Ic(l)&&(l.t=o,l.m+=u-p,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i})),n(Wt,"treemap",Vc),n(Wt,"treemapBinary",(function(t,e,n,r,i){var o,a,s=t.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var c=s[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=l)}var f=u[e],p=r/2+f,d=e+1,h=n-1;for(;d<h;){var g=d+h>>>1;u[g]<p?d=g+1:h=g}p-u[d-1]<u[d]-p&&e+1<d&&--d;var v=u[d]-f,y=r-v;if(a-i>l-o){var x=r?(i*y+a*v)/r:a;t(e,d,v,i,o,x,l),t(d,n,y,x,o,a,l)}else{var m=r?(o*y+l*v)/r:l;t(e,d,v,i,o,a,m),t(d,n,y,i,m,a,l)}}(0,l,t.value,e,n,r,i)})),n(Wt,"treemapDice",Mc),n(Wt,"treemapSlice",Wc),n(Wt,"treemapSliceDice",(function(t,e,n,r,i){(1&t.depth?Wc:Mc)(t,e,n,r,i)})),n(Wt,"treemapSquarify",jc),n(Wt,"treemapResquarify",Gc),Wt)),Hc={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function Xc(t,e){var n,r=(e=G({},Hc,e)).as;if(!_(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=Tu(e)}catch(l){console.warn(l)}var o=function(t){return Dc().size(e.size).round(e.round).padding(e.padding)(Ju(t).sum((function(t){return U(t.children)?e.ignoreParentValue?0:t[n]-i(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))}(t),a=r[0],s=r[1];return o.each((function(t){var e,n;t[a]=[t.x0,t.x1,t.x1,t.x0],t[s]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),$u(o)}var Yc,Uc={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function Zc(t,e){var n,r=(e=G({},Uc,e)).as;if(!_(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=Tu(e)}catch(c){console.warn(c)}var i,o,a=(i=e.tile,o=e.ratio,"treemapSquarify"===i?qc[i].ratio(o):qc[i]),s=function(t){return Vc().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(Ju(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),l=r[0],u=r[1];return s.each((function(t){t[l]=[t.x0,t.x1,t.x1,t.x0],t[u]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),$u(s)}function Kc(t){var e=t.data,n=t.colorField,r=t.rawFields,i=t.hierarchyConfig,o=void 0===i?{}:i,a=o.activeDepth,s={partition:Xc,treemap:Zc},l=t.seriesField,u=t.type||"partition",c=s[u](e,xt.exports.__assign(xt.exports.__assign({field:l||"value"},T(o,["activeDepth"])),{type:"hierarchy."+u,as:["x","y"]})),f=[];return c.forEach((function(t){var e,i,s,u,c,p;if(0===t.depth)return null;if(a>0&&t.depth>a)return null;for(var d=t.data.name,h=xt.exports.__assign({},t);h.depth>1;)d=(null===(i=h.parent.data)||void 0===i?void 0:i.name)+" / "+d,h=h.parent;var g=xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},Vt(t.data,xt.exports.__spreadArrays(r||[],[o.field]))),((e={}).path=d,e["ancestor-node"]=h.data.name,e)),t);l&&(g[l]=t.data[l]||(null===(u=null===(s=t.parent)||void 0===s?void 0:s.data)||void 0===u?void 0:u[l])),n&&(g[n]=t.data[n]||(null===(p=null===(c=t.parent)||void 0===c?void 0:c.data)||void 0===p?void 0:p[n])),g.ext=o,g[qu]={hierarchyConfig:o,colorField:n,rawFields:r},f.push(g)})),f}function Jc(t){var e,n=t.chart,r=t.options,i=r.color,o=r.colorField,a=void 0===o?Bu:o,s=r.sunburstStyle,l=r.rawFields,u=void 0===l?[]:l,c=Kc(r);return n.data(c),s&&(e=function(t){return le({},{fillOpacity:Math.pow(.85,t.depth)},h(s)?s(t):s)}),zn(le({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:D(xt.exports.__spreadArrays(Nu,u)),polygon:{color:i,style:e}}})),t}function Qc(t){return t.chart.axis(!1),t}function tf(t){var e=t.chart,n=t.options.label,r=Ut(e,"polygon");if(n){var i=n.fields,o=void 0===i?["name"]:i,a=n.callback,s=xt.exports.__rest(n,["fields","callback"]);r.label({fields:o,callback:a,cfg:ee(s)})}else r.label(!1);return t}function ef(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius,o=n.reflect,a=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:i}});return o&&a.reflect(o),t}function nf(t){var e,n=t.options,r=n.hierarchyConfig,i=n.meta;return jt(bn({},((e={}).value=a(i,a(r,["field"],"value")),e)))(t)}function rf(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;a(n,"fields")||(r=le({},{customItems:function(t){return t.map((function(t){var n=a(e.getOptions(),"scales"),r=a(n,[Lu,"formatter"],(function(t){return t})),i=a(n,[Wu,"formatter"],(function(t){return t}));return xt.exports.__assign(xt.exports.__assign({},t),{name:r(t.data.path),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function of(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null==e?void 0:e.enabled)?le({},t,{interactions:xt.exports.__spreadArrays(r,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:Kc}}])}):t}function af(t){var e=t.chart,n=t.options,r=n.drilldown;return hn({chart:e,options:of(n)}),(null==r?void 0:r.enabled)&&(e.appendPadding=_e(e.appendPadding,a(r,["breadCrumb","position"]))),t}function sf(t){return jt(vn,fn("sunburstStyle"),Jc,Qc,nf,pn,ef,rf,tf,af,gn,_n())(t)}function lf(t){var e=a(t,["event","data","data"],{});return _(e.children)&&e.children.length>0}function uf(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,i=r.x,o=r.y,a=e.center,s=a.x,l=a.y,u=e.getRadius()*n;return Math.sqrt(Math.pow(s-i,2)+Math.pow(l-o,2))<u}return!1}P("drill-down-action",Hu),I("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:lf},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:uf}],start:[{trigger:"element:click",isEnable:lf,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:uf,action:["drill-down-action:back"]}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return ju},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sf},e.SUNBURST_ANCESTOR_FIELD=Bu,e.SUNBURST_PATH_FIELD=Lu,e.NODE_ANCESTORS_FIELD=Iu}(Ue);var cf="range",ff="type",pf="percent",df="indicator-view",hf="range-view",gf={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(Yc={},Yc.range={sync:"v"},Yc.percent={sync:"v",tickCount:5,tickInterval:.2},Yc),animation:!1};function vf(t){var e;return[(e={},e.percent=rt(t,0,1),e)]}function yf(t,e){var n=a(e,["ticks"],[]);return function(t,e){return t.map((function(n,r){var i;return(i={}).range=n-(t[r-1]||0),i.type=""+r,i.percent=e,i})).filter((function(t){return!!t.range}))}(U(n)?n:[0,rt(t,0,1),1],t)}function xf(t){var e=t.chart,n=t.options,r=n.percent,i=n.range,o=n.radius,a=n.innerRadius,s=n.startAngle,l=n.endAngle,u=n.axis,c=n.indicator,f=n.gaugeStyle,p=n.type,d=n.meter,h=i.color,v=i.width;if(c){var y=vf(r),x=e.createView({id:df});x.data(y),x.point().position("percent*1").shape(c.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),x.coordinate("polar",{startAngle:s,endAngle:l,radius:a*o}),x.axis(pf,u),x.scale(pf,Vt(u,Ze))}var m=yf(r,n.range),b=e.createView({id:hf});b.data(m);var _=g(h)?[h,"#f0f0f0"]:h;return En({chart:b,options:{xField:"1",yField:cf,seriesField:ff,rawFields:[pf],isStack:!0,interval:{color:_,style:f,shape:"meter"===p?"meter-gauge":null},args:{zIndexReversed:!0},minColumnWidth:v,maxColumnWidth:v}}).ext.geometry.customInfo({meter:d}),b.coordinate("polar",{innerRadius:a,radius:o,startAngle:s,endAngle:l}).transpose(),t}function mf(t){var e;return jt(bn(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}}).percent={},e)))(t)}function bf(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent;if(n.getController("annotation").clear(!0),i){var s=i.content,l=void 0;s&&(l=le({},{content:(100*o).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},s)),function(t,e,n){var r=e.statistic;[r.title,r.content].forEach((function(e){if(e){var r=h(e.style)?e.style(n):e.style;t.annotation().html(xt.exports.__assign({position:["50%","100%"],html:function(t,i){var o=i.getCoordinate(),s=i.views[0].getCoordinate(),l=s.getCenter(),u=s.getRadius(),c=Math.max(Math.sin(s.startAngle),Math.sin(s.endAngle))*u,f=l.y+c-o.y.start-parseFloat(a(r,"fontSize",0)),p=o.getRadius()*o.innerRadius*2;fe(t,xt.exports.__assign({width:p+"px",transform:"translate(-50%, "+f+"px)"},ce(r)));var d=i.getData();if(e.customHtml)return e.customHtml(t,i,n,d);var h=e.content;return e.formatter&&(h=e.formatter(n,d)),h?g(h)?h:""+h:"<div></div>"}},Vt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))}(n,{statistic:xt.exports.__assign(xt.exports.__assign({},i),{content:l})},{percent:o})}return e&&n.render(!0),t}function _f(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}function wf(t){return jt(vn,gn,xf,mf,bf,hn,_n(),_f)(t)}q("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,i=n.defaultColor,o=r,a=o.pointer,s=o.pin,l=e.addGroup(),u=this.parsePoint({x:0,y:0});return a&&l.addShape("line",{name:"pointer",attrs:xt.exports.__assign({x1:u.x,y1:u.y,x2:t.x,y2:t.y,stroke:i},a.style)}),s&&l.addShape("circle",{name:"pin",attrs:xt.exports.__assign({x:u.x,y:u.y,stroke:i},s.style)}),l}}),q("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,r=void 0===n?{}:n,i=r.steps,o=void 0===i?50:i,a=r.stepRatio,s=void 0===a?.5:a;o=o<1?1:o,s=rt(s,0,1);var l=this.coordinate,u=l.startAngle,c=l.endAngle,f=0;s>0&&s<1&&(f=(c-u)/o/(s/(1-s)+1-1/o));for(var p=f/(1-s)*s,d=e.addGroup(),h=this.coordinate.getCenter(),g=this.coordinate.getRadius(),v=A.getAngle(t,this.coordinate),y=v.startAngle,x=v.endAngle,m=y;m<x;){var b=void 0,_=(m-u)%(p+f);b=_<p?m+(p-_):(m+=p+f-_)+p;var w=A.getSectorPath(h.x,h.y,g,m,Math.min(b,x),g*this.coordinate.innerRadius);d.addShape("path",{name:"meter-gauge",attrs:{path:w,fill:t.color,stroke:t.color,lineWidth:.5}}),m=b+f}return d}});var Ff=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return xt.exports.__extends(e,t),e.getDefaultOptions=function(){return gf},e.prototype.changeData=function(t){this.chart.emit(j.BEFORE_CHANGE_DATA,V.fromData(this.chart,j.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===df}));e&&e.data(vf(t));var n=this.chart.views.find((function(t){return t.id===hf}));n&&n.data(yf(t,this.options.range)),bf({chart:this.chart,options:this.options},!0),this.chart.emit(j.AFTER_CHANGE_DATA,V.fromData(this.chart,j.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return wf},e}(Ue),Af="$$yField$$",kf="$$diffField$$",Sf="$$absoluteField$$",Mf="$$isTotal$$",Df={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function Of(t,e,n,r){var o=function(t,e,n,r,o){var s,l=[];if(i(t,(function(t,e){var i;Xt(Lt.WARN,y(e[n]),e[n]+" is not a valid number");var o=ht(e[n])?null:e[n];return l.push(xt.exports.__assign(xt.exports.__assign({},e),((i={})[r]=[t,t+o],i))),t+o}),0),l.length&&o){var u=a(l,[[t.length-1],r,[1]]);l.push(((s={})[e]=o.label,s[n]=u,s[r]=[0,u],s))}return l}(t,e,n,Af,r);return o.map((function(e,n){var r;return k(e)?xt.exports.__assign(xt.exports.__assign({},e),((r={})[Sf]=e.$$yField$$[1],r[kf]=e.$$yField$$[1]-e.$$yField$$[0],r[Mf]=n===t.length,r)):e}))}function Ef(t){var e=t.options,n=e.locale,r=e.total,i=Se(n).get(["waterfall","total"]);return r&&"string"!=typeof r.label&&i&&(t.options.total.label=i),t}function zf(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,s=n.total,l=n.leaderLine,u=n.columnWidthRatio,c=n.waterfallStyle,f=n.risingFill,p=n.fallingFill,d=n.color;return e.data(Of(r,i,o,s)),En(le({},t,{options:{xField:i,yField:Af,seriesField:i,rawFields:[o,kf,Mf,Af],widthRatio:u,interval:{style:c,shape:"waterfall",color:d||function(t){return a(t,[Mf])?a(s,["style","fill"],""):a(t,[Af,1])-a(t,[Af,0])>0?f:p}}}})).ext.geometry.customInfo({leaderLine:l}),t}function Cf(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,s=r.xField,l=r.yField,u=r.meta,c=le({},{alias:l},a(u,l));return jt(bn(((e={})[s]=i,e[l]=o,e.$$yField$$=o,e),le({},u,((n={}).$$yField$$=c,n[kf]=c,n[Sf]=c,n))))(t)}function Pf(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?(e.axis(a,!1),e.axis(Af,!1)):(e.axis(a,i),e.axis(Af,i)),t}function If(t){var e=t.chart,n=t.options,r=n.legend,i=n.total,o=n.risingFill,s=n.fallingFill,l=Se(n.locale);if(!1===r)e.legend(!1);else{var u=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:o}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:s}}}];i&&u.push({name:i.label||"",value:"total",marker:{symbol:"square",style:le({},{r:5},a(i,"style"))}}),e.legend(le({},{custom:!0,position:"top",items:u},r)),e.removeInteraction("legend-filter")}return t}function Rf(t){var e=t.chart,n=t.options,r=n.label,i=n.labelMode,o=n.xField,a=Ut(e,"interval");if(r){var s=r.callback,l=xt.exports.__rest(r,["callback"]);a.label({fields:"absolute"===i?[Sf,o]:[kf,o],callback:s,cfg:ee(l)})}else a.label(!1);return t}function Tf(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.xField,o=n.yField;if(!1!==r){e.tooltip(xt.exports.__assign({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[o]},r));var a=e.geometries[0];(null==r?void 0:r.formatter)?a.tooltip(i+"*"+o,r.formatter):a.tooltip(o)}else e.tooltip(!1);return t}function $f(t){return jt(Ef,vn,zf,Cf,Pf,If,Tf,Rf,yn,hn,gn,_n())(t)}function Bf(t,e,n){var r=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),i=r.length>0?Math.max.apply(Math,r):0,o=Math.abs(t)%360;return o?360*i/o:i}function Wf(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.color,o=n.tooltip,a=n.colorField,s=n.type,l=n.xField,u=n.yField,c=me(n.data,u);return e.data(c),En(le({},t,{options:{tooltip:o,seriesField:a,interval:{style:r,color:i,shape:"line"===s?"line":"intervel"},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===s&&On({chart:e,options:{xField:l,yField:u,seriesField:a,point:{shape:"circle",color:i}}}),t}function Lf(t){var e,n=t.options,r=n.yField,i=n.xField,o=n.data,a=n.isStack,s=n.isGroup,l=n.colorField,u=n.maxAngle,c=a&&!s&&l?function(t,e,n){var r=[];return t.forEach((function(t){var i=r.find((function(n){return n[e]===t[e]}));i?i[n]+=t[n]||null:r.push(xt.exports.__assign({},t))})),r}(o,i,r):o,f=me(c,r);return jt(bn(((e={})[r]={min:0,max:Bf(u,r,f)},e)))(t)}function Nf(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}).transpose(),t}function jf(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis;return e.axis(r,i),t}function Vf(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=Ut(e,"interval");if(r){var a=r.callback,s=xt.exports.__rest(r,["callback"]);o.label({fields:[i],callback:a,cfg:xt.exports.__assign(xt.exports.__assign({},ee(s)),{type:"polar"})})}else o.label(!1);return t}function Gf(t){return jt(fn("barStyle"),Wf,Lf,jf,Nf,hn,gn,vn,dn,pn,_n(),Vf)(t)}q("interval","waterfall",{draw:function(t,e){var n=t.customInfo,r=t.points,i=t.nextPoints,o=e.addGroup(),s=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(r)),l=function(t){return le({},t.defaultStyle,t.style,{fill:t.color})}(t);o.addShape("path",{attrs:xt.exports.__assign(xt.exports.__assign({},l),{path:s})});var u=a(n,"leaderLine");if(u&&i){var c=[["M",r[2].x,r[2].y],["L",i[0].x,i[0].y]];r[2].y===i[1].y&&(c[1]=["L",i[1].x,i[1].y]),c=this.parsePath(c),o.addShape("path",{attrs:xt.exports.__assign({path:c},u.style||{})})}return o}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Df},e.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,i=e.total;this.updateOption({data:t}),this.chart.changeData(Of(t,n,r,i))},e.prototype.getSchemaAdaptor=function(){return $f},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ue);var qf=le({},Ue.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return qf},e.prototype.changeData=function(t){this.updateOption({data:t}),Lf({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Gf}}(Ue);var Hf="first-axes-view",Xf="second-axes-view",Yf="series-field-key";function Uf(t,e,n,r,i){var o=[];e.forEach((function(e){r.forEach((function(r){var i,a=((i={})[t]=r[t],i[n]=e,i[e]=r[e],i);o.push(a)}))}));var a=Object.values(et(o,n)),s=a[0],l=void 0===s?[]:s,u=a[1],c=void 0===u?[]:u;return i?[l.reverse(),c.reverse()]:[l,c]}function Zf(t){return"vertical"!==t}function Kf(t,e,n){var r=e[0],i=e[1],o=r.autoPadding,a=i.autoPadding,s=t.__axisPosition,l=s.layout,u=s.position;if(Zf(l)&&"top"===u&&(r.autoPadding=n.instance(o.top,0,o.bottom,o.left),i.autoPadding=n.instance(a.top,o.left,a.bottom,0)),Zf(l)&&"bottom"===u&&(r.autoPadding=n.instance(o.top,o.right/2+5,o.bottom,o.left),i.autoPadding=n.instance(a.top,a.right,a.bottom,o.right/2+5)),!Zf(l)&&"bottom"===u){var c=o.left>=a.left?o.left:a.left;r.autoPadding=n.instance(o.top,o.right,o.bottom/2+5,c),i.autoPadding=n.instance(o.bottom/2+5,a.right,a.bottom,c)}if(!Zf(l)&&"top"===u){c=o.left>=a.left?o.left:a.left;r.autoPadding=n.instance(o.top,o.right,0,c),i.autoPadding=n.instance(0,a.right,o.top,c)}}function Jf(t){var e,n,r=t.chart,i=t.options,o=i.data,a=i.xField,s=i.yField,l=i.color,u=i.barStyle,c=i.widthRatio,f=i.legend,p=i.layout,d=Uf(a,s,Yf,o,Zf(p));f?r.legend(Yf,f):!1===f&&r.legend(!1);var h=d[0],g=d[1];return Zf(p)?((e=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:Hf})).coordinate().transpose().reflect("x"),(n=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Xf})).coordinate().transpose(),e.data(h),n.data(g)):(e=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:Hf}),(n=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Xf})).coordinate().reflect("y"),e.data(h),n.data(g)),En(le({},t,{chart:e,options:{widthRatio:c,xField:a,yField:s[0],seriesField:Yf,interval:{color:l,style:u}}})),En(le({},t,{chart:n,options:{xField:a,yField:s[1],seriesField:Yf,widthRatio:c,interval:{color:l,style:u}}})),t}function Qf(t){var e,n,r,i=t.options,o=t.chart,s=i.xAxis,l=i.yAxis,u=i.xField,c=i.yField,f=Jt(o,Hf),p=Jt(o,Xf),d={};return gt((null==i?void 0:i.meta)||{}).map((function(t){a(null==i?void 0:i.meta,[t,"alias"])&&(d[t]=i.meta[t].alias)})),o.scale(((e={})[Yf]={sync:!0,formatter:function(t){return a(d,t,t)}},e)),bn(((n={})[u]=s,n[c[0]]=l[c[0]],n))(le({},t,{chart:f})),bn(((r={})[u]=s,r[c[1]]=l[c[1]],r))(le({},t,{chart:p})),t}function tp(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,s=n.layout,l=Jt(e,Hf),u=Jt(e,Xf);return"bottom"===(null==r?void 0:r.position)?u.axis(o,xt.exports.__assign(xt.exports.__assign({},r),{label:{formatter:function(){return""}}})):u.axis(o,!1),!1===r?l.axis(o,!1):l.axis(o,xt.exports.__assign({position:Zf(s)?"top":"bottom"},r)),!1===i?(l.axis(a[0],!1),u.axis(a[1],!1)):(l.axis(a[0],i[a[0]]),u.axis(a[1],i[a[1]])),e.__axisPosition={position:l.getOptions().axes[o].position,layout:s},t}function ep(t){var e=t.chart;return hn(le({},t,{chart:Jt(e,Hf)})),hn(le({},t,{chart:Jt(e,Xf)})),t}function np(t){var e=t.chart,n=t.options,r=n.yField,i=n.yAxis;return wn(le({},t,{chart:Jt(e,Hf),options:{yAxis:i[r[0]]}})),wn(le({},t,{chart:Jt(e,Xf),options:{yAxis:i[r[1]]}})),t}function rp(t){var e=t.chart;return vn(le({},t,{chart:Jt(e,Hf)})),vn(le({},t,{chart:Jt(e,Xf)})),t}function ip(t){var e=t.chart;return gn(le({},t,{chart:Jt(e,Hf)})),gn(le({},t,{chart:Jt(e,Xf)})),t}function op(t){var e,n,r=this,i=t.chart,o=t.options,a=o.label,s=o.yField,l=o.layout,u=Jt(i,Hf),c=Jt(i,Xf),f=Ut(u,"interval"),p=Ut(c,"interval");if(a){var d=a.callback,h=xt.exports.__rest(a,["callback"]);h.position||(h.position="middle"),void 0===h.offset&&(h.offset=2);var g=xt.exports.__assign({},h);if(Zf(l)){var v=(null===(e=g.style)||void 0===e?void 0:e.textAlign)||("middle"===h.position?"center":"left");h.style=le({},h.style,{textAlign:v});g.style=le({},g.style,{textAlign:{left:"right",right:"left",center:"center"}[v]})}else{var y={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof h.position?h.position=y[h.position]:"function"==typeof h.position&&(h.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y[h.position.apply(r,t)]});var x=(null===(n=g.style)||void 0===n?void 0:n.textBaseline)||"bottom";g.style=le({},g.style,{textBaseline:x});h.style=le({},h.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[x]})}f.label({fields:[s[0]],callback:d,cfg:ee(g)}),p.label({fields:[s[1]],callback:d,cfg:ee(h)})}else f.label(!1),p.label(!1);return t}function ap(t){return jt(Jf,Qf,tp,np,rp,op,dn,ep,ip)(t)}function sp(t,e){if(_(t))return t.find((function(t){return t.type===e}))}function lp(t,e){var n=sp(t,e);return n&&!1!==n.enable}function up(t){var e=t.interactions,n=t.drilldown;return a(n,"enabled")||lp(e,"treemap-drill-down")}function cp(t){var e=t.data,n=t.colorField,r=t.enableDrillDown,i=t.hierarchyConfig,o=Zc(e,xt.exports.__assign(xt.exports.__assign({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),a=[];return o.forEach((function(t){if(0===t.depth)return null;if(r&&1!==t.depth)return null;if(!r&&t.children)return null;var o=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),s=r&&_(e.path)?o.concat(e.path.slice(1)):o,l=Object.assign({},t.data,xt.exports.__assign({x:t.x,y:t.y,depth:t.depth,value:t.value,path:s},t));if(!t.data[n]&&t.parent){var u=t.ancestors().find((function(t){return t.data[n]}));l[n]=null==u?void 0:u.data[n]}else l[n]=t.data[n];l[qu]={hierarchyConfig:i,colorField:n,enableDrillDown:r},a.push(l)})),a}function fp(t){var e=t.options.colorField;return le({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function pp(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,o=n.rectStyle,a=n.hierarchyConfig,s=n.rawFields,l=cp({data:n.data,colorField:n.colorField,enableDrillDown:up(n),hierarchyConfig:a});return e.data(l),zn(le({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:r,style:o}}})),e.coordinate().reflect("y"),t}function dp(t){return t.chart.axis(!1),t}function hp(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return up(t)?le({},t,{interactions:xt.exports.__spreadArrays(r,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:cp}}])}):t}function gp(t){var e=t.chart,n=t.options,r=n.interactions,i=n.drilldown;hn({chart:e,options:hp(n)});var o=sp(r,"view-zoom");return o&&(!1!==o.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),up(n)&&(e.appendPadding=_e(e.appendPadding,a(i,["breadCrumb","position"]))),t}function vp(t){return jt(fp,vn,fn("rectStyle"),pp,dp,pn,dn,gp,gn,_n())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return le({},t.getDefaultOptions.call(this),{syncViewPadding:Kf})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(j.BEFORE_CHANGE_DATA,V.fromData(this.chart,j.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,r=e.yField,i=e.layout,o=Uf(n,r,Yf,t,Zf(i)),a=o[0],s=o[1],l=Jt(this.chart,Hf),u=Jt(this.chart,Xf);l.data(a),u.data(s),this.chart.render(!0),this.chart.emit(j.AFTER_CHANGE_DATA,V.fromData(this.chart,j.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ap},e.SERIES_FIELD_KEY=Yf}(Ue);var yp={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};function xp(t){return t.target.depth}function mp(t,e){return t.sourceLinks.length?t.depth:e-1}function bp(t){return function(){return t}}function _p(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}function wp(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n}function Fp(t,e){return kp(t.source,e.source)||t.index-e.index}function Ap(t,e){return kp(t.target,e.target)||t.index-e.index}function kp(t,e){return t.y0-e.y0}function Sp(t){return t.value}function Mp(t){return t.index}function Dp(t){return t.nodes}function Op(t){return t.links}function Ep(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function zp(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var r=n[e],i=r.y0,o=i,a=0,s=r.sourceLinks;a<s.length;a++){(c=s[a]).y0=i+c.width/2,i+=c.width}for(var l=0,u=r.targetLinks;l<u.length;l++){var c;(c=u[l]).y1=o+c.width/2,o+=c.width}}}function Cp(){var t,e,n,r,i=0,a=0,s=1,l=1,u=24,c=8,f=Mp,p=mp,d=Dp,h=Op,g=6;function v(v){var m={nodes:d(v),links:h(v)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var i=new Map(e.map((function(t){return[f(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,r=t.target;"object"!==o(n)&&(n=t.source=Ep(i,n)),"object"!==o(r)&&(r=t.target=Ep(i,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})),null!=r)for(var a=0,s=e;a<s.length;a++){var l=s[a],u=l.sourceLinks,c=l.targetLinks;u.sort(r),c.sort(r)}}(m),function(t){for(var e=t.nodes,n=0,r=e;n<r.length;n++){var i=r[n];i.value=void 0===i.fixedValue?Math.max(_p(i.sourceLinks,Sp),_p(i.targetLinks,Sp)):i.fixedValue}}(m),function(t){var n=t.nodes,r=n.length,i=new Set(n),o=new Set,a=0;for(;i.size;){if(i.forEach((function(t){t.depth=a;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;o.add(r)}})),++a>r)throw new Error("circular link");i=o,o=new Set}if(e)for(var s=Math.max(wp(n,(function(t){return t.depth}))+1,0),l=void 0,u=0;u<n.length;u++)(l=n[u]).depth=e.call(null,l,s)}(m),function(t){var e=t.nodes,n=e.length,r=new Set(e),i=new Set,o=0;for(;r.size;){if(r.forEach((function(t){t.height=o;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;i.add(r)}})),++o>n)throw new Error("circular link");r=i,i=new Set}}(m),function(e){var r=function(t){for(var e=t.nodes,r=Math.max(wp(e,(function(t){return t.depth}))+1,0),o=(s-i-u)/(r-1),a=new Array(r).fill(0).map((function(){return[]})),l=0,c=e;l<c.length;l++){var f=c[l],d=Math.max(0,Math.min(r-1,Math.floor(p.call(null,f,r))));f.layer=d,f.x0=i+d*o,f.x1=f.x0+u,a[d]?a[d].push(f):a[d]=[f]}if(n)for(var h=0,g=a;h<g.length;h++){g[h].sort(n)}return a}(e);t=Math.min(c,(l-a)/(wp(r,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,r=0;r<t.length;r++)n=Math.min(e(t[r]),n);return n}(e,(function(e){return(l-a-(e.length-1)*t)/_p(e,Sp)})),r=0,i=e;r<i.length;r++){for(var o=i[r],s=a,u=0,c=o;u<c.length;u++){(g=c[u]).y0=s,g.y1=s+g.value*n,s=g.y1+t;for(var f=0,p=g.sourceLinks;f<p.length;f++){var d=p[f];d.width=d.value*n}}s=(l-s+t)/(o.length+1);for(var h=0;h<o.length;++h){var g;(g=o[h]).y0+=s*(h+1),g.y1+=s*(h+1)}F(o)}}(r);for(var o=0;o<g;++o){var f=Math.pow(.99,o),d=Math.max(1-f,(o+1)/g);x(r,f,d),y(r,f,d)}}(m),zp(m),m}function y(t,e,r){for(var i=1,o=t.length;i<o;++i){for(var a=t[i],s=0,l=a;s<l.length;s++){for(var u=l[s],c=0,f=0,p=0,d=u.targetLinks;p<d.length;p++){var h=d[p],g=h.source,v=h.value*(u.layer-g.layer);c+=A(g,u)*v,f+=v}if(f>0){var y=(c/f-u.y0)*e;u.y0+=y,u.y1+=y,w(u)}}void 0===n&&a.sort(kp),a.length&&m(a,r)}}function x(t,e,r){for(var i=t.length-2;i>=0;--i){for(var o=t[i],a=0,s=o;a<s.length;a++){for(var l=s[a],u=0,c=0,f=0,p=l.sourceLinks;f<p.length;f++){var d=p[f],h=d.target,g=d.value*(h.layer-l.layer);u+=k(l,h)*g,c+=g}if(c>0){var v=(u/c-l.y0)*e;l.y0+=v,l.y1+=v,w(l)}}void 0===n&&o.sort(kp),o.length&&m(o,r)}}function m(e,n){var r=e.length>>1,i=e[r];_(e,i.y0-t,r-1,n),b(e,i.y1+t,r+1,n),_(e,l,e.length-1,n),b(e,a,0,n)}function b(e,n,r,i){for(;r<e.length;++r){var o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function _(e,n,r,i){for(;r>=0;--r){var o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function w(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===r){for(var i=0,o=n;i<o.length;i++){o[i].source.sourceLinks.sort(Ap)}for(var a=0,s=e;a<s.length;a++){s[a].target.targetLinks.sort(Fp)}}}function F(t){if(void 0===r)for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i.sourceLinks,a=i.targetLinks;o.sort(Ap),a.sort(Fp)}}function A(e,n){for(var r=e.y0-(e.sourceLinks.length-1)*t/2,i=0,o=e.sourceLinks;i<o.length;i++){var a=o[i],s=a.target,l=a.width;if(s===n)break;r+=l+t}for(var u=0,c=n.targetLinks;u<c.length;u++){var f=c[u];s=f.source,l=f.width;if(s===e)break;r-=l}return r}function k(e,n){for(var r=n.y0-(n.targetLinks.length-1)*t/2,i=0,o=n.targetLinks;i<o.length;i++){var a=o[i],s=a.source,l=a.width;if(s===e)break;r+=l+t}for(var u=0,c=e.sourceLinks;u<c.length;u++){var f=c[u];s=f.target,l=f.width;if(s===n)break;r-=l}return r}return v.update=function(t){return zp(t),t},v.nodeId=function(t){return arguments.length?(f="function"==typeof t?t:bp(t),v):f},v.nodeAlign=function(t){return arguments.length?(p="function"==typeof t?t:bp(t),v):p},v.nodeDepth=function(t){return arguments.length?(e=t,v):e},v.nodeSort=function(t){return arguments.length?(n=t,v):n},v.nodeWidth=function(t){return arguments.length?(u=+t,v):u},v.nodePadding=function(e){return arguments.length?(c=t=+e,v):c},v.nodes=function(t){return arguments.length?(d="function"==typeof t?t:bp(t),v):d},v.links=function(t){return arguments.length?(h="function"==typeof t?t:bp(t),v):h},v.linkSort=function(t){return arguments.length?(r=t,v):r},v.size=function(t){return arguments.length?(i=a=0,s=+t[0],l=+t[1],v):[s-i,l-a]},v.extent=function(t){return arguments.length?(i=+t[0][0],s=+t[1][0],a=+t[0][1],l=+t[1][1],v):[[i,a],[s,l]]},v.iterations=function(t){return arguments.length?(g=+t,v):g},v}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return yp},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,i=e.hierarchyConfig;this.updateOption({data:t});var o,a,s=cp({data:t,colorField:n,enableDrillDown:lp(r,"treemap-drill-down"),hierarchyConfig:i});this.chart.changeData(s),o=this.chart,(a=o.interactions["drill-down"])&&a.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vp}}(Ue);var Pp={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?vt(t.sourceLinks,xp)-1:0},justify:mp},Ip={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Rp(t,e){var n=function(t){return G({},Ip,t)}(t),r=n.nodeId,i=n.nodeSort,o=n.nodeAlign,a=n.nodeWidth,s=n.nodePadding,l=n.nodeDepth,u=Cp().nodeSort(i).nodeWidth(a).nodePadding(s).nodeDepth(l).nodeAlign(function(t){return(g(t)?Pp[t]:h(t)?t:null)||mp}(o)).extent([[0,0],[1,1]]).nodeId(r),c=u(e);return c.nodes.forEach((function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]})),c.links.forEach((function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})),c}function Tp(t,e,n){if(!_(t))return[];var r=[],i=function(t,e,n){var r=[];return t.forEach((function(t){var i=t[e],o=t[n];r.includes(i)||r.push(i),r.includes(o)||r.push(o)})),r}(t,e,n),o=function(t,e,n,r){var i={};return e.forEach((function(t){i[t]={},e.forEach((function(e){i[t][e]=0}))})),t.forEach((function(t){i[t[n]][t[r]]=1})),i}(t,i,e,n),a={};function s(t){a[t]=1,i.forEach((function(e){if(0!=o[t][e])if(1==a[e])r.push(t+"_"+e);else{if(-1==a[e])return;s(e)}})),a[t]=-1}return i.forEach((function(t){a[t]=0})),i.forEach((function(t){-1!=a[t]&&s(t)})),0!==r.length&&console.warn("sankey data contains circle, "+r.length+" records removed.",r),t.filter((function(t){return r.findIndex((function(r){return r===t[e]+"_"+t[n]}))<0}))}function $p(t,e,n){return ve(t)?t/n:e}function Bp(t,e,n){return ve(t)?t/n:e}function Wp(t,e,n){var r,i=t.dataType,o=t.data,a=t.sourceField,s=t.targetField,l=t.weightField,u=t.nodeAlign,c=t.nodeSort,f=t.nodePadding,p=t.nodePaddingRatio,d=t.nodeWidth,h=t.nodeWidthRatio,g=t.nodeDepth,v=t.rawFields,y=void 0===v?[]:v;r=function(t){return"node-link"===t}(i)?o:xe(Tp(o,a,s),a,s,l,y);var x=Rp({nodeAlign:u,nodePadding:Bp(f,p,n),nodeWidth:$p(d,h,e),nodeSort:c,nodeDepth:g},r),m=x.nodes,b=x.links;return{nodes:m.map((function(t){return xt.exports.__assign(xt.exports.__assign({},Vt(t,xt.exports.__spreadArrays(["x","y","name"],y))),{isNode:!0})})),edges:b.map((function(t){return xt.exports.__assign(xt.exports.__assign({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Vt(t,xt.exports.__spreadArrays(["x","y","value"],y))),{isNode:!1})}))}}var Lp="name",Np="nodes",jp="edges";function Vp(t){var e=t.options.rawFields,n=void 0===e?[]:e;return le({},{options:{tooltip:{fields:D(xt.exports.__spreadArrays(["name","source","target","value","isNode"],n))},label:{fields:D(xt.exports.__spreadArrays(["x","name"],n))}}},t)}function Gp(t){var e=t.chart,n=t.options,r=n.color,i=n.nodeStyle,o=n.edgeStyle,a=n.label,s=n.tooltip,l=n.nodeState,u=n.edgeState;e.legend(!1),e.tooltip(s),e.axis(!1),e.coordinate().reflect("y");var c=Wp(n,e.width,e.height),f=c.nodes,p=c.edges,d=e.createView({id:jp});d.data(p),Cn({chart:d,options:{xField:"x",yField:"y",seriesField:Lp,edge:{color:r,style:o,shape:"arc"},tooltip:s,state:u}});var h=e.createView({id:Np});return h.data(f),zn({chart:h,options:{xField:"x",yField:"y",seriesField:Lp,polygon:{color:r,style:i},label:a,tooltip:s,state:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function qp(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),xt.exports.__spreadArrays(e.views[0].geometries,e.views[1].geometries).forEach((function(t){t.animate(n)})),t}function Hp(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function Xp(t){return jt(Vp,Gp,hn,Hp,qp,vn)(t)}var Yp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return xt.exports.__extends(e,t),e.prototype.isNodeElement=function(){var t=a(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Jt(this.context.view,Np)},e.prototype.getEdgeView=function(){return Jt(this.context.view,jp)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:a(this.context,"event.x"),y:a(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:a(this.context,"event.x"),y:a(this.context,"event.y")},n=e.x-this.prevPoint.x,r=e.y-this.prevPoint.y,i=this.getNodeView(),o=i.geometries[0].elements[this.currentElementIdx];if(o&&o.getModel()){var s=o.getModel().data,l=i.getOptions().data,u=i.getCoordinate(),c={x:n/u.getWidth(),y:r/u.getHeight()},f=xt.exports.__assign(xt.exports.__assign({},s),{x:s.x.map((function(t){return t+c.x})),y:s.y.map((function(t){return t+c.y}))}),p=xt.exports.__spreadArrays(l);p[this.currentElementIdx]=f,i.data(p);var d=s.name,h=this.getEdgeView(),g=h.getOptions().data;g.forEach((function(t){t.source===d&&(t.x[0]+=c.x,t.x[1]+=c.x,t.y[0]+=c.y,t.y[1]+=c.y),t.target===d&&(t.x[2]+=c.x,t.x[3]+=c.x,t.y[2]+=c.y,t.y[3]+=c.y)})),h.data(g),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(C);P("sankey-node-drag",Yp),I("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!a(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Wp(this.options,this.chart.width,this.chart.height),n=e.nodes,r=e.edges,i=Jt(this.chart,Np),o=Jt(this.chart,jp);i.changeData(n),o.changeData(r)},e.prototype.getSchemaAdaptor=function(){return Xp},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ue);var Up={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function Zp(t,e){var n=function(t){return G({},Up,t)}(t),r={},i=e.nodes,o=e.links;i.forEach((function(t){var e=n.id(t);r[e]=t})),function(t,e,n){v(t,(function(t,r){t.inEdges=e.filter((function(t){return""+n.target(t)==""+r})),t.outEdges=e.filter((function(t){return""+n.source(t)==""+r})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(r,o,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return(""+e.id(t)).localeCompare(""+e.id(n))}}[e.sortBy];!n&&h(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(i,n);var a=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.nodePaddingRatio;if(r<0||r>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=r/(2*n),o=e.nodeWidthRatio;if(o<=0||o>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var a=0;t.forEach((function(t){a+=t.value})),t.forEach((function(t){t.weight=t.value/a,t.width=t.weight*(1-r),t.height=o})),t.forEach((function(n,r){for(var a=0,s=r-1;s>=0;s--)a+=t[s].width+2*i;var l=n.minX=i+a,u=n.maxX=n.minX+n.width,c=n.minY=e.y-o/2,f=n.maxY=c+o;n.x=[l,u,u,l],n.y=[c,c,f,f]}))}else{var s=1/n;t.forEach((function(t,n){t.x=(n+.5)*s,t.y=e.y}))}return t}(i,n),s=function(t,e,n){if(n.weight){var r={};v(t,(function(t,e){r[e]=t.value})),e.forEach((function(e){var i=n.source(e),o=n.target(e),a=t[i],s=t[o];if(a&&s){var l=r[i],u=n.sourceWeight(e),c=a.minX+(a.value-l)/a.value*a.width,f=c+u/a.value*a.width;r[i]-=u;var p=r[o],d=n.targetWeight(e),h=s.minX+(s.value-p)/s.value*s.width,g=h+d/s.value*s.width;r[o]-=d;var v=n.y;e.x=[c,f,h,g],e.y=[v,v,v,v],e.source=a,e.target=s}}))}else e.forEach((function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y],e.source=r,e.target=i)}));return e}(r,o,n);return{nodes:a,links:s}}var Kp="name",Jp="source",Qp={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!a(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function td(t){var e=t.options,n=e.data,r=e.sourceField,i=e.targetField,o=e.weightField,a=e.nodePaddingRatio,s=e.nodeWidthRatio,l=e.rawFields,u=void 0===l?[]:l,c=Zp({weight:!0,nodePaddingRatio:a,nodeWidthRatio:s},xe(n,r,i,o)),f=c.nodes,p=c.links,d=f.map((function(t){return xt.exports.__assign(xt.exports.__assign({},Vt(t,xt.exports.__spreadArrays(["id","x","y","name"],u))),{isNode:!0})})),h=p.map((function(t){return xt.exports.__assign(xt.exports.__assign({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Vt(t,xt.exports.__spreadArrays(["x","y","value"],u))),{isNode:!1})}));return xt.exports.__assign(xt.exports.__assign({},t),{ext:xt.exports.__assign(xt.exports.__assign({},t.ext),{chordData:{nodesData:d,edgesData:h}})})}function ed(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}}).name={sync:"color"},e.source={sync:"color"},e)),t}function nd(t){return t.chart.axis(!1),t}function rd(t){return t.chart.legend(!1),t}function id(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function od(t){return t.chart.coordinate("polar").reflect("y"),t}function ad(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,i=n.nodeStyle,o=n.label,a=n.tooltip,s=e.createView();return s.data(r),zn({chart:s,options:{xField:"x",yField:"y",seriesField:Kp,polygon:{style:i},label:o,tooltip:a}}),t}function sd(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,i=n.edgeStyle,o=n.tooltip,a=e.createView();return a.data(r),Cn({chart:a,options:{xField:"x",yField:"y",seriesField:Jp,edge:{style:i,shape:"arc"},tooltip:o}}),t}function ld(t){var e,n=t.chart,r=t.options.animation;return"boolean"==typeof r?n.animate(r):n.animate(!0),v(a(e=n,["views","length"],0)<=0?e.geometries:i(e.views,(function(t,e){return t.concat(e.geometries)}),e.geometries),(function(t){t.animate(r)})),t}function ud(t){return jt(vn,td,od,ed,nd,rd,id,sd,ad,hn,yn,ld)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return Qp},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ud}}(Ue);var cd={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function fd(t){var e=t.data,n=t.hierarchyConfig,r=t.rawFields,i=void 0===r?[]:r,o=t.enableDrillDown,a=function(t,e){var n,r=(e=G({},cd,e)).as;if(!_(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=Tu(e)}catch(l){console.warn(l)}var i=function(t){return wc().size(e.size).padding(e.padding)(Ju(t).sum((function(t){return t[n]})).sort(e.sort))}(t),o=r[0],a=r[1],s=r[2];return i.each((function(t){t[o]=t.x,t[a]=t.y,t[s]=t.r})),$u(i)}(e,xt.exports.__assign(xt.exports.__assign({},n),{field:"value",as:["x","y","r"]})),s=[];return a.forEach((function(t){for(var e,r=t.data.name,a=xt.exports.__assign({},t);a.depth>1;)r=(null===(e=a.parent.data)||void 0===e?void 0:e.name)+" / "+r,a=a.parent;if(o&&t.depth>2)return null;var l=le({},t.data,xt.exports.__assign(xt.exports.__assign(xt.exports.__assign({},Vt(t.data,i)),{path:r}),t));l.ext=n,l[qu]={hierarchyConfig:n,rawFields:i,enableDrillDown:o},s.push(l)})),s}function pd(t,e,n){var r=we([t,e]),i=r[0],o=r[1],a=r[2],s=r[3],l=n.width-(s+o),u=n.height-(i+a),c=Math.min(l,u),f=(l-c)/2,p=(u-c)/2;return{finalPadding:[i+p,o+f,a+p,s+f],finalSize:c<0?0:c}}var dd=["x","y","r","name","value","path","depth"],hd={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function gd(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return le({options:{size:function(t){return t.r*n}}},t)}function vd(t){var e=t.options,n=t.chart,r=n.viewBBox,i=e.padding,o=e.appendPadding,s=e.drilldown,l=o;(null==s?void 0:s.enabled)&&(l=we([_e(n.appendPadding,a(s,["breadCrumb","position"])),o]));var u=pd(i,l,r).finalPadding;return n.padding=u,n.appendPadding=0,t}function yd(t){var e=t.chart,n=t.options,r=e.padding,i=e.appendPadding,o=n.color,a=n.colorField,s=n.pointStyle,l=n.hierarchyConfig,u=n.sizeField,c=n.rawFields,f=void 0===c?[]:c,p=n.drilldown,d=fd({data:n.data,hierarchyConfig:l,enableDrillDown:null==p?void 0:p.enabled,rawFields:f});e.data(d);var h=pd(r,i,e.viewBBox).finalSize,g=function(t){return t.r*h};return u&&(g=function(t){return t[u]*h}),On(le({},t,{options:{xField:"x",yField:"y",seriesField:a,sizeField:u,rawFields:xt.exports.__spreadArrays(dd,f),point:{color:o,style:s,shape:"circle",size:g}}})),t}function xd(t){return jt(bn({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function md(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;a(n,"fields")||(r=le({},{customItems:function(t){return t.map((function(t){var n=a(e.getOptions(),"scales"),r=a(n,["name","formatter"],(function(t){return t})),i=a(n,["value","formatter"],(function(t){return t}));return xt.exports.__assign(xt.exports.__assign({},t),{name:r(t.data.name),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function bd(t){return t.chart.axis(!1),t}function _d(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null==e?void 0:e.enabled)?le({},t,{interactions:xt.exports.__spreadArrays(r,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:fd,enableDrillDown:!0}}])}):t}function wd(t){return hn({chart:t.chart,options:_d(t.options)}),t}function Fd(t){return jt(fn("pointStyle"),gd,vd,vn,xd,yd,bd,pn,md,wd,gn,_n())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return hd},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Fd},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Ue),function(t){function e(e,n,r,i){var o=t.call(this,e,le({},i,n))||this;return o.type="g2-plot",o.defaultOptions=i,o.adaptor=r,o}xt.exports.__extends(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(Ue);var Ad={line:Nn,pie:qr,column:xr,bar:Sr,area:Zn,gauge:wf,"tiny-line":Jo,"tiny-column":ea,"tiny-area":Zo,"ring-progress":Ma,progress:Fa,scatter:no,histogram:va,funnel:lu},kd={line:Gn,pie:Hr,column:br,bar:Dr,area:Jn,gauge:Ff,"tiny-line":Qo,"tiny-column":ia,"tiny-area":aa,"ring-progress":Oa,progress:Aa,scatter:io,histogram:ya,funnel:uu},Sd={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function Md(t,e,n){var r=kd[t];r?(0,Ad[t])({chart:e,options:le({},r.getDefaultOptions(),a(Sd,t,{}),n)}):console.error("could not find "+t+" plot")}function Dd(t){var e=t.chart,n=t.options,r=n.views,i=n.legend;return v(r,(function(t){var n=t.region,r=t.data,i=t.meta,o=t.axes,a=t.coordinate,s=t.interactions,l=t.annotations,u=t.tooltip,c=t.geometries,f=e.createView({region:n});f.data(r);var p={};o&&v(o,(function(t,e){p[e]=Vt(t,Ze)})),p=le({},i,p),f.scale(p),o?v(o,(function(t,e){f.axis(e,t)})):f.axis(!1),f.coordinate(a),v(c,(function(t){var e=Sn({chart:f,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),v(s,(function(t){!1===t.enable?f.removeInteraction(t.type):f.interaction(t.type,t.cfg)})),v(l,(function(t){f.annotation()[t.type](xt.exports.__assign({},t))})),"boolean"==typeof t.animation?f.animate(!1):(f.animate(!0),v(f.geometries,(function(e){e.animate(t.animation)}))),u&&(f.interaction("tooltip"),f.tooltip(u))})),i?v(i,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function Od(t){var e=t.chart,n=t.options.plots;return v(n,(function(t){var n=t.type,r=t.region,i=t.options,o=void 0===i?{}:i,a=o.tooltip,s=e.createView(xt.exports.__assign({region:r},Vt(o,Ye)));a&&s.interaction("tooltip"),Md(n,s,o)})),t}function Ed(t){return jt(gn,Dd,Od,hn,gn,vn,dn)(t)}var zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt.exports.__extends(e,t),e.prototype.getAssociationItems=function(t,e){var n,r=this.context.event,i=e||{},o=i.linkField,s=i.dim,l=[];if(null===(n=r.data)||void 0===n?void 0:n.data){var u=r.data.data;v(t,(function(t){var e,n,r=o;if("x"===s?r=t.getXScale().field:"y"===s?r=null===(e=t.getYScales().find((function(t){return t.field===r})))||void 0===e?void 0:e.field:r||(r=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),r){var i=R(Zt(t),(function(e){var n=!1,i=!1,o=_(u)?a(u[0],r):a(u,r);return function(t,e){var n=t.getModel().data;return _(n)?n[0][e]:n[e]}(e,r)===o?n=!0:i=!0,{element:e,view:t,active:n,inactive:i}}));l.push.apply(l,i)}}))}return l},e.prototype.showTooltip=function(t){var e=te(this.context.view),n=this.getAssociationItems(e,t);v(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=te(this.context.view);v(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=Qt(this.context.view),n=this.getAssociationItems(e,t);v(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=Qt(this.context.view),n=this.getAssociationItems(e,t);v(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=Qt(this.context.view),n=this.getAssociationItems(e,t);v(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=Qt(this.context.view);v(t,(function(t){var e;e=Zt(t),v(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}))},e}(C);P("association",zd),I("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),I("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),I("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),I("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var Cd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return xt.exports.__extends(e,t),e.prototype.getSchemaAdaptor=function(){return Ed},e}(Ue);function Pd(t){var e=t.chart,n=t.options,r=n.type,i=n.data,o=n.fields,a=n.eachView,s=T(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(i),e.facet(r,xt.exports.__assign(xt.exports.__assign({},s),{fields:o,eachView:function(t,e){var n=a(t,e);if(n.geometries)!function(t,e){var n=e.data,r=e.coordinate,i=e.interactions,o=e.annotations,a=e.animation,s=e.tooltip,l=e.axes,u=e.meta,c=e.geometries;n&&t.data(n);var f={};l&&v(l,(function(t,e){f[e]=Vt(t,Ze)})),f=le({},u,f),t.scale(f),r&&t.coordinate(r),!1===l?t.axis(!1):v(l,(function(e,n){t.axis(n,e)})),v(c,(function(e){var n=Sn({chart:t,options:e}).ext,r=e.adjust;r&&n.geometry.adjust(r)})),v(i,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),v(o,(function(e){t.annotation()[e.type](xt.exports.__assign({},e))})),"boolean"==typeof a?t.animate(!1):(t.animate(!0),v(t.geometries,(function(t){t.animate(a)}))),s?(t.interaction("tooltip"),t.tooltip(s)):!1===s&&t.removeInteraction("tooltip")}(t,n);else{var r=n,i=r.options;i.tooltip&&t.interaction("tooltip"),Md(r.type,t,i)}}})),t}function Id(t){var e=t.chart,n=t.options,r=n.axes,i=n.meta,o=n.tooltip,a=n.coordinate,s=n.theme,l=n.legend,u=n.interactions,c=n.annotations,f={};return r&&v(r,(function(t,e){f[e]=Vt(t,Ze)})),f=le({},i,f),e.scale(f),e.coordinate(a),r?v(r,(function(t,n){e.axis(n,t)})):e.axis(!1),o?(e.interaction("tooltip"),e.tooltip(o)):!1===o&&e.removeInteraction("tooltip"),e.legend(l),s&&e.theme(s),v(u,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),v(c,(function(t){e.annotation()[t.type](xt.exports.__assign({},t))})),t}function Rd(t){return jt(vn,Pd,Id)(t)}var Td,$d={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}xt.exports.__extends(e,t),e.getDefaultOptions=function(){return $d},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Rd}}(Ue),function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"}(Td||(Td={})),function(){function t(){}Object.defineProperty(t,"MultiView",{get:function(){var t,e;return t=Td.STABLE,e="MultiView",console.warn(t===Td.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":t===Td.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":t===Td.STABLE?"Plot '"+e+"' is in STABLE stage, import it by \"import { "+e+" } from '@antv/g2plot'\".":"invalid Stage type."),Cd},enumerable:!1,configurable:!0})}(),ke("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),ke("zh-CN",{locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}});var Bd=function(t,e){var n=new Fu(t,{percent:.26,radius:.8,height:128,statistic:{title:{formatter:function(){return e},style:function(t){return{fill:t.percent>.65?"white":"rgba(44,53,66,0.85)"}}},content:{style:function(t){return{fontSize:60,lineHeight:1,fill:t.percent>.65?"white":"rgba(44,53,66,0.85)"}},customHtml:function(t,e,n){var r=n.percent,i=t.getBoundingClientRect(),o=i.width,a=i.height,s=Math.sqrt(Math.pow(o/2,2)+Math.pow(a/2,2)),l="占比 ".concat((100*r).toFixed(0),"%"),u=ge(l,{fontSize:60}),c=Math.min(s/u,1);return'<div style="width:'.concat(s,"px;display:flex;align-items:center;justify-content:center;font-size:").concat(c,"em;line-height:").concat(c<=1?1:"inherit",'">').concat(l,"</div>")}}},liquidStyle:function(t){var e=t.percent;return{fill:e>.45?"#5B8FF9":"#FAAD14",stroke:e>.45?"#5B8FF9":"#FAAD14"}},color:function(){return"#5B8FF9"}});n.render();var r=.25,i=setInterval((function(){(r+=Math.min(.1*Math.random(),.1))<.75?n.changeData(r):clearInterval(i)}),500)},Wd=bt({name:"Analysis",setup:function(){var t=_t(),n=_t(),r=_t(),i=_t(),o=_t(),a=_t(),s=_t(),l=_t(),u=wt({cardItems:[{id:1,itemName:"我的项目数",name:"totalNum",itemCount:25,background:"#bdc6cf",icon:"el-icon-data-board"},{id:2,itemName:"在线项目数",name:"onlineNum",itemCount:5,background:"#7dc855",icon:"ic ic-flashlight"},{id:3,itemName:"草稿项目数",name:"draftNum",itemCount:3,background:"#838cc7",icon:"ic ic-brush"},{id:4,itemName:"下线项目数",name:"offlineNum",itemCount:6,background:"#ffbe0b",icon:"el-icon-bell"},{id:5,itemName:"我的模板",name:"templateNum",itemCount:10,background:"#358ed7",icon:"el-icon-wind-power"},{id:6,itemName:"页面总访问数",name:"viewsPV",itemCount:100,background:"#53bbb3",icon:"ic ic-group"},{id:7,itemName:"页面独立访问数",name:"viewsUV",itemCount:1009,background:"#39add1",icon:"el-icon-s-data"}]});return Ft((function(){var e,u,c;Bd(t.value,"盈利率"),Bd(n.value,"今日UV"),Bd(r.value,"今日PV"),Bd(i.value,"净增长"),e=o.value,(u=new w({container:e,autoFit:!0,height:500})).data([{type:"一线城市",value:.19},{type:"二线城市",value:.21},{type:"三线城市",value:.27},{type:"四线及以下",value:.33}]),u.coordinate("theta",{radius:.75}),u.tooltip({showMarkers:!1}),u.interval().adjust("stack").position("value").color("type",["#063d8a","#1770d6","#47abfc","#38c060"]).style({opacity:.4}).state({active:{style:function(t){var e=t.shape;return{matrix:A.zoom(e,1.1)}}}}).label("type",(function(t){return{offset:-30,style:{opacity:"四线及以下"===t?1:.5,fill:"white",fontSize:12,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},content:function(t){return"".concat(t.type,"\n").concat(t.value,"%")}}})),u.interaction("element-single-selected"),u.render(),c=a.value,new Dr(c,{data:[{action:"浏览网站",pv:5e4},{action:"放入购物车",pv:35e3},{action:"生成订单",pv:25e3},{action:"支付订单",pv:15e3},{action:"完成交易",pv:8500}],xField:"pv",yField:"action",conversionTag:{},theme:"default"}).render(),function(t){var e=(new yt).createView().source({nodes:[{name:"首次打开"},{name:"结果页"},{name:"验证页"},{name:"我的"},{name:"朋友"},{name:"其他来源"},{name:"首页 UV"},{name:"我的"},{name:"扫一扫"},{name:"服务"},{name:"蚂蚁森林"},{name:"跳失"},{name:"借呗"},{name:"花呗"},{name:"其他流向"}],links:[{source:0,target:6,value:160},{source:1,target:6,value:40},{source:2,target:6,value:10},{source:3,target:6,value:10},{source:4,target:6,value:8},{source:5,target:6,value:27},{source:6,target:7,value:30},{source:6,target:8,value:40},{source:6,target:9,value:35},{source:6,target:10,value:25},{source:6,target:11,value:10},{source:6,target:12,value:30},{source:6,target:13,value:40},{source:6,target:14,value:45}]},{type:"graph",edges:function(t){return t.links}});e.transform({type:"diagram.sankey",nodeWidth:.008,nodePadding:.03,sort:function(t,e){return t.value>e.value?0:t.value<e.value?-1:0}});var n=e.edges.map((function(t){return{source:t.source.name,target:t.target.name,name:"首页 UV"===t.source.name?t.target.name:t.source.name,x:t.x,y:t.y,value:t.value}})),r=e.nodes.map((function(t){return{x:t.x,y:t.y,name:t.name}})),i=new w({container:t,autoFit:!0,height:500,appendPadding:16,syncViewPadding:!0});i.legend(!1),i.tooltip({showTitle:!1,showMarkers:!1}),i.axis(!1),i.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},source:{sync:"color"},name:{sync:"color"}});var o=i.createView();o.data(r),o.polygon().position("x*y").color("name").label("x*name",(function(t,e){var n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8,content:e}})).tooltip(!1).style("name",(function(t){return"跳失"===t?{fill:"#FF6010",stroke:"#FF6010"}:"首页 UV"===t?{fill:"#5D7092",stroke:"#5D7092"}:{}}));var a=i.createView();a.data(n),console.log(n),a.edge().position("x*y").shape("arc").color("name").tooltip("target*source*value",(function(t,e,n){return{name:"".concat(e," to ").concat(t),value:n}})).style("source*target",(function(t,e){return t.includes("其他")||e.includes("其他")?{lineWidth:0,opacity:.4,fill:"#CCC",stroke:"#CCC"}:"跳失"===e?{lineWidth:0,opacity:.4,fill:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2",stroke:"l(0) 0:#FFBB9E 0.2:#FFC8B4 1:#FFFCF2"}:{opacity:.2,lineWidth:0}})).state({active:{style:{opacity:.8,lineWidth:0}}}),i.interaction("element-active"),i.render()}(s.value),function(t){var e=[{type:"未知",value:654,percent:.02},{type:"17 岁以下",value:654,percent:.02},{type:"18-24 岁",value:4400,percent:.2},{type:"25-29 岁",value:5300,percent:.24},{type:"30-39 岁",value:6200,percent:.28},{type:"40-49 岁",value:3300,percent:.14},{type:"50 岁以上",value:1500,percent:.06}],n=new w({container:t,autoFit:!0,height:500,padding:[50,20,50,20]});n.data(e),n.scale("value",{alias:"销售额(万)"}),n.axis("type",{tickLine:{alignTick:!1}}),n.axis("value",!1),n.tooltip({showMarkers:!1}),n.interval().position("type*value"),n.interaction("element-active"),e.forEach((function(t){n.annotation().text({position:[t.type,t.value],content:t.value,style:{textAlign:"center"},offsetY:-30}).text({position:[t.type,t.value],content:"".concat((100*t.percent).toFixed(0),"%"),style:{textAlign:"center"},offsetY:-12})})),n.render()}(l.value)})),e(e({plot1Ref:t,plot2Ref:n,plot3Ref:r,plot4Ref:i,chartRef:o,barRef:a,indicatorRef:s},At(u)),{},{ageRef:l})}}),Ld={class:"analysis-info"},Nd={class:"info"},jd=function(t){return Tt("data-v-6f2ba6b0"),t=t(),$t(),t}((function(){return Dt("span",{style:{display:"block","font-size":"24px",margin:"24px 0"}},"数据可视化",-1)})),Vd={style:{"text-align":"left"}},Gd=Bt("数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息，"),qd=Bt("AntV G2 让数据栩栩如生"),Hd={class:"card-info"},Xd={class:"info-left"},Yd={class:"img-avatar bg-gray-light-o img-avatar-48"},Ud={class:"info-right"},Zd={class:"name font-weight-light"},Kd={class:"count"},Jd=Bt(" 经营状况 "),Qd={ref:"plot1Ref"},th={ref:"plot2Ref"},eh={ref:"plot3Ref"},nh={ref:"plot4Ref"},rh=Bt(" 转化率 "),ih={ref:"barRef"},oh=Bt(" 城市分布 "),ah={ref:"chartRef"},sh=Bt(" 指标转化桑基图 "),lh={ref:"indicatorRef"},uh=Bt(" 用户年龄分布 "),ch={ref:"ageRef"};t("default",mt(Wd,[["render",function(t,e,n,r,i,o){var a=kt("el-link"),s=kt("el-card"),l=kt("el-col"),u=kt("el-row");return St(),Mt("div",Ld,[Dt("div",Nd,[jd,Dt("span",Vd,[Gd,Ot(a,{type:"primary",href:"https://g2.antv.vision/zh/examples/"},{default:Et((function(){return[qd]})),_:1})])]),Ot(s,null,{default:Et((function(){return[Ot(u,{gutter:20,type:"flex"},{default:Et((function(){return[(St(!0),Mt(zt,null,Ct(t.cardItems,(function(t){return St(),Pt(l,{key:t.id,xs:12,sm:8,md:6,lg:5,xl:4},{default:Et((function(){return[Ot(s,{shadow:"always","body-style":{cursor:"pointer",padding:"16px","background-color":t.background}},{default:Et((function(){return[Dt("div",Hd,[Dt("div",Xd,[Dt("span",Yd,[Dt("i",{class:It(t.icon)},null,2)])]),Dt("div",Ud,[Dt("span",Zd,Rt(t.itemName),1),Dt("h3",Kd,Rt(t.itemCount),1)])])]})),_:2},1032,["body-style"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Ot(u,{style:{margin:"15px"}},{default:Et((function(){return[Ot(l,{span:16},{default:Et((function(){return[Ot(u,null,{default:Et((function(){return[Ot(l,{span:6},{default:Et((function(){return[Jd]})),_:1})]})),_:1}),Ot(u,null,{default:Et((function(){return[Ot(l,{span:6},{default:Et((function(){return[Dt("div",Qd,null,512)]})),_:1}),Ot(l,{span:6},{default:Et((function(){return[Dt("div",th,null,512)]})),_:1}),Ot(l,{span:6},{default:Et((function(){return[Dt("div",eh,null,512)]})),_:1}),Ot(l,{span:6},{default:Et((function(){return[Dt("div",nh,null,512)]})),_:1})]})),_:1}),Ot(u,null,{default:Et((function(){return[Ot(u,null,{default:Et((function(){return[Ot(l,{span:24},{default:Et((function(){return[rh]})),_:1})]})),_:1}),Ot(l,{span:24},{default:Et((function(){return[Dt("div",ih,null,512)]})),_:1})]})),_:1})]})),_:1}),Ot(l,{span:8},{default:Et((function(){return[Ot(u,null,{default:Et((function(){return[oh]})),_:1}),Dt("div",ah,null,512)]})),_:1})]})),_:1}),Ot(u,{justify:"start"},{default:Et((function(){return[sh]})),_:1}),Ot(u,null,{default:Et((function(){return[Ot(l,{span:24},{default:Et((function(){return[Dt("div",lh,null,512)]})),_:1})]})),_:1}),Ot(u,{justify:"start"},{default:Et((function(){return[uh]})),_:1}),Ot(u,null,{default:Et((function(){return[Ot(l,{span:24},{default:Et((function(){return[Dt("div",ch,null,512)]})),_:1})]})),_:1})])}],["__scopeId","data-v-6f2ba6b0"]]))}}}))}();
