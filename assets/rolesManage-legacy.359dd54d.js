!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(r){n(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw a}}}}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return r};var r={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{s({},"")}catch(S){s=function(e,r,t){return e[r]=t}}function u(e,r,t,n){var o=r&&r.prototype instanceof p?r:p,l=Object.create(o.prototype),a=new j(n||[]);return l._invoke=function(e,r,t){var n="suspendedStart";return function(o,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw l;return E()}for(t.method=o,t.arg=l;;){var a=t.delegate;if(a){var i=w(a,t);if(i){if(i===d)continue;return i}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===n)throw n="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n="executing";var c=f(e,r,t);if("normal"===c.type){if(n=t.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(n="completed",t.method="throw",t.arg=c.arg)}}}(e,t,a),l}function f(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(S){return{type:"throw",arg:S}}}r.wrap=u;var d={};function p(){}function h(){}function g(){}var b={};s(b,l,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(O([])));v&&v!==t&&n.call(v,l)&&(b=v);var y=g.prototype=p.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(r){s(e,r,(function(e){return this._invoke(r,e)}))}))}function x(r,t){function o(l,a,i,c){var s=f(r[l],r,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==e(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(s.arg)}var l;this._invoke=function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return l=l?l.then(n,n):n()}}function w(e,r){var t=e.iterator[r.method];if(void 0===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,w(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(t,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,d;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function z(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var t=-1,o=function r(){for(;++t<e.length;)if(n.call(e,t))return r.value=e[t],r.done=!1,r;return r.value=void 0,r.done=!0,r};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=g,s(y,"constructor",g),s(g,"constructor",h),h.displayName=s(g,c,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===h||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},r.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,i,(function(){return this})),r.AsyncIterator=x,r.async=function(e,t,n,o,l){void 0===l&&(l=Promise);var a=new x(u(e,t,n,o),l);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),s(y,c,"Generator"),s(y,l,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function t(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],a=l.completion;if("root"===l.tryLoc)return t("end");if(l.tryLoc<=this.prev){var i=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(i&&c){if(this.prev<l.catchLoc)return t(l.catchLoc,!0);if(this.prev<l.finallyLoc)return t(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return t(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return t(l.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var a=l?l.completion:{};return a.type=e,a.arg=r,l?(this.method="next",this.next=l.finallyLoc,d):this.complete(a)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),d},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),z(t),d}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;z(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,t){return this.delegate={iterator:O(e),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},r}function i(e,r,t,n,o,l,a){try{var i=e[l](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(n,o)}function c(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=document.createElement("style");s.innerHTML='.el-alert{--el-alert-padding: 8px 16px;--el-alert-border-radius-base: var(--el-border-radius-base);--el-alert-title-font-size: 13px;--el-alert-description-font-size: 12px;--el-alert-close-font-size: 12px;--el-alert-close-customed-font-size: 13px;--el-alert-icon-size: 16px;--el-alert-icon-large-size: 28px;width:100%;padding:var(--el-alert-padding);margin:0;box-sizing:border-box;border-radius:var(--el-alert-border-radius-base);position:relative;background-color:var(--el-color-white);overflow:hidden;opacity:1;display:flex;align-items:center;transition:opacity var(--el-transition-duration-fast)}.el-alert.is-light .el-alert__close-btn{color:var(--el-text-color-placeholder)}.el-alert.is-dark .el-alert__close-btn,.el-alert.is-dark .el-alert__description{color:var(--el-color-white)}.el-alert.is-center{justify-content:center}.el-alert--success{--el-alert-bg-color: var(--el-color-success-light-9)}.el-alert--success.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-success)}.el-alert--success.is-light .el-alert__description{color:var(--el-color-success)}.el-alert--success.is-dark{background-color:var(--el-color-success);color:var(--el-color-white)}.el-alert--info{--el-alert-bg-color: var(--el-color-info-light-9)}.el-alert--info.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-info)}.el-alert--info.is-light .el-alert__description{color:var(--el-color-info)}.el-alert--info.is-dark{background-color:var(--el-color-info);color:var(--el-color-white)}.el-alert--warning{--el-alert-bg-color: var(--el-color-warning-light-9)}.el-alert--warning.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-warning)}.el-alert--warning.is-light .el-alert__description{color:var(--el-color-warning)}.el-alert--warning.is-dark{background-color:var(--el-color-warning);color:var(--el-color-white)}.el-alert--error{--el-alert-bg-color: var(--el-color-error-light-9)}.el-alert--error.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-error)}.el-alert--error.is-light .el-alert__description{color:var(--el-color-error)}.el-alert--error.is-dark{background-color:var(--el-color-error);color:var(--el-color-white)}.el-alert__content{display:table-cell;padding:0 8px}.el-alert .el-alert__icon{font-size:var(--el-alert-icon-size);width:var(--el-alert-icon-size)}.el-alert .el-alert__icon.is-big{font-size:var(--el-alert-icon-large-size);width:var(--el-alert-icon-large-size)}.el-alert__title{font-size:var(--el-alert-title-font-size);line-height:18px;vertical-align:text-top}.el-alert__title.is-bold{font-weight:700}.el-alert .el-alert__description{font-size:var(--el-alert-description-font-size);margin:5px 0 0}.el-alert .el-alert__close-btn{font-size:var(--el-alert-close-font-size);opacity:1;position:absolute;top:12px;right:15px;cursor:pointer}.el-alert .el-alert__close-btn.is-customed{font-style:normal;font-size:var(--el-alert-close-customed-font-size);top:9px}.el-alert-fade-enter-from,.el-alert-fade-leave-active{opacity:0}.el-transfer{--el-transfer-border-color: var(--el-border-color-lighter);--el-transfer-border-radius: var(--el-border-radius-base);--el-transfer-panel-width: 200px;--el-transfer-panel-header-height: 40px;--el-transfer-panel-header-bg-color: var(--el-fill-color-light);--el-transfer-panel-footer-height: 40px;--el-transfer-panel-body-height: 278px;--el-transfer-item-height: 30px;--el-transfer-filter-height: 32px}.el-transfer{font-size:var(--el-font-size-base)}.el-transfer__buttons{display:inline-block;vertical-align:middle;padding:0 30px}.el-transfer__button{vertical-align:top}.el-transfer__button:nth-child(2){margin:0 0 0 10px}.el-transfer__button i,.el-transfer__button span{font-size:14px}.el-transfer__button .el-icon+span{margin-left:0}.el-transfer-panel{overflow:hidden;background:var(--el-bg-color-overlay);display:inline-block;text-align:left;vertical-align:middle;width:var(--el-transfer-panel-width);max-height:100%;box-sizing:border-box;position:relative}.el-transfer-panel__body{height:var(--el-transfer-panel-body-height);border-left:1px solid var(--el-transfer-border-color);border-right:1px solid var(--el-transfer-border-color);border-bottom:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius);overflow:hidden}.el-transfer-panel__body.is-with-footer{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.el-transfer-panel__list{margin:0;padding:6px 0;list-style:none;height:var(--el-transfer-panel-body-height);overflow:auto;box-sizing:border-box}.el-transfer-panel__list.is-filterable{height:calc(100% - var(--el-transfer-filter-height) - 30px);padding-top:0}.el-transfer-panel__item{height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);padding-left:15px;display:block!important}.el-transfer-panel__item+.el-transfer-panel__item{margin-left:0}.el-transfer-panel__item.el-checkbox{color:var(--el-text-color-regular)}.el-transfer-panel__item:hover{color:var(--el-color-primary)}.el-transfer-panel__item.el-checkbox .el-checkbox__label{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;padding-left:22px;line-height:var(--el-transfer-item-height)}.el-transfer-panel__item .el-checkbox__input{position:absolute;top:8px}.el-transfer-panel__filter{text-align:center;margin:15px;box-sizing:border-box;width:auto}.el-transfer-panel__filter .el-input__inner{height:var(--el-transfer-filter-height);width:100%;font-size:12px;display:inline-block;box-sizing:border-box;border-radius:calc(var(--el-transfer-filter-height) / 2)}.el-transfer-panel__filter .el-icon-circle-close{cursor:pointer}.el-transfer-panel .el-transfer-panel__header{display:flex;align-items:center;height:var(--el-transfer-panel-header-height);background:var(--el-transfer-panel-header-bg-color);margin:0;padding-left:15px;border:1px solid var(--el-transfer-border-color);border-top-left-radius:var(--el-transfer-border-radius);border-top-right-radius:var(--el-transfer-border-radius);box-sizing:border-box;color:var(--el-color-black)}.el-transfer-panel .el-transfer-panel__header .el-checkbox{position:relative;display:flex;width:100%;align-items:center}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label{font-size:16px;color:var(--el-text-color-primary);font-weight:400}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span{position:absolute;right:15px;top:50%;transform:translate3d(0,-50%,0);color:var(--el-text-color-secondary);font-size:12px;font-weight:400}.el-transfer-panel .el-transfer-panel__footer{height:var(--el-transfer-panel-footer-height);background:var(--el-bg-color-overlay);margin:0;padding:0;border:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius)}.el-transfer-panel .el-transfer-panel__footer:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-transfer-panel .el-transfer-panel__footer .el-checkbox{padding-left:20px;color:var(--el-text-color-regular)}.el-transfer-panel .el-transfer-panel__empty{margin:0;height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);padding:6px 15px 0;color:var(--el-text-color-secondary);text-align:center}.el-transfer-panel .el-checkbox__label{padding-left:8px}.el-transfer-panel .el-checkbox__inner{height:14px;width:14px;border-radius:3px}.el-transfer-panel .el-checkbox__inner:after{height:6px;width:3px;left:4px}.btns[data-v-7247ff70]{text-align:right}.el-transfer[data-v-7247ff70]{display:inline-block;text-align:left}.transfer[data-v-7247ff70]{text-align:center}.card-header[data-v-7247ff70]{text-align:left}\n',document.head.appendChild(s),System.register(["./vendor-legacy.2aac4817.js","./loading-legacy.a92cda73.js","./dialog-legacy.b0a805cc.js","./col-legacy.4976b2e9.js","./pagination-legacy.a6db97a4.js","./table-column-legacy.0f81edab.js","./checkbox-legacy.f04a5c48.js","./checkbox-group-legacy.c8d124f5.js","./index-legacy.8dfab32f.js"],(function(e){"use strict";var r,n,l,s,u,f,d,p,h,g,b,m,v,y,_,x,w,k,z,j,O,E,S,L,C,N,P,V,R,T,A,D,G,M,F,I,U,Y,$,q,B,H,J,Q,X,K,W;return{setters:[function(e){r=e.d,n=e.a1,l=e.e,s=e.q,u=e.c,f=e.v,d=e.x,p=e._,h=e.j,g=e.h,b=e.i,m=e.w,v=e.n,y=e.t,_=e.L,x=e.M,w=e.a0,k=e.ah,z=e.ai,j=e.b8,O=e.ay,E=e.R,S=e.ax,L=e.b9,C=e.r,N=e.aE,P=e.ba,V=e.bb,R=e.bc,T=e.aJ,A=e.z,D=e.m,G=e.a4,M=e.bd,F=e.y,I=e.aw,U=e.aP,Y=e.b4,$=e.X,q=e.aQ,B=e.be,H=e.a_,J=e.aY,Q=e.N},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(e){X=e.r,K=e.u,W=e._}],execute:function(){var Z="/api/auth/permission/routes",ee=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,t,n;return r=e,n=[{key:"postAuthPermission",value:function(e){return X({url:Z,method:"POST",json:!0,data:e}).then((function(e){return console.log(e),0===e.status?Promise.resolve(e):Promise.reject(e)}))}}],(t=null)&&c(r.prototype,t),n&&c(r,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),re=r({name:"RolesEdit",props:{currentRole:{type:Object,default:function(){return{roleName:"",state:1}}}},emits:["success"],setup:function(e,r){var c=r.emit,p=n(e,"currentRole"),h=K(),g=l((function(){return h.getters["settingsModule/getLangState"]})),b=s({url:"/role/allow",purl:"/role/permissions",loading:!1,form:{key:"",label:""},menu:{loading:!1,url:"/menu/list",data:[],form:[]}}),m=l((function(){return p.value.role})),v=l((function(){return h.state.permissionModule.routes})),y=function(){var e,r=(e=a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={roleName:m.value.roleName},e.next=3,ee.postAuthPermission(r);case 3:null!=(t=e.sent)&&t.data&&(n=t.data.authedRoutes,b.menu.form=n);case 5:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var l=e.apply(r,t);function a(e){i(l,n,o,a,c,"next",e)}function c(e){i(l,n,o,a,c,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),_=function(){var e,r=o(v.value);try{for(r.s();!(e=r.n()).done;){var t,n,l=e.value;if(null==l||null===(t=l.meta)||void 0===t||!t.hidden)b.menu.data.push({key:null==l?void 0:l.path,label:null==l||null===(n=l.meta)||void 0===n?void 0:n.title[g.value]})}}catch(a){r.e(a)}finally{r.f()}};return u((function(){_()})),f((function(){y()})),t(t({},d(b)),{},{lang:g,role:m,fetchMenuData:_,saveData:function(){console.log("form is ",b.menu.form),c("success")}})}}),te=function(e){return _("data-v-7247ff70"),e=e(),x(),e},ne={class:"wrapper"},oe={class:"card-header"},le=te((function(){return v("br",null,null,-1)})),ae=te((function(){return v("i",{class:"fa fa-check"},null,-1)})),ie=w(" 确认修改 ");var ce=W(re,[["render",function(e,r,t,n,o,l){var a=k,i=z,c=j,s=O,u=E,f=S,d=L;return p((h(),g("div",ne,[b(s,{class:"transfer"},{header:m((function(){return[v("span",null,[v("div",oe,[b(i,{"label-position":"left",inline:"",class:"info-table"},{default:m((function(){return[b(a,{label:"名称"},{default:m((function(){return[v("span",null,y(e.role.roleName),1)]})),_:1})]})),_:1})])])]})),default:m((function(){return[p(b(c,{modelValue:e.menu.form,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.menu.form=r}),data:e.menu.data,titles:["菜单","已授权"]},null,8,["modelValue","data"]),[[d,e.menu.loading]])]})),_:1}),le,b(f,{class:"btns"},{default:m((function(){return[b(u,{size:"mini",type:"primary",disabled:0==e.role.state,onClick:e.saveData},{default:m((function(){return[ae,ie]})),_:1},8,["disabled","onClick"])]})),_:1})])),[[d,e.loading]])}],["__scopeId","data-v-7247ff70"]]),se=r({name:"RoleNew",emits:["success"],setup:function(e,r){var n=r.emit,o=C(),l=s({form:{roleName:"",remark:""},loading:!1});return t({submitForm:function(){o.value.validate((function(e){return e?(n("success",t({},l.form)),!0):(console.log("error submit!!"),!1)}))},rules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}]},formRef:o,url:"/role/add"},d(l))}}),ue={class:"new"},fe=v("i",{class:"fa fa-plus"},null,-1),de=w(" 新增 ");var pe=r({name:"RoleManage",components:{RoleEdit:ce,RoleNew:W(se,[["render",function(e,r,t,n,o,l){var a=N,i=k,c=E,s=S,u=z,f=L;return p((h(),g("div",ue,[b(u,{ref:"formRef",model:e.form,rules:e.rules,"label-position":"right","label-width":"100px"},{default:m((function(){return[b(i,{label:"角色名称",prop:"roleName"},{default:m((function(){return[b(a,{modelValue:e.form.roleName,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.form.roleName=r}),placeholder:"请输入角色名称"},null,8,["modelValue"])]})),_:1}),b(i,{label:"备注"},{default:m((function(){return[b(a,{modelValue:e.form.remark,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.form.remark=r}),placeholder:"请输入备注"},null,8,["modelValue"])]})),_:1}),b(s,{class:"btn-container"},{default:m((function(){return[b(c,{size:"mini",type:"primary",onClick:r[2]||(r[2]=function(r){return e.submitForm()})},{default:m((function(){return[fe,de]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])),[[f,e.loading]])}]]),Edit:P,Minus:V,Plus:R,Refresh:T},setup:function(){var e=s({url:{c:"/role/add",r:"/role/list",u:"/role/update",d:"/role/delete"},param:{limit:10,page:1},data:[{roleName:"超级管理员",remark:"拥有删除和创建等操作的权限",state:0},{roleName:"管理员",remark:"拥有创建和权限分配的权限",state:0},{roleName:"游客",remark:"只拥有操作部分菜单的权限",state:1}],loading:!1,is_search:!1,add_visible:!1,edit_visible:!1,detail_visible:!1,posted:{role:{roleName:"",state:1}}}),r=l((function(){return e.data.length}));return t(t({},d(e)),{},{total:r,onCurrentChange:function(){},onSizeChange:function(r){e.param.limit=r},onCreate:function(){e.add_visible=!0},onCreateSuccess:function(r){console.log(r);var t={roleName:r.roleName,remark:r.remark,state:1};e.data.push(t),e.add_visible=!1},onEditSuccess:function(){e.edit_visible=!1},onRefresh:function(){e.is_search=!1},onEdit:function(r,t){console.log("row",t),e.posted.role=t,e.edit_visible=!0},onDelete:function(e,r){console.log(e,r),function(e){console.log(e),J.confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Q({type:"success",message:"删除成功"})})).catch((function(){Q({type:"info",message:"已取消删除"})}))}(e)}})}}),he=w(" 新增"),ge=w(" 刷新"),be=v("br",null,null,-1),me=v("i",{class:"ic ic-lock"},null,-1),ve=w(" 锁定"),ye=w("正常"),_e=w("未知"),xe={class:"pagination"};e("default",W(pe,[["render",function(e,r,t,n,o,l){var a=M,i=A("plus"),c=F,s=E,u=A("refresh"),f=I,d=S,y=U,_=Y,x=A("edit"),w=$,k=A("minus"),z=q,j=B,C=O,N=A("role-edit"),P=H,V=A("role-new"),R=L;return h(),g("div",null,[b(a,{title:"Tips:点击【新增】按钮进行新增角色；点击【编辑】按钮，进行不同角色的菜单授权操作！",type:"warning"}),b(a,{title:"Tips:权限控制体验：【管理员账号为：admin@outlook.com】、【超级管理员账号为：super@outlook.com】",type:"info"}),b(C,{class:"card-ctrl"},{default:m((function(){return[b(d,null,{default:m((function(){return[b(f,{span:8,style:{"text-align":"left"}},{default:m((function(){return[b(s,{type:"primary",size:"small",onClick:e.onCreate},{default:m((function(){return[b(c,null,{default:m((function(){return[b(i)]})),_:1}),he]})),_:1},8,["onClick"]),b(s,{type:"success",size:"small",onClick:e.onRefresh},{default:m((function(){return[b(c,null,{default:m((function(){return[b(u)]})),_:1}),ge]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),be,p((h(),D(z,{data:e.data,stripe:"",class:"table"},{default:m((function(){return[b(y,{prop:"roleName",label:"角色名称",align:"center"}),b(y,{prop:"state",label:"角色状态",align:"center"},{default:m((function(e){return[0==e.row.state?(h(),D(_,{key:0,size:"mini",type:"info"},{default:m((function(){return[me,ve]})),_:1})):1==e.row.state?(h(),D(_,{key:1,size:"mini",type:"success"},{default:m((function(){return[ye]})),_:1})):(h(),D(_,{key:2,size:"mini",type:"danger"},{default:m((function(){return[_e]})),_:1}))]})),_:1}),b(y,{prop:"remark",label:"备注",align:"center"}),b(y,{label:"操作",align:"center"},{default:m((function(r){return[b(w,{class:"item",effect:"dark",content:"菜单授权",placement:"bottom"},{default:m((function(){return[b(s,{circle:"",plain:"",type:"primary",size:"small",onClick:function(t){return e.onEdit(r.$index,r.row)}},{default:m((function(){return[b(c,null,{default:m((function(){return[b(x)]})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024),0!=r.row.state?(h(),D(w,{key:0,class:"item",effect:"dark",content:"删除",placement:"bottom"},{default:m((function(){return[b(s,{circle:"",plain:"",type:"danger",size:"small",onClick:function(t){return e.onDelete(r.$index,r.row)}},{default:m((function(){return[b(c,null,{default:m((function(){return[b(k)]})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024)):G("",!0)]})),_:1})]})),_:1},8,["data"])),[[R,e.loading]]),v("div",xe,[b(j,{"current-page":e.param.page,"page-size":e.param.limit,layout:"sizes,prev,pager,next,total","page-sizes":[5,10,20],total:e.total,background:"",onCurrentChange:e.onCurrentChange,onSizeChange:e.onSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]})),_:1}),b(P,{modelValue:e.edit_visible,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.edit_visible=r}),center:"",title:e.posted.role.roleName},{default:m((function(){return[b(N,{"current-role":e.posted,onSuccess:e.onEditSuccess},null,8,["current-role","onSuccess"])]})),_:1},8,["modelValue","title"]),b(P,{modelValue:e.add_visible,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.add_visible=r}),title:"新增角色"},{default:m((function(){return[b(V,{onSuccess:e.onCreateSuccess},null,8,["onSuccess"])]})),_:1},8,["modelValue"])])}]]))}}}))}();
