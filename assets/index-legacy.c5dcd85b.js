!function(){function e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],l=!0,u=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(i){u=!0,r=i}finally{try{l||null==a.return||a.return()}finally{if(u)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var o=document.createElement("style");o.innerHTML=".task-table[data-v-6c379f1e]{margin-top:16px}.board[data-v-409ef2a4]{padding:0 20px}.board__info[data-v-409ef2a4]{text-align:left}.board__info>span[data-v-409ef2a4]{font-size:12px;margin-bottom:20px;display:inline-block}.board__project[data-v-409ef2a4]{text-align:left}.board__project-title[data-v-409ef2a4]{font-size:18px;font-weight:bold}.board__project-list[data-v-409ef2a4]{display:flex;flex-wrap:wrap;margin-top:16px}.board__project-item[data-v-409ef2a4]{width:50%;width:calc(50% - 100px);margin-bottom:30px;margin-left:50px;cursor:pointer;border:1px solid transparent;max-width:700px;min-width:500px}.board__project-item--active[data-v-409ef2a4]{border-color:#2799c1;border-radius:4px}.board__project-avatar[data-v-409ef2a4]{font-size:20px;background:#7d9fe3;font-weight:bold}.board__detail[data-v-409ef2a4]{text-align:left}.board__detail-head[data-v-409ef2a4]{color:#706e6e}.board__detail-search[data-v-409ef2a4]{margin-top:60px;text-align:left}.board__detail-title[data-v-409ef2a4]{font-size:18px;font-weight:bold;margin-bottom:16px}.board__detail-empty[data-v-409ef2a4]{color:#d3d0d0;line-height:200px;text-align:center}.board__detail-wrap[data-v-409ef2a4]{min-height:200px}.board__detail-name[data-v-409ef2a4]{font-weight:bold}.board__detail-tag[data-v-409ef2a4]{margin-left:16px}.board__detail-task[data-v-409ef2a4]{margin-top:30px}\n",document.head.appendChild(o),System.register(["./lodash-legacy.f1c9f906.js","./index-legacy.3db86449.js","./vendor-legacy.e2c28588.js"],(function(e){"use strict";var a,r,o,l,u,i,d,c,f,s,p,_,v,m,b,y,g,k,j,w,x;return{setters:[function(e){a=e._},function(e){r=e.r},function(e){o=e.r,l=e.d,u=e.k,i=e.e,d=e.c,c=e.s,f=e.q,s=e.m,p=e.v,_=e.I,v=e.y,m=e.i,b=e.g,y=e.F,g=e.t,k=e.n,j=e.bn,w=e.p,x=e.f}],execute:function(){var h={class:"task-table"},V={key:1},O={key:1},P={key:1},S=_("保存"),I=_("编辑"),C=_("删除"),U=l({props:{data:null,status:null},emits:["updateTask","modifyProjectEdit"],setup:function(e,t){var a=t.emit;return function(t,n){var r=u("el-input"),o=u("el-table-column"),l=u("el-tag"),v=u("el-button"),m=u("el-popconfirm"),b=u("el-table");return i(),d("div",h,[c(b,{data:e.data,style:{width:"100%"}},{default:f((function(){return[c(o,{prop:"taskName",label:"任务名称"},{default:f((function(e){return[e.row.edit?(i(),s(r,{key:0,modelValue:e.row.taskName,"onUpdate:modelValue":function(t){return e.row.taskName=t}},null,8,["modelValue","onUpdate:modelValue"])):(i(),d("span",V,p(e.row.taskName),1))]})),_:1}),c(o,{prop:"developTime",label:"开发工时"},{default:f((function(e){return[e.row.edit?(i(),s(r,{key:0,modelValue:e.row.developTime,"onUpdate:modelValue":function(t){return e.row.developTime=t}},null,8,["modelValue","onUpdate:modelValue"])):(i(),d("span",O,p(e.row.developTime),1))]})),_:1}),c(o,{prop:"developMember",label:"开发人"},{default:f((function(e){return[e.row.edit?(i(),s(r,{key:0,modelValue:e.row.developMember,"onUpdate:modelValue":function(t){return e.row.developMember=t}},null,8,["modelValue","onUpdate:modelValue"])):(i(),d("span",P,p(e.row.developMember),1))]})),_:1}),c(o,{prop:"taskStatus",label:"任务状态"},{default:f((function(t){var a;return[t.row.edit?(i(),s(r,{key:0,modelValue:t.row.taskStatus,"onUpdate:modelValue":function(e){return t.row.taskStatus=e}},null,8,["modelValue","onUpdate:modelValue"])):(i(),s(l,{key:1,type:null===(a=e.status.get("".concat(t.row.taskStatus)))||void 0===a?void 0:a.type},{default:f((function(){var a;return[_(p(null===(a=e.status.get("".concat(t.row.taskStatus)))||void 0===a?void 0:a.text),1)]})),_:2},1032,["type"]))]})),_:1}),c(o,{label:"操作",width:"200"},{default:f((function(e){return[e.row.edit?(i(),s(v,{key:0,size:"mini",type:"success",icon:"el-icon-check",onClick:function(t){return n=e.$index,r=e.row,console.log(n,r),a("updateTask",n,r),void a("modifyProjectEdit",n,!1);var n,r}},{default:f((function(){return[S]})),_:2},1032,["onClick"])):(i(),s(v,{key:1,size:"mini",icon:"el-icon-edit",onClick:function(t){return n=e.$index,r=e.row,console.log(n,r),void a("modifyProjectEdit",n,!0);var n,r}},{default:f((function(){return[I]})),_:2},1032,["onClick"])),c(m,{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定删除该条记录吗？",onConfirm:n[0]||(n[0]=function(e){})},{reference:f((function(){return[c(v,{size:"mini",icon:"el-icon-delete",type:"danger"},{default:f((function(){return[C]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["data"])])}}});U.__scopeId="data-v-6c379f1e";var M=function(e){return w("data-v-409ef2a4"),e=e(),x(),e},T={class:"board"},z={class:"board__info"},E=_("项目看板"),L=M((function(){return b("span",null,"项目看板主要应用场景：项目的任务管理，任务进度管理等。",-1)})),N={class:"board__project"},A=M((function(){return b("div",{class:"board__project-title"},"项目概览",-1)})),D={class:"board__project-list"},$=["onClick"],q={class:"board__detail"},B=M((function(){return b("div",{class:"board__detail-title"},"项目详情",-1)})),F={key:0,class:"board__detail-empty"},H={key:1,class:"board__detail-content"},G={class:"board__detail-head"},J=M((function(){return b("span",{class:"board__detail-name"},"项目名称",-1)})),K=M((function(){return b("span",{class:"board__detail-name"},"负责人",-1)})),Q=M((function(){return b("span",{class:"board__detail-name"},"开发工时",-1)})),R=M((function(){return b("span",{class:"board__detail-name"},"项目状态",-1)})),W=M((function(){return b("span",{class:"board__detail-name"},"任务总数",-1)})),X=M((function(){return b("span",{class:"board__detail-name"},"任务进度",-1)})),Y=_("： "),Z={class:"board__detail-search"},ee=_("查询"),te={class:"board__detail-table"};e("default",l({setup:function(e){var l=v({taskStatus:"",developMember:""}),w=new Map([["1",{text:"准备阶段",type:"info"}],["2",{text:"开发中",type:""}],["3",{text:"开发完成",type:"success"}],["4",{text:"测试阶段",type:"danger"}],["5",{text:"待发布",type:"warning"}]]),x=o({}),h=function(){var e=o([]);return{data:e,getProjectInfo:function(){return r({url:"/api/project/list",method:"get",json:!0}).then((function(t){0===t.status&&(e.value=t.data)}))},updatedProjectInfo:function(t,n,r){var o=a.findIndex(e.value,["projectId",t]),l=e.value[o].taskList;e.value[o].taskList=a.map(l,(function(e,t){return t===n?r:e}))}}}(),V=h.data,O=h.getProjectInfo,P=h.updatedProjectInfo;O();var S=m((function(){return x.value.taskList}));function I(){console.log("search!")}function C(e,n){var r=a.get(x,"value.taskList")||[];x.value.taskList=a.map(r,(function(a,r){return e===r?t(t({},a),{},{edit:n}):a}))}function M(e,t){var a=x.value.projectId;P(a,e,t)}return function(e,r){var o=u("el-divider"),v=u("el-avatar"),m=u("el-col"),h=u("el-row"),O=u("el-card"),P=u("el-tag"),ae=u("el-input"),ne=u("el-form-item"),re=u("el-option"),oe=u("el-select"),le=u("el-button"),ue=u("el-form");return i(),d("div",T,[b("div",z,[c(o,{"content-position":"left"},{default:f((function(){return[E]})),_:1}),L]),b("div",N,[A,b("div",D,[(i(!0),d(y,null,g(j(V),(function(e,t){return i(),d("div",{key:t,class:k(["board__project-item",{"board__project-item--active":x.value.projectId===e.projectId}]),onClick:function(t){return a=e,void(x.value=a);var a}},[c(O,null,{default:f((function(){return[c(h,null,{default:f((function(){return[c(m,{span:5},{default:f((function(){return[c(v,{class:"board__project-avatar",size:90},{default:f((function(){return[_(p(e.projectName.substr(0,1)),1)]})),_:2},1024)]})),_:2},1024),c(m,{span:18,style:{"margin-left":"6px",color:"#7a848d"}},{default:f((function(){return[b("p",null,"项目名称："+p(e.projectName),1),b("p",null,"总负责人："+p(e.principal),1),b("p",null,"开发耗时："+p(e.timeConsuming),1),b("p",null,"项目状态: "+p(e.status),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)],10,$)})),128))])]),b("div",q,[B,c(O,{class:"board__detail-wrap"},{default:f((function(){return[x.value.projectId?(i(),d("div",H,[b("div",G,[c(h,null,{default:f((function(){return[c(m,{span:5},{default:f((function(){return[J,_("："+p(x.value.projectName),1)]})),_:1}),c(m,{span:5},{default:f((function(){return[K,_("："+p(x.value.principal),1)]})),_:1}),c(m,{span:5},{default:f((function(){return[Q,_("："+p(x.value.timeConsuming),1)]})),_:1}),c(m,{span:5},{default:f((function(){return[R,_("："+p(x.value.status),1)]})),_:1})]})),_:1}),c(h,{class:"board__detail-task"},{default:f((function(){return[c(m,{span:5},{default:f((function(){return[W,_("："+p(x.value.taskList.length),1)]})),_:1}),c(m,{span:18},{default:f((function(){return[X,Y,(i(!0),d(y,null,g((e=x.value.taskList,r=a.countBy(e,(function(e){return e.taskStatus})),a.map(Object.entries(r),(function(e){var a=n(e,2),r=a[0],o=a[1];return t(t({},w.get(r)),{},{count:o})}))),(function(e,t){return i(),s(P,{key:t,class:"board__detail-tag",type:e.type},{default:f((function(){return[_(p(e.text)+": "+p(e.count),1)]})),_:2},1032,["type"])})),128))];var e,r})),_:1})]})),_:1})]),c(o),b("div",Z,[c(ue,{inline:!0,model:j(l)},{default:f((function(){return[c(ne,{label:"开发人"},{default:f((function(){return[c(ae,{modelValue:j(l).developMember,"onUpdate:modelValue":r[0]||(r[0]=function(e){return j(l).developMember=e}),placeholder:"请输入开发人"},null,8,["modelValue"])]})),_:1}),c(ne,{label:"任务状态"},{default:f((function(){return[c(oe,{modelValue:j(l).taskStatus,"onUpdate:modelValue":r[1]||(r[1]=function(e){return j(l).taskStatus=e}),placeholder:"选择任务状态"},{default:f((function(){return[c(re,{label:"准备阶段",value:1}),c(re,{label:"开发中",value:2}),c(re,{label:"开发完成",value:3}),c(re,{label:"测试阶段",value:4}),c(re,{label:"待发布",value:5})]})),_:1},8,["modelValue"])]})),_:1}),c(ne,null,{default:f((function(){return[c(le,{type:"primary",onClick:I},{default:f((function(){return[ee]})),_:1})]})),_:1})]})),_:1},8,["model"])]),b("div",te,[c(U,{data:j(S),status:j(w),onUpdateTask:M,onModifyProjectEdit:C},null,8,["data","status"])])])):(i(),d("div",F,"请选择项目，查看项目详情！！！"))]})),_:1})])])}}})).__scopeId="data-v-409ef2a4"}}}))}();
