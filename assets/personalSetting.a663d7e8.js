var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,l,s)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,i=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&r(e,l,a[l]);if(s)for(var l of s(a))o.call(a,l)&&r(e,l,a[l]);return e};import{E as c}from"./element-plus.c35c14b5.js";import{a as n}from"./vue-router.5a690d96.js";import{S as u}from"./index.617115f2.js";import{a7 as d,k as p,r as m,av as f,v,aJ as b,aB as g,Z as j,a5 as h,b4 as y,_ as k,aE as w,aC as _,a4 as V}from"./@vue.9dcf4325.js";import{_ as F}from"./index.5e59d058.js";import"./lodash.a533b6d4.js";import"./resize-observer-polyfill.af5c5caa.js";import"./@popperjs.b42a2641.js";import"./dayjs.80b0a338.js";import"./mitt.06a3009f.js";import"./async-validator.9224cb80.js";import"./normalize-wheel.1d574cd1.js";import"./vue.1f809ab3.js";import"./vuex.110f31c1.js";import"./js-cookie.aa728e12.js";import"./css-color-function.a5ba1304.js";import"./color.ccf836c3.js";import"./clone.05e42b91.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./ms.ba588bd8.js";import"./path-to-regexp.2b09bab4.js";import"./fuse.js.c1e3c562.js";import"./path.8db65c51.js";import"./util.3d699e40.js";import"./axios.a57df465.js";import"./mockjs.26632a98.js";var S=d({name:"PersonalSetting",setup(){const e=n(),s=p("left"),t=p(),o=m({userSwitch:!1,sysSwitch:!0,taskSwitch:!0}),r=m({email:"",nickname:"",desc:"",mobile:""}),d=p(),b=p(!1),g={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],nickname:{required:!0,message:"请输入昵称",trigger:["blur","change"]},desc:{required:!0,message:"请输入个人简介",trigger:["blur","change"]},mobile:{required:!0,validator:(e,a,l)=>{if(""===a)l(new Error("手机号码不可为空哦"));else{/^1[3-9]\d{9}$/.test(a)?l():l(new Error("请输入正确的手机号码"))}},trigger:["blur","change"]}};f((()=>{}));return j=i({handleBack:()=>{e.go(-1)},tabPosition:s,settingFormRef:t,settingForm:r,submitForm:()=>{t.value.validate((async e=>{if(e){try{b.value=!0;const e=i({},r),a=await u.postSetBasicInfo(e);console.log(a),b.value=!1,c({type:"success",message:a.data.message})}catch(a){console.error(a)}return!0}return!1}))},resetForm:()=>{t.value.resetFields()},handleAvatarSuccess:(e,a)=>{d.value=URL.createObjectURL(a.raw)},beforeAvatarUpload:e=>{if(!/(gif|png|jpg|jpeg)$/i.test(e.type))return c({message:"上传头像图片只能是gif|png|jpg|jpeg 格式!",type:"warning"}),!1;const a=e.size/1024/1024<2;return a||c.error("上传头像图片大小不能超过 2MB!"),a},rules:g,imageUrl:d},v(o)),a(j,l({updateLoading:b}));var j}});const x=e=>(w("data-v-7c5182d4"),e=e(),_(),e),U={class:"PersonalSetting"},O={class:"grid-content bg-purple-dark"},P={class:"card-header"},B=x((()=>k("i",{class:"el-icon-arrow-left"},null,-1))),C=V("返回"),E=x((()=>k("span",null,"个人设置",-1))),q=x((()=>k("div",null,null,-1))),z=x((()=>k("div",{class:"set-title"},[k("span",null,"基本设置")],-1))),A={class:"set-info"},L={class:"form-info"},R=V("更新基本信息"),I=V("重置"),$={class:"avatar"},D=x((()=>k("div",{class:"preview"},[k("span",null,"头像"),k("img",{src:F})],-1))),J=x((()=>k("i",{class:"el-icon-upload"},null,-1))),M=V("更换头像"),Z=x((()=>k("div",{class:"set-title"},[k("span",null,"安全设置")],-1))),G=x((()=>k("div",{class:"secure-item"},[k("div",{class:"secure-info"},[k("span",{class:"secure-key"},"账户密码"),k("span",{class:"secure-value"},"当前密码强度：强")]),k("div",{class:"opera-btn"},[k("span",null,"修改")])],-1))),H=x((()=>k("div",{class:"secure-item"},[k("div",{class:"secure-info"},[k("span",{class:"secure-key"},"密保手机"),k("span",{class:"secure-value"},"已绑定手机：138****2234")]),k("div",{class:"opera-btn"},[k("span",null,"修改")])],-1))),K=x((()=>k("div",{class:"secure-item"},[k("div",{class:"secure-info"},[k("span",{class:"secure-key"},"绑定邮箱"),k("span",{class:"secure-value"},"已绑定邮箱：geek****@outlook.com")]),k("div",{class:"opera-btn"},[k("span",null,"修改")])],-1))),N=x((()=>k("div",{class:"set-title"},[k("span",null,"新消息通知")],-1))),Q={class:"secure-item"},T=x((()=>k("div",{class:"secure-info"},[k("span",{class:"secure-key"},"账户密码"),k("span",{class:"secure-value"},"用户信息将以系统内部渠道通知")],-1))),W={class:"secure-item"},X=x((()=>k("div",{class:"secure-info"},[k("span",{class:"secure-key"},"系统消息"),k("span",{class:"secure-value"},"系统消息将以系统内部渠道通知")],-1))),Y={class:"secure-item"},ee=x((()=>k("div",{class:"secure-info"},[k("span",{class:"secure-key"},"代办任务"),k("span",{class:"secure-value"},"代办任务将以系统内部渠道通知")],-1)));S.render=function(e,a,l,s,t,o){const r=b("el-button"),i=b("el-input"),c=b("el-form-item"),n=b("el-form"),u=b("el-upload"),d=b("el-tab-pane"),p=b("el-switch"),m=b("el-tooltip"),f=b("el-tabs"),v=b("el-card"),w=b("el-col"),_=b("el-row");return g(),j("div",U,[h(_,null,{default:y((()=>[h(w,{offset:1,span:22},{default:y((()=>[k("div",O,[h(v,{class:"box-card"},{header:y((()=>[k("div",P,[h(r,{class:"button",type:"text",onClick:e.handleBack},{default:y((()=>[B,C])),_:1},8,["onClick"]),E,q])])),default:y((()=>[h(f,{"tab-position":e.tabPosition},{default:y((()=>[h(d,{label:"基本设置"},{default:y((()=>[z,k("div",A,[k("div",L,[h(n,{ref:"settingFormRef",model:e.settingForm,rules:e.rules,"label-width":"100px",class:"demo-ruleForm"},{default:y((()=>[h(c,{label:"邮箱",prop:"email"},{default:y((()=>[h(i,{modelValue:e.settingForm.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.settingForm.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),h(c,{label:"昵称",prop:"nickname"},{default:y((()=>[h(i,{modelValue:e.settingForm.nickname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.settingForm.nickname=a),placeholder:"请输入昵称",maxlength:"10"},null,8,["modelValue"])])),_:1}),h(c,{label:"个人简介",prop:"desc"},{default:y((()=>[h(i,{modelValue:e.settingForm.desc,"onUpdate:modelValue":a[2]||(a[2]=a=>e.settingForm.desc=a),type:"textarea",placeholder:"个人简介",maxlength:"120"},null,8,["modelValue"])])),_:1}),h(c,{label:"联系电话",prop:"mobile"},{default:y((()=>[h(i,{modelValue:e.settingForm.mobile,"onUpdate:modelValue":a[3]||(a[3]=a=>e.settingForm.mobile=a),placeholder:"请输入11位大陆手机号码"},null,8,["modelValue"])])),_:1}),h(c,null,{default:y((()=>[h(r,{type:"primary",loading:e.updateLoading,onClick:a[4]||(a[4]=a=>e.submitForm())},{default:y((()=>[R])),_:1},8,["loading"]),h(r,{onClick:a[5]||(a[5]=a=>e.resetForm())},{default:y((()=>[I])),_:1})])),_:1})])),_:1},8,["model","rules"])]),k("div",$,[D,h(u,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},{default:y((()=>[h(r,{style:{"margin-left":"10px"},size:"small",type:"success"},{default:y((()=>[J,M])),_:1})])),_:1},8,["on-success","before-upload"])])])])),_:1}),h(d,{label:"安全设置"},{default:y((()=>[Z,G,H,K])),_:1}),h(d,{label:"新消息通知"},{default:y((()=>[N,k("div",Q,[T,h(m,{content:"是否开启用户信息: ",placement:"top"},{default:y((()=>[h(p,{modelValue:e.userSwitch,"onUpdate:modelValue":a[6]||(a[6]=a=>e.userSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})]),k("div",W,[X,h(m,{content:"是否开启系统消息: ",placement:"top"},{default:y((()=>[h(p,{modelValue:e.sysSwitch,"onUpdate:modelValue":a[7]||(a[7]=a=>e.sysSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})]),k("div",Y,[ee,h(m,{content:"是否开启代办任务消息: ",placement:"top"},{default:y((()=>[h(p,{modelValue:e.taskSwitch,"onUpdate:modelValue":a[8]||(a[8]=a=>e.taskSwitch=a),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1})])])),_:1})])),_:1},8,["tab-position"])])),_:1})])])),_:1})])),_:1})])},S.__scopeId="data-v-7c5182d4";export{S as default};
